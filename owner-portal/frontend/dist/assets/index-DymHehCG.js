function Ib(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(a,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();var oA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mm={exports:{}},ou={},Bm={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function Tb(){if(Qg)return Yt;Qg=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.iterator;function j(J){return J===null||typeof J!="object"?null:(J=b&&J[b]||J["@@iterator"],typeof J=="function"?J:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function C(J,E,R){this.props=J,this.context=E,this.refs=S,this.updater=R||y}C.prototype.isReactComponent={},C.prototype.setState=function(J,E){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,E,"setState")},C.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function L(){}L.prototype=C.prototype;function D(J,E,R){this.props=J,this.context=E,this.refs=S,this.updater=R||y}var _=D.prototype=new L;_.constructor=D,k(_,C.prototype),_.isPureReactComponent=!0;var F=Array.isArray,X=Object.prototype.hasOwnProperty,ue={current:null},le={key:!0,ref:!0,__self:!0,__source:!0};function ie(J,E,R){var G,oe={},$=null,fe=null;if(E!=null)for(G in E.ref!==void 0&&(fe=E.ref),E.key!==void 0&&($=""+E.key),E)X.call(E,G)&&!le.hasOwnProperty(G)&&(oe[G]=E[G]);var ke=arguments.length-2;if(ke===1)oe.children=R;else if(1<ke){for(var Se=Array(ke),Te=0;Te<ke;Te++)Se[Te]=arguments[Te+2];oe.children=Se}if(J&&J.defaultProps)for(G in ke=J.defaultProps,ke)oe[G]===void 0&&(oe[G]=ke[G]);return{$$typeof:e,type:J,key:$,ref:fe,props:oe,_owner:ue.current}}function ee(J,E){return{$$typeof:e,type:J.type,key:E,ref:J.ref,props:J.props,_owner:J._owner}}function me(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function O(J){var E={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(R){return E[R]})}var B=/\/+/g;function te(J,E){return typeof J=="object"&&J!==null&&J.key!=null?O(""+J.key):E.toString(36)}function re(J,E,R,G,oe){var $=typeof J;($==="undefined"||$==="boolean")&&(J=null);var fe=!1;if(J===null)fe=!0;else switch($){case"string":case"number":fe=!0;break;case"object":switch(J.$$typeof){case e:case t:fe=!0}}if(fe)return fe=J,oe=oe(fe),J=G===""?"."+te(fe,0):G,F(oe)?(R="",J!=null&&(R=J.replace(B,"$&/")+"/"),re(oe,E,R,"",function(Te){return Te})):oe!=null&&(me(oe)&&(oe=ee(oe,R+(!oe.key||fe&&fe.key===oe.key?"":(""+oe.key).replace(B,"$&/")+"/")+J)),E.push(oe)),1;if(fe=0,G=G===""?".":G+":",F(J))for(var ke=0;ke<J.length;ke++){$=J[ke];var Se=G+te($,ke);fe+=re($,E,R,Se,oe)}else if(Se=j(J),typeof Se=="function")for(J=Se.call(J),ke=0;!($=J.next()).done;)$=$.value,Se=G+te($,ke++),fe+=re($,E,R,Se,oe);else if($==="object")throw E=String(J),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.");return fe}function H(J,E,R){if(J==null)return J;var G=[],oe=0;return re(J,G,"","",function($){return E.call(R,$,oe++)}),G}function K(J){if(J._status===-1){var E=J._result;E=E(),E.then(function(R){(J._status===0||J._status===-1)&&(J._status=1,J._result=R)},function(R){(J._status===0||J._status===-1)&&(J._status=2,J._result=R)}),J._status===-1&&(J._status=0,J._result=E)}if(J._status===1)return J._result.default;throw J._result}var V={current:null},Z={transition:null},pe={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:Z,ReactCurrentOwner:ue};function we(){throw Error("act(...) is not supported in production builds of React.")}return Yt.Children={map:H,forEach:function(J,E,R){H(J,function(){E.apply(this,arguments)},R)},count:function(J){var E=0;return H(J,function(){E++}),E},toArray:function(J){return H(J,function(E){return E})||[]},only:function(J){if(!me(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},Yt.Component=C,Yt.Fragment=s,Yt.Profiler=o,Yt.PureComponent=D,Yt.StrictMode=a,Yt.Suspense=h,Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Yt.act=we,Yt.cloneElement=function(J,E,R){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var G=k({},J.props),oe=J.key,$=J.ref,fe=J._owner;if(E!=null){if(E.ref!==void 0&&($=E.ref,fe=ue.current),E.key!==void 0&&(oe=""+E.key),J.type&&J.type.defaultProps)var ke=J.type.defaultProps;for(Se in E)X.call(E,Se)&&!le.hasOwnProperty(Se)&&(G[Se]=E[Se]===void 0&&ke!==void 0?ke[Se]:E[Se])}var Se=arguments.length-2;if(Se===1)G.children=R;else if(1<Se){ke=Array(Se);for(var Te=0;Te<Se;Te++)ke[Te]=arguments[Te+2];G.children=ke}return{$$typeof:e,type:J.type,key:oe,ref:$,props:G,_owner:fe}},Yt.createContext=function(J){return J={$$typeof:d,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:l,_context:J},J.Consumer=J},Yt.createElement=ie,Yt.createFactory=function(J){var E=ie.bind(null,J);return E.type=J,E},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(J){return{$$typeof:u,render:J}},Yt.isValidElement=me,Yt.lazy=function(J){return{$$typeof:p,_payload:{_status:-1,_result:J},_init:K}},Yt.memo=function(J,E){return{$$typeof:g,type:J,compare:E===void 0?null:E}},Yt.startTransition=function(J){var E=Z.transition;Z.transition={};try{J()}finally{Z.transition=E}},Yt.unstable_act=we,Yt.useCallback=function(J,E){return V.current.useCallback(J,E)},Yt.useContext=function(J){return V.current.useContext(J)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(J){return V.current.useDeferredValue(J)},Yt.useEffect=function(J,E){return V.current.useEffect(J,E)},Yt.useId=function(){return V.current.useId()},Yt.useImperativeHandle=function(J,E,R){return V.current.useImperativeHandle(J,E,R)},Yt.useInsertionEffect=function(J,E){return V.current.useInsertionEffect(J,E)},Yt.useLayoutEffect=function(J,E){return V.current.useLayoutEffect(J,E)},Yt.useMemo=function(J,E){return V.current.useMemo(J,E)},Yt.useReducer=function(J,E,R){return V.current.useReducer(J,E,R)},Yt.useRef=function(J){return V.current.useRef(J)},Yt.useState=function(J){return V.current.useState(J)},Yt.useSyncExternalStore=function(J,E,R){return V.current.useSyncExternalStore(J,E,R)},Yt.useTransition=function(){return V.current.useTransition()},Yt.version="18.3.1",Yt}var Xg;function Df(){return Xg||(Xg=1,Bm.exports=Tb()),Bm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function Rb(){if(Zg)return ou;Zg=1;var e=Df(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(u,h,g){var p,b={},j=null,y=null;g!==void 0&&(j=""+g),h.key!==void 0&&(j=""+h.key),h.ref!==void 0&&(y=h.ref);for(p in h)a.call(h,p)&&!l.hasOwnProperty(p)&&(b[p]=h[p]);if(u&&u.defaultProps)for(p in h=u.defaultProps,h)b[p]===void 0&&(b[p]=h[p]);return{$$typeof:t,type:u,key:j,ref:y,props:b,_owner:o.current}}return ou.Fragment=s,ou.jsx=d,ou.jsxs=d,ou}var ex;function Ob(){return ex||(ex=1,Mm.exports=Rb()),Mm.exports}var r=Ob(),q=Df();const An=Cy(q),Mb=Ib({__proto__:null,default:An},[q]);var Ph={},Um={exports:{}},Hn={},zm={exports:{}},qm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function Bb(){return tx||(tx=1,(function(e){function t(Z,pe){var we=Z.length;Z.push(pe);e:for(;0<we;){var J=we-1>>>1,E=Z[J];if(0<o(E,pe))Z[J]=pe,Z[we]=E,we=J;else break e}}function s(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var pe=Z[0],we=Z.pop();if(we!==pe){Z[0]=we;e:for(var J=0,E=Z.length,R=E>>>1;J<R;){var G=2*(J+1)-1,oe=Z[G],$=G+1,fe=Z[$];if(0>o(oe,we))$<E&&0>o(fe,oe)?(Z[J]=fe,Z[$]=we,J=$):(Z[J]=oe,Z[G]=we,J=G);else if($<E&&0>o(fe,we))Z[J]=fe,Z[$]=we,J=$;else break e}}return pe}function o(Z,pe){var we=Z.sortIndex-pe.sortIndex;return we!==0?we:Z.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();e.unstable_now=function(){return d.now()-u}}var h=[],g=[],p=1,b=null,j=3,y=!1,k=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Z){for(var pe=s(g);pe!==null;){if(pe.callback===null)a(g);else if(pe.startTime<=Z)a(g),pe.sortIndex=pe.expirationTime,t(h,pe);else break;pe=s(g)}}function F(Z){if(S=!1,_(Z),!k)if(s(h)!==null)k=!0,K(X);else{var pe=s(g);pe!==null&&V(F,pe.startTime-Z)}}function X(Z,pe){k=!1,S&&(S=!1,L(ie),ie=-1),y=!0;var we=j;try{for(_(pe),b=s(h);b!==null&&(!(b.expirationTime>pe)||Z&&!O());){var J=b.callback;if(typeof J=="function"){b.callback=null,j=b.priorityLevel;var E=J(b.expirationTime<=pe);pe=e.unstable_now(),typeof E=="function"?b.callback=E:b===s(h)&&a(h),_(pe)}else a(h);b=s(h)}if(b!==null)var R=!0;else{var G=s(g);G!==null&&V(F,G.startTime-pe),R=!1}return R}finally{b=null,j=we,y=!1}}var ue=!1,le=null,ie=-1,ee=5,me=-1;function O(){return!(e.unstable_now()-me<ee)}function B(){if(le!==null){var Z=e.unstable_now();me=Z;var pe=!0;try{pe=le(!0,Z)}finally{pe?te():(ue=!1,le=null)}}else ue=!1}var te;if(typeof D=="function")te=function(){D(B)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,H=re.port2;re.port1.onmessage=B,te=function(){H.postMessage(null)}}else te=function(){C(B,0)};function K(Z){le=Z,ue||(ue=!0,te())}function V(Z,pe){ie=C(function(){Z(e.unstable_now())},pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){k||y||(k=!0,K(X))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return s(h)},e.unstable_next=function(Z){switch(j){case 1:case 2:case 3:var pe=3;break;default:pe=j}var we=j;j=pe;try{return Z()}finally{j=we}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,pe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var we=j;j=Z;try{return pe()}finally{j=we}},e.unstable_scheduleCallback=function(Z,pe,we){var J=e.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?J+we:J):we=J,Z){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=we+E,Z={id:p++,callback:pe,priorityLevel:Z,startTime:we,expirationTime:E,sortIndex:-1},we>J?(Z.sortIndex=we,t(g,Z),s(h)===null&&Z===s(g)&&(S?(L(ie),ie=-1):S=!0,V(F,we-J))):(Z.sortIndex=E,t(h,Z),k||y||(k=!0,K(X))),Z},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(Z){var pe=j;return function(){var we=j;j=pe;try{return Z.apply(this,arguments)}finally{j=we}}}})(qm)),qm}var rx;function Ub(){return rx||(rx=1,zm.exports=Bb()),zm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx;function zb(){if(sx)return Hn;sx=1;var e=Df(),t=Ub();function s(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(n,i){d(n,i),d(n+"Capture",i)}function d(n,i){for(o[n]=i,n=0;n<i.length;n++)a.add(i[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},b={};function j(n){return h.call(b,n)?!0:h.call(p,n)?!1:g.test(n)?b[n]=!0:(p[n]=!0,!1)}function y(n,i,c,m){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,i,c,m){if(i===null||typeof i>"u"||y(n,i,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(n,i,c,m,v,A,M){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=n,this.type=i,this.sanitizeURL=A,this.removeEmptyString=M}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new S(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];C[i]=new S(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new S(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new S(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new S(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new S(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new S(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new S(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new S(n,5,!1,n.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function D(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(L,D);C[i]=new S(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(L,D);C[i]=new S(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(L,D);C[i]=new S(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new S(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new S(n,1,!1,n.toLowerCase(),null,!0,!0)});function _(n,i,c,m){var v=C.hasOwnProperty(i)?C[i]:null;(v!==null?v.type!==0:m||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,c,v,m)&&(c=null),m||v===null?j(i)&&(c===null?n.removeAttribute(i):n.setAttribute(i,""+c)):v.mustUseProperty?n[v.propertyName]=c===null?v.type===3?!1:"":c:(i=v.attributeName,m=v.attributeNamespace,c===null?n.removeAttribute(i):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,m?n.setAttributeNS(m,i,c):n.setAttribute(i,c))))}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ue=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),Z=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=Z&&n[Z]||n["@@iterator"],typeof n=="function"?n:null)}var we=Object.assign,J;function E(n){if(J===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);J=i&&i[1]||""}return`
`+J+n}var R=!1;function G(n,i){if(!n||R)return"";R=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Re){var m=Re}Reflect.construct(n,[],i)}else{try{i.call()}catch(Re){m=Re}n.call(i.prototype)}else{try{throw Error()}catch(Re){m=Re}n()}}catch(Re){if(Re&&m&&typeof Re.stack=="string"){for(var v=Re.stack.split(`
`),A=m.stack.split(`
`),M=v.length-1,he=A.length-1;1<=M&&0<=he&&v[M]!==A[he];)he--;for(;1<=M&&0<=he;M--,he--)if(v[M]!==A[he]){if(M!==1||he!==1)do if(M--,he--,0>he||v[M]!==A[he]){var ve=`
`+v[M].replace(" at new "," at ");return n.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",n.displayName)),ve}while(1<=M&&0<=he);break}}}finally{R=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?E(n):""}function oe(n){switch(n.tag){case 5:return E(n.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return n=G(n.type,!1),n;case 11:return n=G(n.type.render,!1),n;case 1:return n=G(n.type,!0),n;default:return""}}function $(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case le:return"Fragment";case ue:return"Portal";case ee:return"Profiler";case ie:return"StrictMode";case te:return"Suspense";case re:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Consumer";case me:return(n._context.displayName||"Context")+".Provider";case B:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case H:return i=n.displayName||null,i!==null?i:$(n.type)||"Memo";case K:i=n._payload,n=n._init;try{return $(n(i))}catch{}}return null}function fe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(i);case 8:return i===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ke(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Se(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Te(n){var i=Se(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),m=""+n[i];if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,A=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return v.call(this)},set:function(M){m=""+M,A.call(this,M)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(M){m=""+M},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ge(n){n._valueTracker||(n._valueTracker=Te(n))}function De(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),m="";return n&&(m=Se(n)?n.checked?"true":"false":n.value),n=m,n!==c?(i.setValue(n),!0):!1}function Xe(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Oe(n,i){var c=i.checked;return we({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function ce(n,i){var c=i.defaultValue==null?"":i.defaultValue,m=i.checked!=null?i.checked:i.defaultChecked;c=ke(i.value!=null?i.value:c),n._wrapperState={initialChecked:m,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ht(n,i){i=i.checked,i!=null&&_(n,"checked",i,!1)}function Et(n,i){Ht(n,i);var c=ke(i.value),m=i.type;if(c!=null)m==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Ue(n,i.type,c):i.hasOwnProperty("defaultValue")&&Ue(n,i.type,ke(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Be(n,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var m=i.type;if(!(m!=="submit"&&m!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,c||i===n.value||(n.value=i),n.defaultValue=i}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function Ue(n,i,c){(i!=="number"||Xe(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var Q=Array.isArray;function de(n,i,c,m){if(n=n.options,i){i={};for(var v=0;v<c.length;v++)i["$"+c[v]]=!0;for(c=0;c<n.length;c++)v=i.hasOwnProperty("$"+n[c].value),n[c].selected!==v&&(n[c].selected=v),v&&m&&(n[c].defaultSelected=!0)}else{for(c=""+ke(c),i=null,v=0;v<n.length;v++){if(n[v].value===c){n[v].selected=!0,m&&(n[v].defaultSelected=!0);return}i!==null||n[v].disabled||(i=n[v])}i!==null&&(i.selected=!0)}}function Ne(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(s(91));return we({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ce(n,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(s(92));if(Q(c)){if(1<c.length)throw Error(s(93));c=c[0]}i=c}i==null&&(i=""),c=i}n._wrapperState={initialValue:ke(c)}}function Me(n,i){var c=ke(i.value),m=ke(i.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),i.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),m!=null&&(n.defaultValue=""+m)}function Ie(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Ve(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Ve(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var et,rt=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,m,v){MSApp.execUnsafeLocalFunction(function(){return n(i,c,m,v)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(et=et||document.createElement("div"),et.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=et.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function ft(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var it={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];Object.keys(it).forEach(function(n){er.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),it[i]=it[n]})});function zt(n,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||it.hasOwnProperty(n)&&it[n]?(""+i).trim():i+"px"}function nt(n,i){n=n.style;for(var c in i)if(i.hasOwnProperty(c)){var m=c.indexOf("--")===0,v=zt(c,i[c],m);c==="float"&&(c="cssFloat"),m?n.setProperty(c,v):n[c]=v}}var St=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mt(n,i){if(i){if(St[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(s(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(s(61))}if(i.style!=null&&typeof i.style!="object")throw Error(s(62))}}function ot(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=null;function At(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var dr=null,tr=null,Xt=null;function Ft(n){if(n=sl(n)){if(typeof dr!="function")throw Error(s(280));var i=n.stateNode;i&&(i=Wl(i),dr(n.stateNode,n.type,i))}}function rr(n){tr?Xt?Xt.push(n):Xt=[n]:tr=n}function Ni(){if(tr){var n=tr,i=Xt;if(Xt=tr=null,Ft(n),i)for(n=0;n<i.length;n++)Ft(i[n])}}function js(n,i){return n(i)}function ya(){}var Fn=!1;function kt(n,i,c){if(Fn)return n(i,c);Fn=!0;try{return js(n,i,c)}finally{Fn=!1,(tr!==null||Xt!==null)&&(ya(),Ni())}}function gn(n,i){var c=n.stateNode;if(c===null)return null;var m=Wl(c);if(m===null)return null;c=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(s(231,i,typeof c));return c}var Xn=!1;if(u)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Xn=!1}function In(n,i,c,m,v,A,M,he,ve){var Re=Array.prototype.slice.call(arguments,3);try{i.apply(c,Re)}catch(Qe){this.onError(Qe)}}var yr=!1,Ur=null,Yr=!1,za=null,ji={onError:function(n){yr=!0,Ur=n}};function Zn(n,i,c,m,v,A,M,he,ve){yr=!1,Ur=null,In.apply(ji,arguments)}function va(n,i,c,m,v,A,M,he,ve){if(Zn.apply(this,arguments),yr){if(yr){var Re=Ur;yr=!1,Ur=null}else throw Error(s(198));Yr||(Yr=!0,za=Re)}}function Ss(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function Tn(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function xn(n){if(Ss(n)!==n)throw Error(s(188))}function Qi(n){var i=n.alternate;if(!i){if(i=Ss(n),i===null)throw Error(s(188));return i!==n?null:n}for(var c=n,m=i;;){var v=c.return;if(v===null)break;var A=v.alternate;if(A===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===A.child){for(A=v.child;A;){if(A===c)return xn(v),n;if(A===m)return xn(v),i;A=A.sibling}throw Error(s(188))}if(c.return!==m.return)c=v,m=A;else{for(var M=!1,he=v.child;he;){if(he===c){M=!0,c=v,m=A;break}if(he===m){M=!0,m=v,c=A;break}he=he.sibling}if(!M){for(he=A.child;he;){if(he===c){M=!0,c=A,m=v;break}if(he===m){M=!0,m=A,c=v;break}he=he.sibling}if(!M)throw Error(s(189))}}if(c.alternate!==m)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?n:i}function ea(n){return n=Qi(n),n!==null?Si(n):null}function Si(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Si(n);if(i!==null)return i;n=n.sibling}return null}var Xi=t.unstable_scheduleCallback,Zi=t.unstable_cancelCallback,Oo=t.unstable_shouldYield,Dd=t.unstable_requestPaint,Nr=t.unstable_now,jc=t.unstable_getCurrentPriorityLevel,Mo=t.unstable_ImmediatePriority,yn=t.unstable_UserBlockingPriority,ki=t.unstable_NormalPriority,Sc=t.unstable_LowPriority,Bo=t.unstable_IdlePriority,eo=null,vn=null;function kc(n){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(eo,n,void 0,(n.current.flags&128)===128)}catch{}}var Ds=Math.clz32?Math.clz32:Ac,Fd=Math.log,Jr=Math.LN2;function Ac(n){return n>>>=0,n===0?32:31-(Fd(n)/Jr|0)|0}var to=64,Rn=4194304;function ta(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Qs(n,i){var c=n.pendingLanes;if(c===0)return 0;var m=0,v=n.suspendedLanes,A=n.pingedLanes,M=c&268435455;if(M!==0){var he=M&~v;he!==0?m=ta(he):(A&=M,A!==0&&(m=ta(A)))}else M=c&~v,M!==0?m=ta(M):A!==0&&(m=ta(A));if(m===0)return 0;if(i!==0&&i!==m&&(i&v)===0&&(v=m&-m,A=i&-i,v>=A||v===16&&(A&4194240)!==0))return i;if((m&4)!==0&&(m|=c&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=m;0<i;)c=31-Ds(i),v=1<<c,m|=n[c],i&=~v;return m}function ro(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zr(n,i){for(var c=n.suspendedLanes,m=n.pingedLanes,v=n.expirationTimes,A=n.pendingLanes;0<A;){var M=31-Ds(A),he=1<<M,ve=v[M];ve===-1?((he&c)===0||(he&m)!==0)&&(v[M]=ro(he,i)):ve<=i&&(n.expiredLanes|=he),A&=~he}}function so(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Cc(){var n=to;return to<<=1,(to&4194240)===0&&(to=64),n}function Pl(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function no(n,i,c){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Ds(i),n[i]=c}function ba(n,i){var c=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<c;){var v=31-Ds(c),A=1<<v;i[v]=0,m[v]=-1,n[v]=-1,c&=~A}}function Uo(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var m=31-Ds(c),v=1<<m;v&i|n[m]&i&&(n[m]|=i),c&=~v}}var Zt=0;function qa(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var zo,Ll,_c,Pc,qo,$a=!1,ra=[],wa=null,Xs=null,On=null,Lt=new Map,ao=new Map,Na=[],Id="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(n,i){switch(n){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Lt.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(i.pointerId)}}function bn(n,i,c,m,v,A){return n===null||n.nativeEvent!==A?(n={blockedOn:i,domEventName:c,eventSystemFlags:m,nativeEvent:A,targetContainers:[v]},i!==null&&(i=sl(i),i!==null&&Ll(i)),n):(n.eventSystemFlags|=m,i=n.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),n)}function Va(n,i,c,m,v){switch(i){case"focusin":return wa=bn(wa,n,i,c,m,v),!0;case"dragenter":return Xs=bn(Xs,n,i,c,m,v),!0;case"mouseover":return On=bn(On,n,i,c,m,v),!0;case"pointerover":var A=v.pointerId;return Lt.set(A,bn(Lt.get(A)||null,n,i,c,m,v)),!0;case"gotpointercapture":return A=v.pointerId,ao.set(A,bn(ao.get(A)||null,n,i,c,m,v)),!0}return!1}function Ec(n){var i=Ti(n.target);if(i!==null){var c=Ss(i);if(c!==null){if(i=c.tag,i===13){if(i=Tn(c),i!==null){n.blockedOn=i,qo(n.priority,function(){_c(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $o(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=oo(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var m=new c.constructor(c.type,c);It=m,c.target.dispatchEvent(m),It=null}else return i=sl(c),i!==null&&Ll(i),n.blockedOn=c,!1;i.shift()}return!0}function io(n,i,c){$o(n)&&c.delete(i)}function El(){$a=!1,wa!==null&&$o(wa)&&(wa=null),Xs!==null&&$o(Xs)&&(Xs=null),On!==null&&$o(On)&&(On=null),Lt.forEach(io),ao.forEach(io)}function sa(n,i){n.blockedOn===i&&(n.blockedOn=null,$a||($a=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,El)))}function ja(n){function i(v){return sa(v,n)}if(0<ra.length){sa(ra[0],n);for(var c=1;c<ra.length;c++){var m=ra[c];m.blockedOn===n&&(m.blockedOn=null)}}for(wa!==null&&sa(wa,n),Xs!==null&&sa(Xs,n),On!==null&&sa(On,n),Lt.forEach(i),ao.forEach(i),c=0;c<Na.length;c++)m=Na[c],m.blockedOn===n&&(m.blockedOn=null);for(;0<Na.length&&(c=Na[0],c.blockedOn===null);)Ec(c),c.blockedOn===null&&Na.shift()}var na=F.ReactCurrentBatchConfig,Vo=!0;function Dl(n,i,c,m){var v=Zt,A=na.transition;na.transition=null;try{Zt=1,Ha(n,i,c,m)}finally{Zt=v,na.transition=A}}function Fl(n,i,c,m){var v=Zt,A=na.transition;na.transition=null;try{Zt=4,Ha(n,i,c,m)}finally{Zt=v,na.transition=A}}function Ha(n,i,c,m){if(Vo){var v=oo(n,i,c,m);if(v===null)$l(n,i,m,Sa,c),Lc(n,m);else if(Va(v,n,i,c,m))m.stopPropagation();else if(Lc(n,m),i&4&&-1<Id.indexOf(n)){for(;v!==null;){var A=sl(v);if(A!==null&&zo(A),A=oo(n,i,c,m),A===null&&$l(n,i,m,Sa,c),A===v)break;v=A}v!==null&&m.stopPropagation()}else $l(n,i,m,null,c)}}var Sa=null;function oo(n,i,c,m){if(Sa=null,n=At(m),n=Ti(n),n!==null)if(i=Ss(n),i===null)n=null;else if(c=i.tag,c===13){if(n=Tn(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Sa=n,null}function lo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jc()){case Mo:return 1;case yn:return 4;case ki:case Sc:return 16;case Bo:return 536870912;default:return 16}default:return 16}}var Mn=null,Wa=null,Ai=null;function Ho(){if(Ai)return Ai;var n,i=Wa,c=i.length,m,v="value"in Mn?Mn.value:Mn.textContent,A=v.length;for(n=0;n<c&&i[n]===v[n];n++);var M=c-n;for(m=1;m<=M&&i[c-m]===v[A-m];m++);return Ai=v.slice(n,1<m?1-m:void 0)}function Fs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function wn(){return!0}function w(){return!1}function I(n){function i(c,m,v,A,M){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=A,this.target=M,this.currentTarget=null;for(var he in n)n.hasOwnProperty(he)&&(c=n[he],this[he]=c?c(A):A[he]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?wn:w,this.isPropagationStopped=w,this}return we(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=wn)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=wn)},persist:function(){},isPersistent:wn}),i}var ae={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xe=I(ae),Ae=we({},ae,{view:0,detail:0}),We=I(Ae),Ye,ht,pt,Ct=we({},Ae,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_i,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pt&&(pt&&n.type==="mousemove"?(Ye=n.screenX-pt.screenX,ht=n.screenY-pt.screenY):ht=Ye=0,pt=n),Ye)},movementY:function(n){return"movementY"in n?n.movementY:ht}}),Bt=I(Ct),sr=we({},Ct,{dataTransfer:0}),Lr=I(sr),Qr=we({},Ae,{relatedTarget:0}),or=I(Qr),ns=we({},ae,{animationName:0,elapsedTime:0,pseudoElement:0}),Xr=I(ns),ks=we({},ae,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ga=I(ks),Ci=we({},ae,{data:0}),Dc=I(Ci),Fc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},co={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Il(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=aa[n])?!!i[n]:!1}function _i(){return Il}var Pi=we({},Ae,{key:function(n){if(n.key){var i=Fc[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Fs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?co[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_i,charCode:function(n){return n.type==="keypress"?Fs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ps=I(Pi),Ka=we({},Ct,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ka=I(Ka),Wo=we({},Ae,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_i}),Tl=I(Wo),qs=we({},ae,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ic=I(qs),Go=we({},Ct,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Tc=I(Go),as=[9,13,27,32],Zs=u&&"CompositionEvent"in window,Ya=null;u&&"documentMode"in document&&(Ya=document.documentMode);var Rl=u&&"TextEvent"in window&&!Ya,Ja=u&&(!Zs||Ya&&8<Ya&&11>=Ya),uo=" ",$s=!1;function Vs(n,i){switch(n){case"keyup":return as.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Li(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hs=!1;function Ei(n,i){switch(n){case"compositionend":return Li(i);case"keypress":return i.which!==32?null:($s=!0,uo);case"textInput":return n=i.data,n===uo&&$s?null:n;default:return null}}function Ol(n,i){if(Hs)return n==="compositionend"||!Zs&&Vs(n,i)?(n=Ho(),Ai=Wa=Mn=null,Hs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ja&&i.locale!=="ko"?null:i.data;default:return null}}var Di={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ir(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Di[n.type]:i==="textarea"}function Rc(n,i,c,m){rr(m),i=qc(i,"onChange"),0<i.length&&(c=new xe("onChange","change",null,c,m),n.push({event:c,listeners:i}))}var en=null,tn=null;function Ko(n){zl(n,0)}function Fi(n){var i=vo(n);if(De(i))return n}function Yo(n,i){if(n==="change")return i}var ho=!1;if(u){var Qa;if(u){var Xa="oninput"in document;if(!Xa){var Aa=document.createElement("div");Aa.setAttribute("oninput","return;"),Xa=typeof Aa.oninput=="function"}Qa=Xa}else Qa=!1;ho=Qa&&(!document.documentMode||9<document.documentMode)}function Jo(){en&&(en.detachEvent("onpropertychange",rn),tn=en=null)}function rn(n){if(n.propertyName==="value"&&Fi(tn)){var i=[];Rc(i,tn,n,At(n)),kt(Ko,i)}}function Ca(n,i,c){n==="focusin"?(Jo(),en=i,tn=c,en.attachEvent("onpropertychange",rn)):n==="focusout"&&Jo()}function vr(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fi(tn)}function br(n,i){if(n==="click")return Fi(i)}function qr(n,i){if(n==="input"||n==="change")return Fi(i)}function $r(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var is=typeof Object.is=="function"?Object.is:$r;function _a(n,i){if(is(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),m=Object.keys(i);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!h.call(i,v)||!is(n[v],i[v]))return!1}return!0}function ia(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Qo(n,i){var c=ia(n);n=0;for(var m;c;){if(c.nodeType===3){if(m=n+c.textContent.length,n<=i&&m>=i)return{node:c,offset:i-n};n=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ia(c)}}function Td(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Td(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Rd(){for(var n=window,i=Xe();i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=Xe(n.document)}return i}function Oc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Gu(n){var i=Rd(),c=n.focusedElem,m=n.selectionRange;if(i!==c&&c&&c.ownerDocument&&Td(c.ownerDocument.documentElement,c)){if(m!==null&&Oc(c)){if(i=m.start,n=m.end,n===void 0&&(n=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(n,c.value.length);else if(n=(i=c.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var v=c.textContent.length,A=Math.min(m.start,v);m=m.end===void 0?A:Math.min(m.end,v),!n.extend&&A>m&&(v=m,m=A,A=v),v=Qo(c,A);var M=Qo(c,m);v&&M&&(n.rangeCount!==1||n.anchorNode!==v.node||n.anchorOffset!==v.offset||n.focusNode!==M.node||n.focusOffset!==M.offset)&&(i=i.createRange(),i.setStart(v.node,v.offset),n.removeAllRanges(),A>m?(n.addRange(i),n.extend(M.node,M.offset)):(i.setEnd(M.node,M.offset),n.addRange(i)))}}for(i=[],n=c;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)n=i[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ku=u&&"documentMode"in document&&11>=document.documentMode,fo=null,Mc=null,Xo=null,Bc=!1;function Od(n,i,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Bc||fo==null||fo!==Xe(m)||(m=fo,"selectionStart"in m&&Oc(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Xo&&_a(Xo,m)||(Xo=m,m=qc(Mc,"onSelect"),0<m.length&&(i=new xe("onSelect","select",null,i,c),n.push({event:i,listeners:m}),i.target=fo)))}function Ml(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var mo={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},po={},Md={};u&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Bl(n){if(po[n])return po[n];if(!mo[n])return n;var i=mo[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in Md)return po[n]=i[c];return n}var Bd=Bl("animationend"),Ud=Bl("animationiteration"),zd=Bl("animationstart"),qd=Bl("transitionend"),$d=new Map,Vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(n,i){$d.set(n,i),l(i,[n])}for(var Zo=0;Zo<Vd.length;Zo++){var Ws=Vd[Zo],Bn=Ws.toLowerCase(),Uc=Ws[0].toUpperCase()+Ws.slice(1);Pa(Bn,"on"+Uc)}Pa(Bd,"onAnimationEnd"),Pa(Ud,"onAnimationIteration"),Pa(zd,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(qd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function Ul(n,i,c){var m=n.type||"unknown-event";n.currentTarget=c,va(m,i,void 0,n),n.currentTarget=null}function zl(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var m=n[c],v=m.event;m=m.listeners;e:{var A=void 0;if(i)for(var M=m.length-1;0<=M;M--){var he=m[M],ve=he.instance,Re=he.currentTarget;if(he=he.listener,ve!==A&&v.isPropagationStopped())break e;Ul(v,he,Re),A=ve}else for(M=0;M<m.length;M++){if(he=m[M],ve=he.instance,Re=he.currentTarget,he=he.listener,ve!==A&&v.isPropagationStopped())break e;Ul(v,he,Re),A=ve}}}if(Yr)throw n=za,Yr=!1,za=null,n}function fr(n,i){var c=i[nn];c===void 0&&(c=i[nn]=new Set);var m=n+"__bubble";c.has(m)||(ql(i,n,2,!1),c.add(m))}function zc(n,i,c){var m=0;i&&(m|=4),ql(c,n,m,i)}var el="_reactListening"+Math.random().toString(36).slice(2);function go(n){if(!n[el]){n[el]=!0,a.forEach(function(c){c!=="selectionchange"&&(Yu.has(c)||zc(c,!1,n),zc(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[el]||(i[el]=!0,zc("selectionchange",!1,i))}}function ql(n,i,c,m){switch(lo(i)){case 1:var v=Dl;break;case 4:v=Fl;break;default:v=Ha}c=v.bind(null,i,c,n),v=void 0,!Xn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),m?v!==void 0?n.addEventListener(i,c,{capture:!0,passive:v}):n.addEventListener(i,c,!0):v!==void 0?n.addEventListener(i,c,{passive:v}):n.addEventListener(i,c,!1)}function $l(n,i,c,m,v){var A=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var M=m.tag;if(M===3||M===4){var he=m.stateNode.containerInfo;if(he===v||he.nodeType===8&&he.parentNode===v)break;if(M===4)for(M=m.return;M!==null;){var ve=M.tag;if((ve===3||ve===4)&&(ve=M.stateNode.containerInfo,ve===v||ve.nodeType===8&&ve.parentNode===v))return;M=M.return}for(;he!==null;){if(M=Ti(he),M===null)return;if(ve=M.tag,ve===5||ve===6){m=A=M;continue e}he=he.parentNode}}m=m.return}kt(function(){var Re=A,Qe=At(c),Ze=[];e:{var Je=$d.get(n);if(Je!==void 0){var lt=xe,xt=n;switch(n){case"keypress":if(Fs(c)===0)break e;case"keydown":case"keyup":lt=ps;break;case"focusin":xt="focus",lt=or;break;case"focusout":xt="blur",lt=or;break;case"beforeblur":case"afterblur":lt=or;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=Bt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=Lr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=Tl;break;case Bd:case Ud:case zd:lt=Xr;break;case qd:lt=Ic;break;case"scroll":lt=We;break;case"wheel":lt=Tc;break;case"copy":case"cut":case"paste":lt=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=ka}var vt=(i&4)!==0,cs=!vt&&n==="scroll",Le=vt?Je!==null?Je+"Capture":null:Je;vt=[];for(var je=Re,Fe;je!==null;){Fe=je;var tt=Fe.stateNode;if(Fe.tag===5&&tt!==null&&(Fe=tt,Le!==null&&(tt=gn(je,Le),tt!=null&&vt.push(Vl(je,tt,Fe)))),cs)break;je=je.return}0<vt.length&&(Je=new lt(Je,xt,null,c,Qe),Ze.push({event:Je,listeners:vt}))}}if((i&7)===0){e:{if(Je=n==="mouseover"||n==="pointerover",lt=n==="mouseout"||n==="pointerout",Je&&c!==It&&(xt=c.relatedTarget||c.fromElement)&&(Ti(xt)||xt[Is]))break e;if((lt||Je)&&(Je=Qe.window===Qe?Qe:(Je=Qe.ownerDocument)?Je.defaultView||Je.parentWindow:window,lt?(xt=c.relatedTarget||c.toElement,lt=Re,xt=xt?Ti(xt):null,xt!==null&&(cs=Ss(xt),xt!==cs||xt.tag!==5&&xt.tag!==6)&&(xt=null)):(lt=null,xt=Re),lt!==xt)){if(vt=Bt,tt="onMouseLeave",Le="onMouseEnter",je="mouse",(n==="pointerout"||n==="pointerover")&&(vt=ka,tt="onPointerLeave",Le="onPointerEnter",je="pointer"),cs=lt==null?Je:vo(lt),Fe=xt==null?Je:vo(xt),Je=new vt(tt,je+"leave",lt,c,Qe),Je.target=cs,Je.relatedTarget=Fe,tt=null,Ti(Qe)===Re&&(vt=new vt(Le,je+"enter",xt,c,Qe),vt.target=Fe,vt.relatedTarget=cs,tt=vt),cs=tt,lt&&xt)t:{for(vt=lt,Le=xt,je=0,Fe=vt;Fe;Fe=xo(Fe))je++;for(Fe=0,tt=Le;tt;tt=xo(tt))Fe++;for(;0<je-Fe;)vt=xo(vt),je--;for(;0<Fe-je;)Le=xo(Le),Fe--;for(;je--;){if(vt===Le||Le!==null&&vt===Le.alternate)break t;vt=xo(vt),Le=xo(Le)}vt=null}else vt=null;lt!==null&&Ju(Ze,Je,lt,vt,!1),xt!==null&&cs!==null&&Ju(Ze,cs,xt,vt,!0)}}e:{if(Je=Re?vo(Re):window,lt=Je.nodeName&&Je.nodeName.toLowerCase(),lt==="select"||lt==="input"&&Je.type==="file")var Nt=Yo;else if(Ir(Je))if(ho)Nt=qr;else{Nt=vr;var _t=Ca}else(lt=Je.nodeName)&&lt.toLowerCase()==="input"&&(Je.type==="checkbox"||Je.type==="radio")&&(Nt=br);if(Nt&&(Nt=Nt(n,Re))){Rc(Ze,Nt,c,Qe);break e}_t&&_t(n,Je,Re),n==="focusout"&&(_t=Je._wrapperState)&&_t.controlled&&Je.type==="number"&&Ue(Je,"number",Je.value)}switch(_t=Re?vo(Re):window,n){case"focusin":(Ir(_t)||_t.contentEditable==="true")&&(fo=_t,Mc=Re,Xo=null);break;case"focusout":Xo=Mc=fo=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,Od(Ze,c,Qe);break;case"selectionchange":if(Ku)break;case"keydown":case"keyup":Od(Ze,c,Qe)}var Pt;if(Zs)e:{switch(n){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else Hs?Vs(n,c)&&(Tt="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(Tt="onCompositionStart");Tt&&(Ja&&c.locale!=="ko"&&(Hs||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Hs&&(Pt=Ho()):(Mn=Qe,Wa="value"in Mn?Mn.value:Mn.textContent,Hs=!0)),_t=qc(Re,Tt),0<_t.length&&(Tt=new Dc(Tt,n,null,c,Qe),Ze.push({event:Tt,listeners:_t}),Pt?Tt.data=Pt:(Pt=Li(c),Pt!==null&&(Tt.data=Pt)))),(Pt=Rl?Ei(n,c):Ol(n,c))&&(Re=qc(Re,"onBeforeInput"),0<Re.length&&(Qe=new Dc("onBeforeInput","beforeinput",null,c,Qe),Ze.push({event:Qe,listeners:Re}),Qe.data=Pt))}zl(Ze,i)})}function Vl(n,i,c){return{instance:n,listener:i,currentTarget:c}}function qc(n,i){for(var c=i+"Capture",m=[];n!==null;){var v=n,A=v.stateNode;v.tag===5&&A!==null&&(v=A,A=gn(n,c),A!=null&&m.unshift(Vl(n,A,v)),A=gn(n,i),A!=null&&m.push(Vl(n,A,v))),n=n.return}return m}function xo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Ju(n,i,c,m,v){for(var A=i._reactName,M=[];c!==null&&c!==m;){var he=c,ve=he.alternate,Re=he.stateNode;if(ve!==null&&ve===m)break;he.tag===5&&Re!==null&&(he=Re,v?(ve=gn(c,A),ve!=null&&M.unshift(Vl(c,ve,he))):v||(ve=gn(c,A),ve!=null&&M.push(Vl(c,ve,he)))),c=c.return}M.length!==0&&n.push({event:i,listeners:M})}var Xf=/\r\n?/g,Zf=/\u0000|\uFFFD/g;function Qu(n){return(typeof n=="string"?n:""+n).replace(Xf,`
`).replace(Zf,"")}function $c(n,i,c){if(i=Qu(i),Qu(n)!==i&&c)throw Error(s(425))}function tl(){}var Hl=null,yo=null;function Hd(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wd=typeof setTimeout=="function"?setTimeout:void 0,Xu=typeof clearTimeout=="function"?clearTimeout:void 0,Zu=typeof Promise=="function"?Promise:void 0,em=typeof queueMicrotask=="function"?queueMicrotask:typeof Zu<"u"?function(n){return Zu.resolve(null).then(n).catch(tm)}:Wd;function tm(n){setTimeout(function(){throw n})}function Gd(n,i){var c=i,m=0;do{var v=c.nextSibling;if(n.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(m===0){n.removeChild(v),ja(i);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=v}while(c);ja(i)}function Gs(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Un(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}var sn=Math.random().toString(36).slice(2),La="__reactFiber$"+sn,rl="__reactProps$"+sn,Is="__reactContainer$"+sn,nn="__reactEvents$"+sn,rm="__reactListeners$"+sn,sm="__reactHandles$"+sn;function Ti(n){var i=n[La];if(i)return i;for(var c=n.parentNode;c;){if(i=c[Is]||c[La]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=Un(n);n!==null;){if(c=n[La])return c;n=Un(n)}return i}n=c,c=n.parentNode}return null}function sl(n){return n=n[La]||n[Is],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function vo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function Wl(n){return n[rl]||null}var Kd=[],Za=-1;function oa(n){return{current:n}}function cr(n){0>Za||(n.current=Kd[Za],Kd[Za]=null,Za--)}function ur(n,i){Za++,Kd[Za]=n.current,n.current=i}var Ri={},As=oa(Ri),an=oa(!1),bo=Ri;function nl(n,i){var c=n.type.contextTypes;if(!c)return Ri;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===i)return m.__reactInternalMemoizedMaskedChildContext;var v={},A;for(A in c)v[A]=i[A];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=v),v}function on(n){return n=n.childContextTypes,n!=null}function Vc(){cr(an),cr(As)}function eh(n,i,c){if(As.current!==Ri)throw Error(s(168));ur(As,i),ur(an,c)}function Yd(n,i,c){var m=n.stateNode;if(i=i.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var v in m)if(!(v in i))throw Error(s(108,fe(n)||"Unknown",v));return we({},c,m)}function wo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ri,bo=As.current,ur(As,n),ur(an,an.current),!0}function th(n,i,c){var m=n.stateNode;if(!m)throw Error(s(169));c?(n=Yd(n,i,bo),m.__reactInternalMemoizedMergedChildContext=n,cr(an),cr(As),ur(As,n)):cr(an),ur(an,c)}var ei=null,Gl=!1,f=!1;function x(n){ei===null?ei=[n]:ei.push(n)}function N(n){Gl=!0,x(n)}function P(){if(!f&&ei!==null){f=!0;var n=0,i=Zt;try{var c=ei;for(Zt=1;n<c.length;n++){var m=c[n];do m=m(!0);while(m!==null)}ei=null,Gl=!1}catch(v){throw ei!==null&&(ei=ei.slice(n+1)),Xi(Mo,P),v}finally{Zt=i,f=!1}}return null}var T=[],U=0,z=null,W=0,Y=[],se=0,ye=null,Pe=1,ne="";function be(n,i){T[U++]=W,T[U++]=z,z=n,W=i}function _e(n,i,c){Y[se++]=Pe,Y[se++]=ne,Y[se++]=ye,ye=n;var m=Pe;n=ne;var v=32-Ds(m)-1;m&=~(1<<v),c+=1;var A=32-Ds(i)+v;if(30<A){var M=v-v%5;A=(m&(1<<M)-1).toString(32),m>>=M,v-=M,Pe=1<<32-Ds(i)+v|c<<v|m,ne=A+n}else Pe=1<<A|c<<v|m,ne=n}function He(n){n.return!==null&&(be(n,1),_e(n,1,0))}function Ee(n){for(;n===z;)z=T[--U],T[U]=null,W=T[--U],T[U]=null;for(;n===ye;)ye=Y[--se],Y[se]=null,ne=Y[--se],Y[se]=null,Pe=Y[--se],Y[se]=null}var ze=null,$e=null,Ge=!1,Ke=null;function bt(n,i){var c=Ta(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=n,i=n.deletions,i===null?(n.deletions=[c],n.flags|=16):i.push(c)}function dt(n,i){switch(n.tag){case 5:var c=n.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,ze=n,$e=Gs(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,ze=n,$e=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=ye!==null?{id:Pe,overflow:ne}:null,n.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Ta(18,null,null,0),c.stateNode=i,c.return=n,n.child=c,ze=n,$e=null,!0):!1;default:return!1}}function Ut(n){return(n.mode&1)!==0&&(n.flags&128)===0}function gt(n){if(Ge){var i=$e;if(i){var c=i;if(!dt(n,i)){if(Ut(n))throw Error(s(418));i=Gs(c.nextSibling);var m=ze;i&&dt(n,i)?bt(m,c):(n.flags=n.flags&-4097|2,Ge=!1,ze=n)}}else{if(Ut(n))throw Error(s(418));n.flags=n.flags&-4097|2,Ge=!1,ze=n}}}function Kt(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ze=n}function Tr(n){if(n!==ze)return!1;if(!Ge)return Kt(n),Ge=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Hd(n.type,n.memoizedProps)),i&&(i=$e)){if(Ut(n))throw qt(),Error(s(418));for(;i;)bt(n,i),i=Gs(i.nextSibling)}if(Kt(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(i===0){$e=Gs(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}n=n.nextSibling}$e=null}}else $e=ze?Gs(n.stateNode.nextSibling):null;return!0}function qt(){for(var n=$e;n;)n=Gs(n.nextSibling)}function ut(){$e=ze=null,Ge=!1}function st(n){Ke===null?Ke=[n]:Ke.push(n)}var Vr=F.ReactCurrentBatchConfig;function Dt(n,i,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(s(309));var m=c.stateNode}if(!m)throw Error(s(147,n));var v=m,A=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===A?i.ref:(i=function(M){var he=v.refs;M===null?delete he[A]:he[A]=M},i._stringRef=A,i)}if(typeof n!="string")throw Error(s(284));if(!c._owner)throw Error(s(290,n))}return n}function Gt(n,i){throw n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function wr(n){var i=n._init;return i(n._payload)}function gs(n){function i(Le,je){if(n){var Fe=Le.deletions;Fe===null?(Le.deletions=[je],Le.flags|=16):Fe.push(je)}}function c(Le,je){if(!n)return null;for(;je!==null;)i(Le,je),je=je.sibling;return null}function m(Le,je){for(Le=new Map;je!==null;)je.key!==null?Le.set(je.key,je):Le.set(je.index,je),je=je.sibling;return Le}function v(Le,je){return Le=ml(Le,je),Le.index=0,Le.sibling=null,Le}function A(Le,je,Fe){return Le.index=Fe,n?(Fe=Le.alternate,Fe!==null?(Fe=Fe.index,Fe<je?(Le.flags|=2,je):Fe):(Le.flags|=2,je)):(Le.flags|=1048576,je)}function M(Le){return n&&Le.alternate===null&&(Le.flags|=2),Le}function he(Le,je,Fe,tt){return je===null||je.tag!==6?(je=Dm(Fe,Le.mode,tt),je.return=Le,je):(je=v(je,Fe),je.return=Le,je)}function ve(Le,je,Fe,tt){var Nt=Fe.type;return Nt===le?Qe(Le,je,Fe.props.children,tt,Fe.key):je!==null&&(je.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===K&&wr(Nt)===je.type)?(tt=v(je,Fe.props),tt.ref=Dt(Le,je,Fe),tt.return=Le,tt):(tt=wh(Fe.type,Fe.key,Fe.props,null,Le.mode,tt),tt.ref=Dt(Le,je,Fe),tt.return=Le,tt)}function Re(Le,je,Fe,tt){return je===null||je.tag!==4||je.stateNode.containerInfo!==Fe.containerInfo||je.stateNode.implementation!==Fe.implementation?(je=Fm(Fe,Le.mode,tt),je.return=Le,je):(je=v(je,Fe.children||[]),je.return=Le,je)}function Qe(Le,je,Fe,tt,Nt){return je===null||je.tag!==7?(je=tc(Fe,Le.mode,tt,Nt),je.return=Le,je):(je=v(je,Fe),je.return=Le,je)}function Ze(Le,je,Fe){if(typeof je=="string"&&je!==""||typeof je=="number")return je=Dm(""+je,Le.mode,Fe),je.return=Le,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case X:return Fe=wh(je.type,je.key,je.props,null,Le.mode,Fe),Fe.ref=Dt(Le,null,je),Fe.return=Le,Fe;case ue:return je=Fm(je,Le.mode,Fe),je.return=Le,je;case K:var tt=je._init;return Ze(Le,tt(je._payload),Fe)}if(Q(je)||pe(je))return je=tc(je,Le.mode,Fe,null),je.return=Le,je;Gt(Le,je)}return null}function Je(Le,je,Fe,tt){var Nt=je!==null?je.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return Nt!==null?null:he(Le,je,""+Fe,tt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case X:return Fe.key===Nt?ve(Le,je,Fe,tt):null;case ue:return Fe.key===Nt?Re(Le,je,Fe,tt):null;case K:return Nt=Fe._init,Je(Le,je,Nt(Fe._payload),tt)}if(Q(Fe)||pe(Fe))return Nt!==null?null:Qe(Le,je,Fe,tt,null);Gt(Le,Fe)}return null}function lt(Le,je,Fe,tt,Nt){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return Le=Le.get(Fe)||null,he(je,Le,""+tt,Nt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case X:return Le=Le.get(tt.key===null?Fe:tt.key)||null,ve(je,Le,tt,Nt);case ue:return Le=Le.get(tt.key===null?Fe:tt.key)||null,Re(je,Le,tt,Nt);case K:var _t=tt._init;return lt(Le,je,Fe,_t(tt._payload),Nt)}if(Q(tt)||pe(tt))return Le=Le.get(Fe)||null,Qe(je,Le,tt,Nt,null);Gt(je,tt)}return null}function xt(Le,je,Fe,tt){for(var Nt=null,_t=null,Pt=je,Tt=je=0,Bs=null;Pt!==null&&Tt<Fe.length;Tt++){Pt.index>Tt?(Bs=Pt,Pt=null):Bs=Pt.sibling;var lr=Je(Le,Pt,Fe[Tt],tt);if(lr===null){Pt===null&&(Pt=Bs);break}n&&Pt&&lr.alternate===null&&i(Le,Pt),je=A(lr,je,Tt),_t===null?Nt=lr:_t.sibling=lr,_t=lr,Pt=Bs}if(Tt===Fe.length)return c(Le,Pt),Ge&&be(Le,Tt),Nt;if(Pt===null){for(;Tt<Fe.length;Tt++)Pt=Ze(Le,Fe[Tt],tt),Pt!==null&&(je=A(Pt,je,Tt),_t===null?Nt=Pt:_t.sibling=Pt,_t=Pt);return Ge&&be(Le,Tt),Nt}for(Pt=m(Le,Pt);Tt<Fe.length;Tt++)Bs=lt(Pt,Le,Tt,Fe[Tt],tt),Bs!==null&&(n&&Bs.alternate!==null&&Pt.delete(Bs.key===null?Tt:Bs.key),je=A(Bs,je,Tt),_t===null?Nt=Bs:_t.sibling=Bs,_t=Bs);return n&&Pt.forEach(function(pl){return i(Le,pl)}),Ge&&be(Le,Tt),Nt}function vt(Le,je,Fe,tt){var Nt=pe(Fe);if(typeof Nt!="function")throw Error(s(150));if(Fe=Nt.call(Fe),Fe==null)throw Error(s(151));for(var _t=Nt=null,Pt=je,Tt=je=0,Bs=null,lr=Fe.next();Pt!==null&&!lr.done;Tt++,lr=Fe.next()){Pt.index>Tt?(Bs=Pt,Pt=null):Bs=Pt.sibling;var pl=Je(Le,Pt,lr.value,tt);if(pl===null){Pt===null&&(Pt=Bs);break}n&&Pt&&pl.alternate===null&&i(Le,Pt),je=A(pl,je,Tt),_t===null?Nt=pl:_t.sibling=pl,_t=pl,Pt=Bs}if(lr.done)return c(Le,Pt),Ge&&be(Le,Tt),Nt;if(Pt===null){for(;!lr.done;Tt++,lr=Fe.next())lr=Ze(Le,lr.value,tt),lr!==null&&(je=A(lr,je,Tt),_t===null?Nt=lr:_t.sibling=lr,_t=lr);return Ge&&be(Le,Tt),Nt}for(Pt=m(Le,Pt);!lr.done;Tt++,lr=Fe.next())lr=lt(Pt,Le,Tt,lr.value,tt),lr!==null&&(n&&lr.alternate!==null&&Pt.delete(lr.key===null?Tt:lr.key),je=A(lr,je,Tt),_t===null?Nt=lr:_t.sibling=lr,_t=lr);return n&&Pt.forEach(function(Fb){return i(Le,Fb)}),Ge&&be(Le,Tt),Nt}function cs(Le,je,Fe,tt){if(typeof Fe=="object"&&Fe!==null&&Fe.type===le&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case X:e:{for(var Nt=Fe.key,_t=je;_t!==null;){if(_t.key===Nt){if(Nt=Fe.type,Nt===le){if(_t.tag===7){c(Le,_t.sibling),je=v(_t,Fe.props.children),je.return=Le,Le=je;break e}}else if(_t.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===K&&wr(Nt)===_t.type){c(Le,_t.sibling),je=v(_t,Fe.props),je.ref=Dt(Le,_t,Fe),je.return=Le,Le=je;break e}c(Le,_t);break}else i(Le,_t);_t=_t.sibling}Fe.type===le?(je=tc(Fe.props.children,Le.mode,tt,Fe.key),je.return=Le,Le=je):(tt=wh(Fe.type,Fe.key,Fe.props,null,Le.mode,tt),tt.ref=Dt(Le,je,Fe),tt.return=Le,Le=tt)}return M(Le);case ue:e:{for(_t=Fe.key;je!==null;){if(je.key===_t)if(je.tag===4&&je.stateNode.containerInfo===Fe.containerInfo&&je.stateNode.implementation===Fe.implementation){c(Le,je.sibling),je=v(je,Fe.children||[]),je.return=Le,Le=je;break e}else{c(Le,je);break}else i(Le,je);je=je.sibling}je=Fm(Fe,Le.mode,tt),je.return=Le,Le=je}return M(Le);case K:return _t=Fe._init,cs(Le,je,_t(Fe._payload),tt)}if(Q(Fe))return xt(Le,je,Fe,tt);if(pe(Fe))return vt(Le,je,Fe,tt);Gt(Le,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"?(Fe=""+Fe,je!==null&&je.tag===6?(c(Le,je.sibling),je=v(je,Fe),je.return=Le,Le=je):(c(Le,je),je=Dm(Fe,Le.mode,tt),je.return=Le,Le=je),M(Le)):c(Le,je)}return cs}var Zr=gs(!0),Er=gs(!1),os=oa(null),xs=null,Ar=null,Jt=null;function nr(){Jt=Ar=xs=null}function Cr(n){var i=os.current;cr(os),n._currentValue=i}function ar(n,i,c){for(;n!==null;){var m=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),n===c)break;n=n.return}}function Rr(n,i){xs=n,Jt=Ar=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(qn=!0),n.firstContext=null)}function Or(n){var i=n._currentValue;if(Jt!==n)if(n={context:n,memoizedValue:i,next:null},Ar===null){if(xs===null)throw Error(s(308));Ar=n,xs.dependencies={lanes:0,firstContext:n}}else Ar=Ar.next=n;return i}var mr=null;function Ts(n){mr===null?mr=[n]:mr.push(n)}function hr(n,i,c,m){var v=i.interleaved;return v===null?(c.next=c,Ts(i)):(c.next=v.next,v.next=c),i.interleaved=c,pr(n,m)}function pr(n,i){n.lanes|=i;var c=n.alternate;for(c!==null&&(c.lanes|=i),c=n,n=n.return;n!==null;)n.childLanes|=i,c=n.alternate,c!==null&&(c.childLanes|=i),c=n,n=n.return;return c.tag===3?c.stateNode:null}var es=!1;function Cs(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ln(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Hr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Wr(n,i,c){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,(ir&2)!==0){var v=m.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),m.pending=i,pr(n,c)}return v=m.interleaved,v===null?(i.next=i,Ts(m)):(i.next=v.next,v.next=i),m.interleaved=i,pr(n,c)}function Rs(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var m=i.lanes;m&=n.pendingLanes,c|=m,i.lanes=c,Uo(n,c)}}function gr(n,i){var c=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,A=null;if(c=c.firstBaseUpdate,c!==null){do{var M={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};A===null?v=A=M:A=A.next=M,c=c.next}while(c!==null);A===null?v=A=i:A=A.next=i}else v=A=i;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:A,shared:m.shared,effects:m.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function Os(n,i,c,m){var v=n.updateQueue;es=!1;var A=v.firstBaseUpdate,M=v.lastBaseUpdate,he=v.shared.pending;if(he!==null){v.shared.pending=null;var ve=he,Re=ve.next;ve.next=null,M===null?A=Re:M.next=Re,M=ve;var Qe=n.alternate;Qe!==null&&(Qe=Qe.updateQueue,he=Qe.lastBaseUpdate,he!==M&&(he===null?Qe.firstBaseUpdate=Re:he.next=Re,Qe.lastBaseUpdate=ve))}if(A!==null){var Ze=v.baseState;M=0,Qe=Re=ve=null,he=A;do{var Je=he.lane,lt=he.eventTime;if((m&Je)===Je){Qe!==null&&(Qe=Qe.next={eventTime:lt,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var xt=n,vt=he;switch(Je=i,lt=c,vt.tag){case 1:if(xt=vt.payload,typeof xt=="function"){Ze=xt.call(lt,Ze,Je);break e}Ze=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=vt.payload,Je=typeof xt=="function"?xt.call(lt,Ze,Je):xt,Je==null)break e;Ze=we({},Ze,Je);break e;case 2:es=!0}}he.callback!==null&&he.lane!==0&&(n.flags|=64,Je=v.effects,Je===null?v.effects=[he]:Je.push(he))}else lt={eventTime:lt,lane:Je,tag:he.tag,payload:he.payload,callback:he.callback,next:null},Qe===null?(Re=Qe=lt,ve=Ze):Qe=Qe.next=lt,M|=Je;if(he=he.next,he===null){if(he=v.shared.pending,he===null)break;Je=he,he=Je.next,Je.next=null,v.lastBaseUpdate=Je,v.shared.pending=null}}while(!0);if(Qe===null&&(ve=Ze),v.baseState=ve,v.firstBaseUpdate=Re,v.lastBaseUpdate=Qe,i=v.shared.interleaved,i!==null){v=i;do M|=v.lane,v=v.next;while(v!==i)}else A===null&&(v.shared.lanes=0);Ql|=M,n.lanes=M,n.memoizedState=Ze}}function zn(n,i,c){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var m=n[i],v=m.callback;if(v!==null){if(m.callback=null,m=c,typeof v!="function")throw Error(s(191,v));v.call(m)}}}var la={},ys=oa(la),Gr=oa(la),Oi=oa(la);function ti(n){if(n===la)throw Error(s(174));return n}function al(n,i){switch(ur(Oi,i),ur(Gr,n),ur(ys,la),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:at(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=at(i,n)}cr(ys),ur(ys,i)}function Ea(){cr(ys),cr(Gr),cr(Oi)}function rh(n){ti(Oi.current);var i=ti(ys.current),c=at(i,n.type);i!==c&&(ur(Gr,n),ur(ys,c))}function Jd(n){Gr.current===n&&(cr(ys),cr(Gr))}var jr=oa(0);function ca(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qd=[];function Xd(){for(var n=0;n<Qd.length;n++)Qd[n]._workInProgressVersionPrimary=null;Qd.length=0}var Hc=F.ReactCurrentDispatcher,Wc=F.ReactCurrentBatchConfig,Da=0,_r=null,ts=null,Kr=null,il=!1,ri=!1,ol=0,nm=0;function ls(){throw Error(s(321))}function Gc(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!is(n[c],i[c]))return!1;return!0}function Kl(n,i,c,m,v,A){if(Da=A,_r=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Hc.current=n===null||n.memoizedState===null?ab:ib,n=c(m,v),ri){A=0;do{if(ri=!1,ol=0,25<=A)throw Error(s(301));A+=1,Kr=ts=null,i.updateQueue=null,Hc.current=ob,n=c(m,v)}while(ri)}if(Hc.current=oh,i=ts!==null&&ts.next!==null,Da=0,Kr=ts=_r=null,il=!1,i)throw Error(s(300));return n}function Fa(){var n=ol!==0;return ol=0,n}function da(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?_r.memoizedState=Kr=n:Kr=Kr.next=n,Kr}function Nn(){if(ts===null){var n=_r.alternate;n=n!==null?n.memoizedState:null}else n=ts.next;var i=Kr===null?_r.memoizedState:Kr.next;if(i!==null)Kr=i,ts=n;else{if(n===null)throw Error(s(310));ts=n,n={memoizedState:ts.memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},Kr===null?_r.memoizedState=Kr=n:Kr=Kr.next=n}return Kr}function Yl(n,i){return typeof i=="function"?i(n):i}function Kc(n){var i=Nn(),c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=n;var m=ts,v=m.baseQueue,A=c.pending;if(A!==null){if(v!==null){var M=v.next;v.next=A.next,A.next=M}m.baseQueue=v=A,c.pending=null}if(v!==null){A=v.next,m=m.baseState;var he=M=null,ve=null,Re=A;do{var Qe=Re.lane;if((Da&Qe)===Qe)ve!==null&&(ve=ve.next={lane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),m=Re.hasEagerState?Re.eagerState:n(m,Re.action);else{var Ze={lane:Qe,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null};ve===null?(he=ve=Ze,M=m):ve=ve.next=Ze,_r.lanes|=Qe,Ql|=Qe}Re=Re.next}while(Re!==null&&Re!==A);ve===null?M=m:ve.next=he,is(m,i.memoizedState)||(qn=!0),i.memoizedState=m,i.baseState=M,i.baseQueue=ve,c.lastRenderedState=m}if(n=c.interleaved,n!==null){v=n;do A=v.lane,_r.lanes|=A,Ql|=A,v=v.next;while(v!==n)}else v===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function Mi(n){var i=Nn(),c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=n;var m=c.dispatch,v=c.pending,A=i.memoizedState;if(v!==null){c.pending=null;var M=v=v.next;do A=n(A,M.action),M=M.next;while(M!==v);is(A,i.memoizedState)||(qn=!0),i.memoizedState=A,i.baseQueue===null&&(i.baseState=A),c.lastRenderedState=A}return[A,m]}function sh(){}function Zd(n,i){var c=_r,m=Nn(),v=i(),A=!is(m.memoizedState,v);if(A&&(m.memoizedState=v,qn=!0),m=m.queue,Qc(ah.bind(null,c,m,n),[n]),m.getSnapshot!==i||A||Kr!==null&&Kr.memoizedState.tag&1){if(c.flags|=2048,jn(9,eu.bind(null,c,m,v,i),void 0,null),Ms===null)throw Error(s(349));(Da&30)!==0||nh(c,i,v)}return v}function nh(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=_r.updateQueue,i===null?(i={lastEffect:null,stores:null},_r.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function eu(n,i,c,m){i.value=c,i.getSnapshot=m,ll(i)&&Yc(n)}function ah(n,i,c){return c(function(){ll(i)&&Yc(n)})}function ll(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!is(n,c)}catch{return!0}}function Yc(n){var i=pr(n,1);i!==null&&oi(i,n,1,-1)}function Jl(n){var i=da();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:n},i.queue=n,n=n.dispatch=nb.bind(null,_r,n),[i.memoizedState,n]}function jn(n,i,c,m){return n={tag:n,create:i,destroy:c,deps:m,next:null},i=_r.updateQueue,i===null?(i={lastEffect:null,stores:null},_r.updateQueue=i,i.lastEffect=n.next=n):(c=i.lastEffect,c===null?i.lastEffect=n.next=n:(m=c.next,c.next=n,n.next=m,i.lastEffect=n)),n}function si(){return Nn().memoizedState}function ua(n,i,c,m){var v=da();_r.flags|=n,v.memoizedState=jn(1|i,c,void 0,m===void 0?null:m)}function No(n,i,c,m){var v=Nn();m=m===void 0?null:m;var A=void 0;if(ts!==null){var M=ts.memoizedState;if(A=M.destroy,m!==null&&Gc(m,M.deps)){v.memoizedState=jn(i,c,A,m);return}}_r.flags|=n,v.memoizedState=jn(1|i,c,A,m)}function Jc(n,i){return ua(8390656,8,n,i)}function Qc(n,i){return No(2048,8,n,i)}function ih(n,i){return No(4,2,n,i)}function Xc(n,i){return No(4,4,n,i)}function Zc(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Y0(n,i,c){return c=c!=null?c.concat([n]):null,No(4,4,Zc.bind(null,i,n),c)}function am(){}function J0(n,i){var c=Nn();i=i===void 0?null:i;var m=c.memoizedState;return m!==null&&i!==null&&Gc(i,m[1])?m[0]:(c.memoizedState=[n,i],n)}function Q0(n,i){var c=Nn();i=i===void 0?null:i;var m=c.memoizedState;return m!==null&&i!==null&&Gc(i,m[1])?m[0]:(n=n(),c.memoizedState=[n,i],n)}function X0(n,i,c){return(Da&21)===0?(n.baseState&&(n.baseState=!1,qn=!0),n.memoizedState=c):(is(c,i)||(c=Cc(),_r.lanes|=c,Ql|=c,n.baseState=!0),i)}function rb(n,i){var c=Zt;Zt=c!==0&&4>c?c:4,n(!0);var m=Wc.transition;Wc.transition={};try{n(!1),i()}finally{Zt=c,Wc.transition=m}}function Z0(){return Nn().memoizedState}function sb(n,i,c){var m=hl(n);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},eg(n))tg(i,c);else if(c=hr(n,i,c,m),c!==null){var v=kn();oi(c,n,m,v),rg(c,i,m)}}function nb(n,i,c){var m=hl(n),v={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(eg(n))tg(i,v);else{var A=n.alternate;if(n.lanes===0&&(A===null||A.lanes===0)&&(A=i.lastRenderedReducer,A!==null))try{var M=i.lastRenderedState,he=A(M,c);if(v.hasEagerState=!0,v.eagerState=he,is(he,M)){var ve=i.interleaved;ve===null?(v.next=v,Ts(i)):(v.next=ve.next,ve.next=v),i.interleaved=v;return}}catch{}finally{}c=hr(n,i,v,m),c!==null&&(v=kn(),oi(c,n,m,v),rg(c,i,m))}}function eg(n){var i=n.alternate;return n===_r||i!==null&&i===_r}function tg(n,i){ri=il=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function rg(n,i,c){if((c&4194240)!==0){var m=i.lanes;m&=n.pendingLanes,c|=m,i.lanes=c,Uo(n,c)}}var oh={readContext:Or,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useInsertionEffect:ls,useLayoutEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useMutableSource:ls,useSyncExternalStore:ls,useId:ls,unstable_isNewReconciler:!1},ab={readContext:Or,useCallback:function(n,i){return da().memoizedState=[n,i===void 0?null:i],n},useContext:Or,useEffect:Jc,useImperativeHandle:function(n,i,c){return c=c!=null?c.concat([n]):null,ua(4194308,4,Zc.bind(null,i,n),c)},useLayoutEffect:function(n,i){return ua(4194308,4,n,i)},useInsertionEffect:function(n,i){return ua(4,2,n,i)},useMemo:function(n,i){var c=da();return i=i===void 0?null:i,n=n(),c.memoizedState=[n,i],n},useReducer:function(n,i,c){var m=da();return i=c!==void 0?c(i):i,m.memoizedState=m.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},m.queue=n,n=n.dispatch=sb.bind(null,_r,n),[m.memoizedState,n]},useRef:function(n){var i=da();return n={current:n},i.memoizedState=n},useState:Jl,useDebugValue:am,useDeferredValue:function(n){return da().memoizedState=n},useTransition:function(){var n=Jl(!1),i=n[0];return n=rb.bind(null,n[1]),da().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,c){var m=_r,v=da();if(Ge){if(c===void 0)throw Error(s(407));c=c()}else{if(c=i(),Ms===null)throw Error(s(349));(Da&30)!==0||nh(m,i,c)}v.memoizedState=c;var A={value:c,getSnapshot:i};return v.queue=A,Jc(ah.bind(null,m,A,n),[n]),m.flags|=2048,jn(9,eu.bind(null,m,A,c,i),void 0,null),c},useId:function(){var n=da(),i=Ms.identifierPrefix;if(Ge){var c=ne,m=Pe;c=(m&~(1<<32-Ds(m)-1)).toString(32)+c,i=":"+i+"R"+c,c=ol++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=nm++,i=":"+i+"r"+c.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},ib={readContext:Or,useCallback:J0,useContext:Or,useEffect:Qc,useImperativeHandle:Y0,useInsertionEffect:ih,useLayoutEffect:Xc,useMemo:Q0,useReducer:Kc,useRef:si,useState:function(){return Kc(Yl)},useDebugValue:am,useDeferredValue:function(n){var i=Nn();return X0(i,ts.memoizedState,n)},useTransition:function(){var n=Kc(Yl)[0],i=Nn().memoizedState;return[n,i]},useMutableSource:sh,useSyncExternalStore:Zd,useId:Z0,unstable_isNewReconciler:!1},ob={readContext:Or,useCallback:J0,useContext:Or,useEffect:Qc,useImperativeHandle:Y0,useInsertionEffect:ih,useLayoutEffect:Xc,useMemo:Q0,useReducer:Mi,useRef:si,useState:function(){return Mi(Yl)},useDebugValue:am,useDeferredValue:function(n){var i=Nn();return ts===null?i.memoizedState=n:X0(i,ts.memoizedState,n)},useTransition:function(){var n=Mi(Yl)[0],i=Nn().memoizedState;return[n,i]},useMutableSource:sh,useSyncExternalStore:Zd,useId:Z0,unstable_isNewReconciler:!1};function ni(n,i){if(n&&n.defaultProps){i=we({},i),n=n.defaultProps;for(var c in n)i[c]===void 0&&(i[c]=n[c]);return i}return i}function im(n,i,c,m){i=n.memoizedState,c=c(m,i),c=c==null?i:we({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var lh={isMounted:function(n){return(n=n._reactInternals)?Ss(n)===n:!1},enqueueSetState:function(n,i,c){n=n._reactInternals;var m=kn(),v=hl(n),A=Hr(m,v);A.payload=i,c!=null&&(A.callback=c),i=Wr(n,A,v),i!==null&&(oi(i,n,v,m),Rs(i,n,v))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var m=kn(),v=hl(n),A=Hr(m,v);A.tag=1,A.payload=i,c!=null&&(A.callback=c),i=Wr(n,A,v),i!==null&&(oi(i,n,v,m),Rs(i,n,v))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=kn(),m=hl(n),v=Hr(c,m);v.tag=2,i!=null&&(v.callback=i),i=Wr(n,v,m),i!==null&&(oi(i,n,m,c),Rs(i,n,m))}};function sg(n,i,c,m,v,A,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,A,M):i.prototype&&i.prototype.isPureReactComponent?!_a(c,m)||!_a(v,A):!0}function ng(n,i,c){var m=!1,v=Ri,A=i.contextType;return typeof A=="object"&&A!==null?A=Or(A):(v=on(i)?bo:As.current,m=i.contextTypes,A=(m=m!=null)?nl(n,v):Ri),i=new i(c,A),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=lh,n.stateNode=i,i._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=v,n.__reactInternalMemoizedMaskedChildContext=A),i}function ag(n,i,c,m){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,m),i.state!==n&&lh.enqueueReplaceState(i,i.state,null)}function om(n,i,c,m){var v=n.stateNode;v.props=c,v.state=n.memoizedState,v.refs={},Cs(n);var A=i.contextType;typeof A=="object"&&A!==null?v.context=Or(A):(A=on(i)?bo:As.current,v.context=nl(n,A)),v.state=n.memoizedState,A=i.getDerivedStateFromProps,typeof A=="function"&&(im(n,i,A,c),v.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(i=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),i!==v.state&&lh.enqueueReplaceState(v,v.state,null),Os(n,c,v,m),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308)}function ed(n,i){try{var c="",m=i;do c+=oe(m),m=m.return;while(m);var v=c}catch(A){v=`
Error generating stack: `+A.message+`
`+A.stack}return{value:n,source:i,stack:v,digest:null}}function lm(n,i,c){return{value:n,source:null,stack:c??null,digest:i??null}}function cm(n,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var lb=typeof WeakMap=="function"?WeakMap:Map;function ig(n,i,c){c=Hr(-1,c),c.tag=3,c.payload={element:null};var m=i.value;return c.callback=function(){ph||(ph=!0,Sm=m),cm(n,i)},c}function og(n,i,c){c=Hr(-1,c),c.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var v=i.value;c.payload=function(){return m(v)},c.callback=function(){cm(n,i)}}var A=n.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(c.callback=function(){cm(n,i),typeof m!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var M=i.stack;this.componentDidCatch(i.value,{componentStack:M!==null?M:""})}),c}function lg(n,i,c){var m=n.pingCache;if(m===null){m=n.pingCache=new lb;var v=new Set;m.set(i,v)}else v=m.get(i),v===void 0&&(v=new Set,m.set(i,v));v.has(c)||(v.add(c),n=Nb.bind(null,n,i,c),i.then(n,n))}function cg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function dg(n,i,c,m,v){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Hr(-1,1),i.tag=2,Wr(c,i,1))),c.lanes|=1),n):(n.flags|=65536,n.lanes=v,n)}var cb=F.ReactCurrentOwner,qn=!1;function Sn(n,i,c,m){i.child=n===null?Er(i,null,c,m):Zr(i,n.child,c,m)}function ug(n,i,c,m,v){c=c.render;var A=i.ref;return Rr(i,v),m=Kl(n,i,c,m,A,v),c=Fa(),n!==null&&!qn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~v,jo(n,i,v)):(Ge&&c&&He(i),i.flags|=1,Sn(n,i,m,v),i.child)}function hg(n,i,c,m,v){if(n===null){var A=c.type;return typeof A=="function"&&!Em(A)&&A.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=A,fg(n,i,A,m,v)):(n=wh(c.type,null,m,i,i.mode,v),n.ref=i.ref,n.return=i,i.child=n)}if(A=n.child,(n.lanes&v)===0){var M=A.memoizedProps;if(c=c.compare,c=c!==null?c:_a,c(M,m)&&n.ref===i.ref)return jo(n,i,v)}return i.flags|=1,n=ml(A,m),n.ref=i.ref,n.return=i,i.child=n}function fg(n,i,c,m,v){if(n!==null){var A=n.memoizedProps;if(_a(A,m)&&n.ref===i.ref)if(qn=!1,i.pendingProps=m=A,(n.lanes&v)!==0)(n.flags&131072)!==0&&(qn=!0);else return i.lanes=n.lanes,jo(n,i,v)}return dm(n,i,c,m,v)}function mg(n,i,c){var m=i.pendingProps,v=m.children,A=n!==null?n.memoizedState:null;if(m.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ur(rd,ha),ha|=c;else{if((c&1073741824)===0)return n=A!==null?A.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,ur(rd,ha),ha|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=A!==null?A.baseLanes:c,ur(rd,ha),ha|=m}else A!==null?(m=A.baseLanes|c,i.memoizedState=null):m=c,ur(rd,ha),ha|=m;return Sn(n,i,v,c),i.child}function pg(n,i){var c=i.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function dm(n,i,c,m,v){var A=on(c)?bo:As.current;return A=nl(i,A),Rr(i,v),c=Kl(n,i,c,m,A,v),m=Fa(),n!==null&&!qn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~v,jo(n,i,v)):(Ge&&m&&He(i),i.flags|=1,Sn(n,i,c,v),i.child)}function gg(n,i,c,m,v){if(on(c)){var A=!0;wo(i)}else A=!1;if(Rr(i,v),i.stateNode===null)dh(n,i),ng(i,c,m),om(i,c,m,v),m=!0;else if(n===null){var M=i.stateNode,he=i.memoizedProps;M.props=he;var ve=M.context,Re=c.contextType;typeof Re=="object"&&Re!==null?Re=Or(Re):(Re=on(c)?bo:As.current,Re=nl(i,Re));var Qe=c.getDerivedStateFromProps,Ze=typeof Qe=="function"||typeof M.getSnapshotBeforeUpdate=="function";Ze||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(he!==m||ve!==Re)&&ag(i,M,m,Re),es=!1;var Je=i.memoizedState;M.state=Je,Os(i,m,M,v),ve=i.memoizedState,he!==m||Je!==ve||an.current||es?(typeof Qe=="function"&&(im(i,c,Qe,m),ve=i.memoizedState),(he=es||sg(i,c,he,m,Je,ve,Re))?(Ze||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(i.flags|=4194308)):(typeof M.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=ve),M.props=m,M.state=ve,M.context=Re,m=he):(typeof M.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{M=i.stateNode,ln(n,i),he=i.memoizedProps,Re=i.type===i.elementType?he:ni(i.type,he),M.props=Re,Ze=i.pendingProps,Je=M.context,ve=c.contextType,typeof ve=="object"&&ve!==null?ve=Or(ve):(ve=on(c)?bo:As.current,ve=nl(i,ve));var lt=c.getDerivedStateFromProps;(Qe=typeof lt=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(he!==Ze||Je!==ve)&&ag(i,M,m,ve),es=!1,Je=i.memoizedState,M.state=Je,Os(i,m,M,v);var xt=i.memoizedState;he!==Ze||Je!==xt||an.current||es?(typeof lt=="function"&&(im(i,c,lt,m),xt=i.memoizedState),(Re=es||sg(i,c,Re,m,Je,xt,ve)||!1)?(Qe||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(m,xt,ve),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(m,xt,ve)),typeof M.componentDidUpdate=="function"&&(i.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof M.componentDidUpdate!="function"||he===n.memoizedProps&&Je===n.memoizedState||(i.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||he===n.memoizedProps&&Je===n.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=xt),M.props=m,M.state=xt,M.context=ve,m=Re):(typeof M.componentDidUpdate!="function"||he===n.memoizedProps&&Je===n.memoizedState||(i.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||he===n.memoizedProps&&Je===n.memoizedState||(i.flags|=1024),m=!1)}return um(n,i,c,m,A,v)}function um(n,i,c,m,v,A){pg(n,i);var M=(i.flags&128)!==0;if(!m&&!M)return v&&th(i,c,!1),jo(n,i,A);m=i.stateNode,cb.current=i;var he=M&&typeof c.getDerivedStateFromError!="function"?null:m.render();return i.flags|=1,n!==null&&M?(i.child=Zr(i,n.child,null,A),i.child=Zr(i,null,he,A)):Sn(n,i,he,A),i.memoizedState=m.state,v&&th(i,c,!0),i.child}function xg(n){var i=n.stateNode;i.pendingContext?eh(n,i.pendingContext,i.pendingContext!==i.context):i.context&&eh(n,i.context,!1),al(n,i.containerInfo)}function yg(n,i,c,m,v){return ut(),st(v),i.flags|=256,Sn(n,i,c,m),i.child}var hm={dehydrated:null,treeContext:null,retryLane:0};function fm(n){return{baseLanes:n,cachePool:null,transitions:null}}function vg(n,i,c){var m=i.pendingProps,v=jr.current,A=!1,M=(i.flags&128)!==0,he;if((he=M)||(he=n!==null&&n.memoizedState===null?!1:(v&2)!==0),he?(A=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(v|=1),ur(jr,v&1),n===null)return gt(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(M=m.children,n=m.fallback,A?(m=i.mode,A=i.child,M={mode:"hidden",children:M},(m&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=M):A=Nh(M,m,0,null),n=tc(n,m,c,null),A.return=i,n.return=i,A.sibling=n,i.child=A,i.child.memoizedState=fm(c),i.memoizedState=hm,n):mm(i,M));if(v=n.memoizedState,v!==null&&(he=v.dehydrated,he!==null))return db(n,i,M,m,he,v,c);if(A){A=m.fallback,M=i.mode,v=n.child,he=v.sibling;var ve={mode:"hidden",children:m.children};return(M&1)===0&&i.child!==v?(m=i.child,m.childLanes=0,m.pendingProps=ve,i.deletions=null):(m=ml(v,ve),m.subtreeFlags=v.subtreeFlags&14680064),he!==null?A=ml(he,A):(A=tc(A,M,c,null),A.flags|=2),A.return=i,m.return=i,m.sibling=A,i.child=m,m=A,A=i.child,M=n.child.memoizedState,M=M===null?fm(c):{baseLanes:M.baseLanes|c,cachePool:null,transitions:M.transitions},A.memoizedState=M,A.childLanes=n.childLanes&~c,i.memoizedState=hm,m}return A=n.child,n=A.sibling,m=ml(A,{mode:"visible",children:m.children}),(i.mode&1)===0&&(m.lanes=c),m.return=i,m.sibling=null,n!==null&&(c=i.deletions,c===null?(i.deletions=[n],i.flags|=16):c.push(n)),i.child=m,i.memoizedState=null,m}function mm(n,i){return i=Nh({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function ch(n,i,c,m){return m!==null&&st(m),Zr(i,n.child,null,c),n=mm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function db(n,i,c,m,v,A,M){if(c)return i.flags&256?(i.flags&=-257,m=lm(Error(s(422))),ch(n,i,M,m)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(A=m.fallback,v=i.mode,m=Nh({mode:"visible",children:m.children},v,0,null),A=tc(A,v,M,null),A.flags|=2,m.return=i,A.return=i,m.sibling=A,i.child=m,(i.mode&1)!==0&&Zr(i,n.child,null,M),i.child.memoizedState=fm(M),i.memoizedState=hm,A);if((i.mode&1)===0)return ch(n,i,M,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var he=m.dgst;return m=he,A=Error(s(419)),m=lm(A,m,void 0),ch(n,i,M,m)}if(he=(M&n.childLanes)!==0,qn||he){if(m=Ms,m!==null){switch(M&-M){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|M))!==0?0:v,v!==0&&v!==A.retryLane&&(A.retryLane=v,pr(n,v),oi(m,n,v,-1))}return Lm(),m=lm(Error(s(421))),ch(n,i,M,m)}return v.data==="$?"?(i.flags|=128,i.child=n.child,i=jb.bind(null,n),v._reactRetry=i,null):(n=A.treeContext,$e=Gs(v.nextSibling),ze=i,Ge=!0,Ke=null,n!==null&&(Y[se++]=Pe,Y[se++]=ne,Y[se++]=ye,Pe=n.id,ne=n.overflow,ye=i),i=mm(i,m.children),i.flags|=4096,i)}function bg(n,i,c){n.lanes|=i;var m=n.alternate;m!==null&&(m.lanes|=i),ar(n.return,i,c)}function pm(n,i,c,m,v){var A=n.memoizedState;A===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v}:(A.isBackwards=i,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=c,A.tailMode=v)}function wg(n,i,c){var m=i.pendingProps,v=m.revealOrder,A=m.tail;if(Sn(n,i,m.children,c),m=jr.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&bg(n,c,i);else if(n.tag===19)bg(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if(ur(jr,m),(i.mode&1)===0)i.memoizedState=null;else switch(v){case"forwards":for(c=i.child,v=null;c!==null;)n=c.alternate,n!==null&&ca(n)===null&&(v=c),c=c.sibling;c=v,c===null?(v=i.child,i.child=null):(v=c.sibling,c.sibling=null),pm(i,!1,v,c,A);break;case"backwards":for(c=null,v=i.child,i.child=null;v!==null;){if(n=v.alternate,n!==null&&ca(n)===null){i.child=v;break}n=v.sibling,v.sibling=c,c=v,v=n}pm(i,!0,c,null,A);break;case"together":pm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function dh(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function jo(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),Ql|=i.lanes,(c&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,c=ml(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=ml(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function ub(n,i,c){switch(i.tag){case 3:xg(i),ut();break;case 5:rh(i);break;case 1:on(i.type)&&wo(i);break;case 4:al(i,i.stateNode.containerInfo);break;case 10:var m=i.type._context,v=i.memoizedProps.value;ur(os,m._currentValue),m._currentValue=v;break;case 13:if(m=i.memoizedState,m!==null)return m.dehydrated!==null?(ur(jr,jr.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?vg(n,i,c):(ur(jr,jr.current&1),n=jo(n,i,c),n!==null?n.sibling:null);ur(jr,jr.current&1);break;case 19:if(m=(c&i.childLanes)!==0,(n.flags&128)!==0){if(m)return wg(n,i,c);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ur(jr,jr.current),m)break;return null;case 22:case 23:return i.lanes=0,mg(n,i,c)}return jo(n,i,c)}var Ng,gm,jg,Sg;Ng=function(n,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},gm=function(){},jg=function(n,i,c,m){var v=n.memoizedProps;if(v!==m){n=i.stateNode,ti(ys.current);var A=null;switch(c){case"input":v=Oe(n,v),m=Oe(n,m),A=[];break;case"select":v=we({},v,{value:void 0}),m=we({},m,{value:void 0}),A=[];break;case"textarea":v=Ne(n,v),m=Ne(n,m),A=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=tl)}Mt(c,m);var M;c=null;for(Re in v)if(!m.hasOwnProperty(Re)&&v.hasOwnProperty(Re)&&v[Re]!=null)if(Re==="style"){var he=v[Re];for(M in he)he.hasOwnProperty(M)&&(c||(c={}),c[M]="")}else Re!=="dangerouslySetInnerHTML"&&Re!=="children"&&Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&Re!=="autoFocus"&&(o.hasOwnProperty(Re)?A||(A=[]):(A=A||[]).push(Re,null));for(Re in m){var ve=m[Re];if(he=v?.[Re],m.hasOwnProperty(Re)&&ve!==he&&(ve!=null||he!=null))if(Re==="style")if(he){for(M in he)!he.hasOwnProperty(M)||ve&&ve.hasOwnProperty(M)||(c||(c={}),c[M]="");for(M in ve)ve.hasOwnProperty(M)&&he[M]!==ve[M]&&(c||(c={}),c[M]=ve[M])}else c||(A||(A=[]),A.push(Re,c)),c=ve;else Re==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,he=he?he.__html:void 0,ve!=null&&he!==ve&&(A=A||[]).push(Re,ve)):Re==="children"?typeof ve!="string"&&typeof ve!="number"||(A=A||[]).push(Re,""+ve):Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&(o.hasOwnProperty(Re)?(ve!=null&&Re==="onScroll"&&fr("scroll",n),A||he===ve||(A=[])):(A=A||[]).push(Re,ve))}c&&(A=A||[]).push("style",c);var Re=A;(i.updateQueue=Re)&&(i.flags|=4)}},Sg=function(n,i,c,m){c!==m&&(i.flags|=4)};function tu(n,i){if(!Ge)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function cn(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,m=0;if(i)for(var v=n.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=m,n.childLanes=c,i}function hb(n,i,c){var m=i.pendingProps;switch(Ee(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(i),null;case 1:return on(i.type)&&Vc(),cn(i),null;case 3:return m=i.stateNode,Ea(),cr(an),cr(As),Xd(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(Tr(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ke!==null&&(Cm(Ke),Ke=null))),gm(n,i),cn(i),null;case 5:Jd(i);var v=ti(Oi.current);if(c=i.type,n!==null&&i.stateNode!=null)jg(n,i,c,m,v),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!m){if(i.stateNode===null)throw Error(s(166));return cn(i),null}if(n=ti(ys.current),Tr(i)){m=i.stateNode,c=i.type;var A=i.memoizedProps;switch(m[La]=i,m[rl]=A,n=(i.mode&1)!==0,c){case"dialog":fr("cancel",m),fr("close",m);break;case"iframe":case"object":case"embed":fr("load",m);break;case"video":case"audio":for(v=0;v<Ii.length;v++)fr(Ii[v],m);break;case"source":fr("error",m);break;case"img":case"image":case"link":fr("error",m),fr("load",m);break;case"details":fr("toggle",m);break;case"input":ce(m,A),fr("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!A.multiple},fr("invalid",m);break;case"textarea":Ce(m,A),fr("invalid",m)}Mt(c,A),v=null;for(var M in A)if(A.hasOwnProperty(M)){var he=A[M];M==="children"?typeof he=="string"?m.textContent!==he&&(A.suppressHydrationWarning!==!0&&$c(m.textContent,he,n),v=["children",he]):typeof he=="number"&&m.textContent!==""+he&&(A.suppressHydrationWarning!==!0&&$c(m.textContent,he,n),v=["children",""+he]):o.hasOwnProperty(M)&&he!=null&&M==="onScroll"&&fr("scroll",m)}switch(c){case"input":ge(m),Be(m,A,!0);break;case"textarea":ge(m),Ie(m);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(m.onclick=tl)}m=v,i.updateQueue=m,m!==null&&(i.flags|=4)}else{M=v.nodeType===9?v:v.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ve(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=M.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=M.createElement(c,{is:m.is}):(n=M.createElement(c),c==="select"&&(M=n,m.multiple?M.multiple=!0:m.size&&(M.size=m.size))):n=M.createElementNS(n,c),n[La]=i,n[rl]=m,Ng(n,i,!1,!1),i.stateNode=n;e:{switch(M=ot(c,m),c){case"dialog":fr("cancel",n),fr("close",n),v=m;break;case"iframe":case"object":case"embed":fr("load",n),v=m;break;case"video":case"audio":for(v=0;v<Ii.length;v++)fr(Ii[v],n);v=m;break;case"source":fr("error",n),v=m;break;case"img":case"image":case"link":fr("error",n),fr("load",n),v=m;break;case"details":fr("toggle",n),v=m;break;case"input":ce(n,m),v=Oe(n,m),fr("invalid",n);break;case"option":v=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},v=we({},m,{value:void 0}),fr("invalid",n);break;case"textarea":Ce(n,m),v=Ne(n,m),fr("invalid",n);break;default:v=m}Mt(c,v),he=v;for(A in he)if(he.hasOwnProperty(A)){var ve=he[A];A==="style"?nt(n,ve):A==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&rt(n,ve)):A==="children"?typeof ve=="string"?(c!=="textarea"||ve!=="")&&ft(n,ve):typeof ve=="number"&&ft(n,""+ve):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(o.hasOwnProperty(A)?ve!=null&&A==="onScroll"&&fr("scroll",n):ve!=null&&_(n,A,ve,M))}switch(c){case"input":ge(n),Be(n,m,!1);break;case"textarea":ge(n),Ie(n);break;case"option":m.value!=null&&n.setAttribute("value",""+ke(m.value));break;case"select":n.multiple=!!m.multiple,A=m.value,A!=null?de(n,!!m.multiple,A,!1):m.defaultValue!=null&&de(n,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(n.onclick=tl)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return cn(i),null;case 6:if(n&&i.stateNode!=null)Sg(n,i,n.memoizedProps,m);else{if(typeof m!="string"&&i.stateNode===null)throw Error(s(166));if(c=ti(Oi.current),ti(ys.current),Tr(i)){if(m=i.stateNode,c=i.memoizedProps,m[La]=i,(A=m.nodeValue!==c)&&(n=ze,n!==null))switch(n.tag){case 3:$c(m.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&$c(m.nodeValue,c,(n.mode&1)!==0)}A&&(i.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[La]=i,i.stateNode=m}return cn(i),null;case 13:if(cr(jr),m=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ge&&$e!==null&&(i.mode&1)!==0&&(i.flags&128)===0)qt(),ut(),i.flags|=98560,A=!1;else if(A=Tr(i),m!==null&&m.dehydrated!==null){if(n===null){if(!A)throw Error(s(318));if(A=i.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(s(317));A[La]=i}else ut(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;cn(i),A=!1}else Ke!==null&&(Cm(Ke),Ke=null),A=!0;if(!A)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(jr.current&1)!==0?_s===0&&(_s=3):Lm())),i.updateQueue!==null&&(i.flags|=4),cn(i),null);case 4:return Ea(),gm(n,i),n===null&&go(i.stateNode.containerInfo),cn(i),null;case 10:return Cr(i.type._context),cn(i),null;case 17:return on(i.type)&&Vc(),cn(i),null;case 19:if(cr(jr),A=i.memoizedState,A===null)return cn(i),null;if(m=(i.flags&128)!==0,M=A.rendering,M===null)if(m)tu(A,!1);else{if(_s!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(M=ca(n),M!==null){for(i.flags|=128,tu(A,!1),m=M.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),i.subtreeFlags=0,m=c,c=i.child;c!==null;)A=c,n=m,A.flags&=14680066,M=A.alternate,M===null?(A.childLanes=0,A.lanes=n,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=M.childLanes,A.lanes=M.lanes,A.child=M.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=M.memoizedProps,A.memoizedState=M.memoizedState,A.updateQueue=M.updateQueue,A.type=M.type,n=M.dependencies,A.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return ur(jr,jr.current&1|2),i.child}n=n.sibling}A.tail!==null&&Nr()>sd&&(i.flags|=128,m=!0,tu(A,!1),i.lanes=4194304)}else{if(!m)if(n=ca(M),n!==null){if(i.flags|=128,m=!0,c=n.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),tu(A,!0),A.tail===null&&A.tailMode==="hidden"&&!M.alternate&&!Ge)return cn(i),null}else 2*Nr()-A.renderingStartTime>sd&&c!==1073741824&&(i.flags|=128,m=!0,tu(A,!1),i.lanes=4194304);A.isBackwards?(M.sibling=i.child,i.child=M):(c=A.last,c!==null?c.sibling=M:i.child=M,A.last=M)}return A.tail!==null?(i=A.tail,A.rendering=i,A.tail=i.sibling,A.renderingStartTime=Nr(),i.sibling=null,c=jr.current,ur(jr,m?c&1|2:c&1),i):(cn(i),null);case 22:case 23:return Pm(),m=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(i.flags|=8192),m&&(i.mode&1)!==0?(ha&1073741824)!==0&&(cn(i),i.subtreeFlags&6&&(i.flags|=8192)):cn(i),null;case 24:return null;case 25:return null}throw Error(s(156,i.tag))}function fb(n,i){switch(Ee(i),i.tag){case 1:return on(i.type)&&Vc(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ea(),cr(an),cr(As),Xd(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Jd(i),null;case 13:if(cr(jr),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ut()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return cr(jr),null;case 4:return Ea(),null;case 10:return Cr(i.type._context),null;case 22:case 23:return Pm(),null;case 24:return null;default:return null}}var uh=!1,dn=!1,mb=typeof WeakSet=="function"?WeakSet:Set,mt=null;function td(n,i){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){rs(n,i,m)}else c.current=null}function xm(n,i,c){try{c()}catch(m){rs(n,i,m)}}var kg=!1;function pb(n,i){if(Hl=Vo,n=Rd(),Oc(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{c.nodeType,A.nodeType}catch{c=null;break e}var M=0,he=-1,ve=-1,Re=0,Qe=0,Ze=n,Je=null;t:for(;;){for(var lt;Ze!==c||v!==0&&Ze.nodeType!==3||(he=M+v),Ze!==A||m!==0&&Ze.nodeType!==3||(ve=M+m),Ze.nodeType===3&&(M+=Ze.nodeValue.length),(lt=Ze.firstChild)!==null;)Je=Ze,Ze=lt;for(;;){if(Ze===n)break t;if(Je===c&&++Re===v&&(he=M),Je===A&&++Qe===m&&(ve=M),(lt=Ze.nextSibling)!==null)break;Ze=Je,Je=Ze.parentNode}Ze=lt}c=he===-1||ve===-1?null:{start:he,end:ve}}else c=null}c=c||{start:0,end:0}}else c=null;for(yo={focusedElem:n,selectionRange:c},Vo=!1,mt=i;mt!==null;)if(i=mt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,mt=n;else for(;mt!==null;){i=mt;try{var xt=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var vt=xt.memoizedProps,cs=xt.memoizedState,Le=i.stateNode,je=Le.getSnapshotBeforeUpdate(i.elementType===i.type?vt:ni(i.type,vt),cs);Le.__reactInternalSnapshotBeforeUpdate=je}break;case 3:var Fe=i.stateNode.containerInfo;Fe.nodeType===1?Fe.textContent="":Fe.nodeType===9&&Fe.documentElement&&Fe.removeChild(Fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(tt){rs(i,i.return,tt)}if(n=i.sibling,n!==null){n.return=i.return,mt=n;break}mt=i.return}return xt=kg,kg=!1,xt}function ru(n,i,c){var m=i.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&n)===n){var A=v.destroy;v.destroy=void 0,A!==void 0&&xm(i,c,A)}v=v.next}while(v!==m)}}function hh(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&n)===n){var m=c.create;c.destroy=m()}c=c.next}while(c!==i)}}function ym(n){var i=n.ref;if(i!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof i=="function"?i(n):i.current=n}}function Ag(n){var i=n.alternate;i!==null&&(n.alternate=null,Ag(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[La],delete i[rl],delete i[nn],delete i[rm],delete i[sm])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Cg(n){return n.tag===5||n.tag===3||n.tag===4}function _g(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Cg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function vm(n,i,c){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(n,i):c.insertBefore(n,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(n,c)):(i=c,i.appendChild(n)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=tl));else if(m!==4&&(n=n.child,n!==null))for(vm(n,i,c),n=n.sibling;n!==null;)vm(n,i,c),n=n.sibling}function bm(n,i,c){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(bm(n,i,c),n=n.sibling;n!==null;)bm(n,i,c),n=n.sibling}var Ks=null,ai=!1;function cl(n,i,c){for(c=c.child;c!==null;)Pg(n,i,c),c=c.sibling}function Pg(n,i,c){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(eo,c)}catch{}switch(c.tag){case 5:dn||td(c,i);case 6:var m=Ks,v=ai;Ks=null,cl(n,i,c),Ks=m,ai=v,Ks!==null&&(ai?(n=Ks,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):Ks.removeChild(c.stateNode));break;case 18:Ks!==null&&(ai?(n=Ks,c=c.stateNode,n.nodeType===8?Gd(n.parentNode,c):n.nodeType===1&&Gd(n,c),ja(n)):Gd(Ks,c.stateNode));break;case 4:m=Ks,v=ai,Ks=c.stateNode.containerInfo,ai=!0,cl(n,i,c),Ks=m,ai=v;break;case 0:case 11:case 14:case 15:if(!dn&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var A=v,M=A.destroy;A=A.tag,M!==void 0&&((A&2)!==0||(A&4)!==0)&&xm(c,i,M),v=v.next}while(v!==m)}cl(n,i,c);break;case 1:if(!dn&&(td(c,i),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(he){rs(c,i,he)}cl(n,i,c);break;case 21:cl(n,i,c);break;case 22:c.mode&1?(dn=(m=dn)||c.memoizedState!==null,cl(n,i,c),dn=m):cl(n,i,c);break;default:cl(n,i,c)}}function Lg(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new mb),i.forEach(function(m){var v=Sb.bind(null,n,m);c.has(m)||(c.add(m),m.then(v,v))})}}function ii(n,i){var c=i.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];try{var A=n,M=i,he=M;e:for(;he!==null;){switch(he.tag){case 5:Ks=he.stateNode,ai=!1;break e;case 3:Ks=he.stateNode.containerInfo,ai=!0;break e;case 4:Ks=he.stateNode.containerInfo,ai=!0;break e}he=he.return}if(Ks===null)throw Error(s(160));Pg(A,M,v),Ks=null,ai=!1;var ve=v.alternate;ve!==null&&(ve.return=null),v.return=null}catch(Re){rs(v,i,Re)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Eg(i,n),i=i.sibling}function Eg(n,i){var c=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ii(i,n),Bi(n),m&4){try{ru(3,n,n.return),hh(3,n)}catch(vt){rs(n,n.return,vt)}try{ru(5,n,n.return)}catch(vt){rs(n,n.return,vt)}}break;case 1:ii(i,n),Bi(n),m&512&&c!==null&&td(c,c.return);break;case 5:if(ii(i,n),Bi(n),m&512&&c!==null&&td(c,c.return),n.flags&32){var v=n.stateNode;try{ft(v,"")}catch(vt){rs(n,n.return,vt)}}if(m&4&&(v=n.stateNode,v!=null)){var A=n.memoizedProps,M=c!==null?c.memoizedProps:A,he=n.type,ve=n.updateQueue;if(n.updateQueue=null,ve!==null)try{he==="input"&&A.type==="radio"&&A.name!=null&&Ht(v,A),ot(he,M);var Re=ot(he,A);for(M=0;M<ve.length;M+=2){var Qe=ve[M],Ze=ve[M+1];Qe==="style"?nt(v,Ze):Qe==="dangerouslySetInnerHTML"?rt(v,Ze):Qe==="children"?ft(v,Ze):_(v,Qe,Ze,Re)}switch(he){case"input":Et(v,A);break;case"textarea":Me(v,A);break;case"select":var Je=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!A.multiple;var lt=A.value;lt!=null?de(v,!!A.multiple,lt,!1):Je!==!!A.multiple&&(A.defaultValue!=null?de(v,!!A.multiple,A.defaultValue,!0):de(v,!!A.multiple,A.multiple?[]:"",!1))}v[rl]=A}catch(vt){rs(n,n.return,vt)}}break;case 6:if(ii(i,n),Bi(n),m&4){if(n.stateNode===null)throw Error(s(162));v=n.stateNode,A=n.memoizedProps;try{v.nodeValue=A}catch(vt){rs(n,n.return,vt)}}break;case 3:if(ii(i,n),Bi(n),m&4&&c!==null&&c.memoizedState.isDehydrated)try{ja(i.containerInfo)}catch(vt){rs(n,n.return,vt)}break;case 4:ii(i,n),Bi(n);break;case 13:ii(i,n),Bi(n),v=n.child,v.flags&8192&&(A=v.memoizedState!==null,v.stateNode.isHidden=A,!A||v.alternate!==null&&v.alternate.memoizedState!==null||(jm=Nr())),m&4&&Lg(n);break;case 22:if(Qe=c!==null&&c.memoizedState!==null,n.mode&1?(dn=(Re=dn)||Qe,ii(i,n),dn=Re):ii(i,n),Bi(n),m&8192){if(Re=n.memoizedState!==null,(n.stateNode.isHidden=Re)&&!Qe&&(n.mode&1)!==0)for(mt=n,Qe=n.child;Qe!==null;){for(Ze=mt=Qe;mt!==null;){switch(Je=mt,lt=Je.child,Je.tag){case 0:case 11:case 14:case 15:ru(4,Je,Je.return);break;case 1:td(Je,Je.return);var xt=Je.stateNode;if(typeof xt.componentWillUnmount=="function"){m=Je,c=Je.return;try{i=m,xt.props=i.memoizedProps,xt.state=i.memoizedState,xt.componentWillUnmount()}catch(vt){rs(m,c,vt)}}break;case 5:td(Je,Je.return);break;case 22:if(Je.memoizedState!==null){Ig(Ze);continue}}lt!==null?(lt.return=Je,mt=lt):Ig(Ze)}Qe=Qe.sibling}e:for(Qe=null,Ze=n;;){if(Ze.tag===5){if(Qe===null){Qe=Ze;try{v=Ze.stateNode,Re?(A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(he=Ze.stateNode,ve=Ze.memoizedProps.style,M=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,he.style.display=zt("display",M))}catch(vt){rs(n,n.return,vt)}}}else if(Ze.tag===6){if(Qe===null)try{Ze.stateNode.nodeValue=Re?"":Ze.memoizedProps}catch(vt){rs(n,n.return,vt)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===n)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===n)break e;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===n)break e;Qe===Ze&&(Qe=null),Ze=Ze.return}Qe===Ze&&(Qe=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}break;case 19:ii(i,n),Bi(n),m&4&&Lg(n);break;case 21:break;default:ii(i,n),Bi(n)}}function Bi(n){var i=n.flags;if(i&2){try{e:{for(var c=n.return;c!==null;){if(Cg(c)){var m=c;break e}c=c.return}throw Error(s(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(ft(v,""),m.flags&=-33);var A=_g(n);bm(n,A,v);break;case 3:case 4:var M=m.stateNode.containerInfo,he=_g(n);vm(n,he,M);break;default:throw Error(s(161))}}catch(ve){rs(n,n.return,ve)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function gb(n,i,c){mt=n,Dg(n)}function Dg(n,i,c){for(var m=(n.mode&1)!==0;mt!==null;){var v=mt,A=v.child;if(v.tag===22&&m){var M=v.memoizedState!==null||uh;if(!M){var he=v.alternate,ve=he!==null&&he.memoizedState!==null||dn;he=uh;var Re=dn;if(uh=M,(dn=ve)&&!Re)for(mt=v;mt!==null;)M=mt,ve=M.child,M.tag===22&&M.memoizedState!==null?Tg(v):ve!==null?(ve.return=M,mt=ve):Tg(v);for(;A!==null;)mt=A,Dg(A),A=A.sibling;mt=v,uh=he,dn=Re}Fg(n)}else(v.subtreeFlags&8772)!==0&&A!==null?(A.return=v,mt=A):Fg(n)}}function Fg(n){for(;mt!==null;){var i=mt;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:dn||hh(5,i);break;case 1:var m=i.stateNode;if(i.flags&4&&!dn)if(c===null)m.componentDidMount();else{var v=i.elementType===i.type?c.memoizedProps:ni(i.type,c.memoizedProps);m.componentDidUpdate(v,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var A=i.updateQueue;A!==null&&zn(i,A,m);break;case 3:var M=i.updateQueue;if(M!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}zn(i,M,c)}break;case 5:var he=i.stateNode;if(c===null&&i.flags&4){c=he;var ve=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&c.focus();break;case"img":ve.src&&(c.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Re=i.alternate;if(Re!==null){var Qe=Re.memoizedState;if(Qe!==null){var Ze=Qe.dehydrated;Ze!==null&&ja(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}dn||i.flags&512&&ym(i)}catch(Je){rs(i,i.return,Je)}}if(i===n){mt=null;break}if(c=i.sibling,c!==null){c.return=i.return,mt=c;break}mt=i.return}}function Ig(n){for(;mt!==null;){var i=mt;if(i===n){mt=null;break}var c=i.sibling;if(c!==null){c.return=i.return,mt=c;break}mt=i.return}}function Tg(n){for(;mt!==null;){var i=mt;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{hh(4,i)}catch(ve){rs(i,c,ve)}break;case 1:var m=i.stateNode;if(typeof m.componentDidMount=="function"){var v=i.return;try{m.componentDidMount()}catch(ve){rs(i,v,ve)}}var A=i.return;try{ym(i)}catch(ve){rs(i,A,ve)}break;case 5:var M=i.return;try{ym(i)}catch(ve){rs(i,M,ve)}}}catch(ve){rs(i,i.return,ve)}if(i===n){mt=null;break}var he=i.sibling;if(he!==null){he.return=i.return,mt=he;break}mt=i.return}}var xb=Math.ceil,fh=F.ReactCurrentDispatcher,wm=F.ReactCurrentOwner,Ia=F.ReactCurrentBatchConfig,ir=0,Ms=null,vs=null,Ys=0,ha=0,rd=oa(0),_s=0,su=null,Ql=0,mh=0,Nm=0,nu=null,$n=null,jm=0,sd=1/0,So=null,ph=!1,Sm=null,dl=null,gh=!1,ul=null,xh=0,au=0,km=null,yh=-1,vh=0;function kn(){return(ir&6)!==0?Nr():yh!==-1?yh:yh=Nr()}function hl(n){return(n.mode&1)===0?1:(ir&2)!==0&&Ys!==0?Ys&-Ys:Vr.transition!==null?(vh===0&&(vh=Cc()),vh):(n=Zt,n!==0||(n=window.event,n=n===void 0?16:lo(n.type)),n)}function oi(n,i,c,m){if(50<au)throw au=0,km=null,Error(s(185));no(n,c,m),((ir&2)===0||n!==Ms)&&(n===Ms&&((ir&2)===0&&(mh|=c),_s===4&&fl(n,Ys)),Vn(n,m),c===1&&ir===0&&(i.mode&1)===0&&(sd=Nr()+500,Gl&&P()))}function Vn(n,i){var c=n.callbackNode;zr(n,i);var m=Qs(n,n===Ms?Ys:0);if(m===0)c!==null&&Zi(c),n.callbackNode=null,n.callbackPriority=0;else if(i=m&-m,n.callbackPriority!==i){if(c!=null&&Zi(c),i===1)n.tag===0?N(Og.bind(null,n)):x(Og.bind(null,n)),em(function(){(ir&6)===0&&P()}),c=null;else{switch(qa(m)){case 1:c=Mo;break;case 4:c=yn;break;case 16:c=ki;break;case 536870912:c=Bo;break;default:c=ki}c=Hg(c,Rg.bind(null,n))}n.callbackPriority=i,n.callbackNode=c}}function Rg(n,i){if(yh=-1,vh=0,(ir&6)!==0)throw Error(s(327));var c=n.callbackNode;if(nd()&&n.callbackNode!==c)return null;var m=Qs(n,n===Ms?Ys:0);if(m===0)return null;if((m&30)!==0||(m&n.expiredLanes)!==0||i)i=bh(n,m);else{i=m;var v=ir;ir|=2;var A=Bg();(Ms!==n||Ys!==i)&&(So=null,sd=Nr()+500,Zl(n,i));do try{bb();break}catch(he){Mg(n,he)}while(!0);nr(),fh.current=A,ir=v,vs!==null?i=0:(Ms=null,Ys=0,i=_s)}if(i!==0){if(i===2&&(v=so(n),v!==0&&(m=v,i=Am(n,v))),i===1)throw c=su,Zl(n,0),fl(n,m),Vn(n,Nr()),c;if(i===6)fl(n,m);else{if(v=n.current.alternate,(m&30)===0&&!yb(v)&&(i=bh(n,m),i===2&&(A=so(n),A!==0&&(m=A,i=Am(n,A))),i===1))throw c=su,Zl(n,0),fl(n,m),Vn(n,Nr()),c;switch(n.finishedWork=v,n.finishedLanes=m,i){case 0:case 1:throw Error(s(345));case 2:ec(n,$n,So);break;case 3:if(fl(n,m),(m&130023424)===m&&(i=jm+500-Nr(),10<i)){if(Qs(n,0)!==0)break;if(v=n.suspendedLanes,(v&m)!==m){kn(),n.pingedLanes|=n.suspendedLanes&v;break}n.timeoutHandle=Wd(ec.bind(null,n,$n,So),i);break}ec(n,$n,So);break;case 4:if(fl(n,m),(m&4194240)===m)break;for(i=n.eventTimes,v=-1;0<m;){var M=31-Ds(m);A=1<<M,M=i[M],M>v&&(v=M),m&=~A}if(m=v,m=Nr()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*xb(m/1960))-m,10<m){n.timeoutHandle=Wd(ec.bind(null,n,$n,So),m);break}ec(n,$n,So);break;case 5:ec(n,$n,So);break;default:throw Error(s(329))}}}return Vn(n,Nr()),n.callbackNode===c?Rg.bind(null,n):null}function Am(n,i){var c=nu;return n.current.memoizedState.isDehydrated&&(Zl(n,i).flags|=256),n=bh(n,i),n!==2&&(i=$n,$n=c,i!==null&&Cm(i)),n}function Cm(n){$n===null?$n=n:$n.push.apply($n,n)}function yb(n){for(var i=n;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var v=c[m],A=v.getSnapshot;v=v.value;try{if(!is(A(),v))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fl(n,i){for(i&=~Nm,i&=~mh,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var c=31-Ds(i),m=1<<c;n[c]=-1,i&=~m}}function Og(n){if((ir&6)!==0)throw Error(s(327));nd();var i=Qs(n,0);if((i&1)===0)return Vn(n,Nr()),null;var c=bh(n,i);if(n.tag!==0&&c===2){var m=so(n);m!==0&&(i=m,c=Am(n,m))}if(c===1)throw c=su,Zl(n,0),fl(n,i),Vn(n,Nr()),c;if(c===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,ec(n,$n,So),Vn(n,Nr()),null}function _m(n,i){var c=ir;ir|=1;try{return n(i)}finally{ir=c,ir===0&&(sd=Nr()+500,Gl&&P())}}function Xl(n){ul!==null&&ul.tag===0&&(ir&6)===0&&nd();var i=ir;ir|=1;var c=Ia.transition,m=Zt;try{if(Ia.transition=null,Zt=1,n)return n()}finally{Zt=m,Ia.transition=c,ir=i,(ir&6)===0&&P()}}function Pm(){ha=rd.current,cr(rd)}function Zl(n,i){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,Xu(c)),vs!==null)for(c=vs.return;c!==null;){var m=c;switch(Ee(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Vc();break;case 3:Ea(),cr(an),cr(As),Xd();break;case 5:Jd(m);break;case 4:Ea();break;case 13:cr(jr);break;case 19:cr(jr);break;case 10:Cr(m.type._context);break;case 22:case 23:Pm()}c=c.return}if(Ms=n,vs=n=ml(n.current,null),Ys=ha=i,_s=0,su=null,Nm=mh=Ql=0,$n=nu=null,mr!==null){for(i=0;i<mr.length;i++)if(c=mr[i],m=c.interleaved,m!==null){c.interleaved=null;var v=m.next,A=c.pending;if(A!==null){var M=A.next;A.next=v,m.next=M}c.pending=m}mr=null}return n}function Mg(n,i){do{var c=vs;try{if(nr(),Hc.current=oh,il){for(var m=_r.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}il=!1}if(Da=0,Kr=ts=_r=null,ri=!1,ol=0,wm.current=null,c===null||c.return===null){_s=1,su=i,vs=null;break}e:{var A=n,M=c.return,he=c,ve=i;if(i=Ys,he.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Re=ve,Qe=he,Ze=Qe.tag;if((Qe.mode&1)===0&&(Ze===0||Ze===11||Ze===15)){var Je=Qe.alternate;Je?(Qe.updateQueue=Je.updateQueue,Qe.memoizedState=Je.memoizedState,Qe.lanes=Je.lanes):(Qe.updateQueue=null,Qe.memoizedState=null)}var lt=cg(M);if(lt!==null){lt.flags&=-257,dg(lt,M,he,A,i),lt.mode&1&&lg(A,Re,i),i=lt,ve=Re;var xt=i.updateQueue;if(xt===null){var vt=new Set;vt.add(ve),i.updateQueue=vt}else xt.add(ve);break e}else{if((i&1)===0){lg(A,Re,i),Lm();break e}ve=Error(s(426))}}else if(Ge&&he.mode&1){var cs=cg(M);if(cs!==null){(cs.flags&65536)===0&&(cs.flags|=256),dg(cs,M,he,A,i),st(ed(ve,he));break e}}A=ve=ed(ve,he),_s!==4&&(_s=2),nu===null?nu=[A]:nu.push(A),A=M;do{switch(A.tag){case 3:A.flags|=65536,i&=-i,A.lanes|=i;var Le=ig(A,ve,i);gr(A,Le);break e;case 1:he=ve;var je=A.type,Fe=A.stateNode;if((A.flags&128)===0&&(typeof je.getDerivedStateFromError=="function"||Fe!==null&&typeof Fe.componentDidCatch=="function"&&(dl===null||!dl.has(Fe)))){A.flags|=65536,i&=-i,A.lanes|=i;var tt=og(A,he,i);gr(A,tt);break e}}A=A.return}while(A!==null)}zg(c)}catch(Nt){i=Nt,vs===c&&c!==null&&(vs=c=c.return);continue}break}while(!0)}function Bg(){var n=fh.current;return fh.current=oh,n===null?oh:n}function Lm(){(_s===0||_s===3||_s===2)&&(_s=4),Ms===null||(Ql&268435455)===0&&(mh&268435455)===0||fl(Ms,Ys)}function bh(n,i){var c=ir;ir|=2;var m=Bg();(Ms!==n||Ys!==i)&&(So=null,Zl(n,i));do try{vb();break}catch(v){Mg(n,v)}while(!0);if(nr(),ir=c,fh.current=m,vs!==null)throw Error(s(261));return Ms=null,Ys=0,_s}function vb(){for(;vs!==null;)Ug(vs)}function bb(){for(;vs!==null&&!Oo();)Ug(vs)}function Ug(n){var i=Vg(n.alternate,n,ha);n.memoizedProps=n.pendingProps,i===null?zg(n):vs=i,wm.current=null}function zg(n){var i=n;do{var c=i.alternate;if(n=i.return,(i.flags&32768)===0){if(c=hb(c,i,ha),c!==null){vs=c;return}}else{if(c=fb(c,i),c!==null){c.flags&=32767,vs=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{_s=6,vs=null;return}}if(i=i.sibling,i!==null){vs=i;return}vs=i=n}while(i!==null);_s===0&&(_s=5)}function ec(n,i,c){var m=Zt,v=Ia.transition;try{Ia.transition=null,Zt=1,wb(n,i,c,m)}finally{Ia.transition=v,Zt=m}return null}function wb(n,i,c,m){do nd();while(ul!==null);if((ir&6)!==0)throw Error(s(327));c=n.finishedWork;var v=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var A=c.lanes|c.childLanes;if(ba(n,A),n===Ms&&(vs=Ms=null,Ys=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||gh||(gh=!0,Hg(ki,function(){return nd(),null})),A=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||A){A=Ia.transition,Ia.transition=null;var M=Zt;Zt=1;var he=ir;ir|=4,wm.current=null,pb(n,c),Eg(c,n),Gu(yo),Vo=!!Hl,yo=Hl=null,n.current=c,gb(c),Dd(),ir=he,Zt=M,Ia.transition=A}else n.current=c;if(gh&&(gh=!1,ul=n,xh=v),A=n.pendingLanes,A===0&&(dl=null),kc(c.stateNode),Vn(n,Nr()),i!==null)for(m=n.onRecoverableError,c=0;c<i.length;c++)v=i[c],m(v.value,{componentStack:v.stack,digest:v.digest});if(ph)throw ph=!1,n=Sm,Sm=null,n;return(xh&1)!==0&&n.tag!==0&&nd(),A=n.pendingLanes,(A&1)!==0?n===km?au++:(au=0,km=n):au=0,P(),null}function nd(){if(ul!==null){var n=qa(xh),i=Ia.transition,c=Zt;try{if(Ia.transition=null,Zt=16>n?16:n,ul===null)var m=!1;else{if(n=ul,ul=null,xh=0,(ir&6)!==0)throw Error(s(331));var v=ir;for(ir|=4,mt=n.current;mt!==null;){var A=mt,M=A.child;if((mt.flags&16)!==0){var he=A.deletions;if(he!==null){for(var ve=0;ve<he.length;ve++){var Re=he[ve];for(mt=Re;mt!==null;){var Qe=mt;switch(Qe.tag){case 0:case 11:case 15:ru(8,Qe,A)}var Ze=Qe.child;if(Ze!==null)Ze.return=Qe,mt=Ze;else for(;mt!==null;){Qe=mt;var Je=Qe.sibling,lt=Qe.return;if(Ag(Qe),Qe===Re){mt=null;break}if(Je!==null){Je.return=lt,mt=Je;break}mt=lt}}}var xt=A.alternate;if(xt!==null){var vt=xt.child;if(vt!==null){xt.child=null;do{var cs=vt.sibling;vt.sibling=null,vt=cs}while(vt!==null)}}mt=A}}if((A.subtreeFlags&2064)!==0&&M!==null)M.return=A,mt=M;else e:for(;mt!==null;){if(A=mt,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:ru(9,A,A.return)}var Le=A.sibling;if(Le!==null){Le.return=A.return,mt=Le;break e}mt=A.return}}var je=n.current;for(mt=je;mt!==null;){M=mt;var Fe=M.child;if((M.subtreeFlags&2064)!==0&&Fe!==null)Fe.return=M,mt=Fe;else e:for(M=je;mt!==null;){if(he=mt,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:hh(9,he)}}catch(Nt){rs(he,he.return,Nt)}if(he===M){mt=null;break e}var tt=he.sibling;if(tt!==null){tt.return=he.return,mt=tt;break e}mt=he.return}}if(ir=v,P(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(eo,n)}catch{}m=!0}return m}finally{Zt=c,Ia.transition=i}}return!1}function qg(n,i,c){i=ed(c,i),i=ig(n,i,1),n=Wr(n,i,1),i=kn(),n!==null&&(no(n,1,i),Vn(n,i))}function rs(n,i,c){if(n.tag===3)qg(n,n,c);else for(;i!==null;){if(i.tag===3){qg(i,n,c);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(dl===null||!dl.has(m))){n=ed(c,n),n=og(i,n,1),i=Wr(i,n,1),n=kn(),i!==null&&(no(i,1,n),Vn(i,n));break}}i=i.return}}function Nb(n,i,c){var m=n.pingCache;m!==null&&m.delete(i),i=kn(),n.pingedLanes|=n.suspendedLanes&c,Ms===n&&(Ys&c)===c&&(_s===4||_s===3&&(Ys&130023424)===Ys&&500>Nr()-jm?Zl(n,0):Nm|=c),Vn(n,i)}function $g(n,i){i===0&&((n.mode&1)===0?i=1:(i=Rn,Rn<<=1,(Rn&130023424)===0&&(Rn=4194304)));var c=kn();n=pr(n,i),n!==null&&(no(n,i,c),Vn(n,c))}function jb(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),$g(n,c)}function Sb(n,i){var c=0;switch(n.tag){case 13:var m=n.stateNode,v=n.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(s(314))}m!==null&&m.delete(i),$g(n,c)}var Vg;Vg=function(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps||an.current)qn=!0;else{if((n.lanes&c)===0&&(i.flags&128)===0)return qn=!1,ub(n,i,c);qn=(n.flags&131072)!==0}else qn=!1,Ge&&(i.flags&1048576)!==0&&_e(i,W,i.index);switch(i.lanes=0,i.tag){case 2:var m=i.type;dh(n,i),n=i.pendingProps;var v=nl(i,As.current);Rr(i,c),v=Kl(null,i,m,n,v,c);var A=Fa();return i.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,on(m)?(A=!0,wo(i)):A=!1,i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Cs(i),v.updater=lh,i.stateNode=v,v._reactInternals=i,om(i,m,n,c),i=um(null,i,m,!0,A,c)):(i.tag=0,Ge&&A&&He(i),Sn(null,i,v,c),i=i.child),i;case 16:m=i.elementType;e:{switch(dh(n,i),n=i.pendingProps,v=m._init,m=v(m._payload),i.type=m,v=i.tag=Ab(m),n=ni(m,n),v){case 0:i=dm(null,i,m,n,c);break e;case 1:i=gg(null,i,m,n,c);break e;case 11:i=ug(null,i,m,n,c);break e;case 14:i=hg(null,i,m,ni(m.type,n),c);break e}throw Error(s(306,m,""))}return i;case 0:return m=i.type,v=i.pendingProps,v=i.elementType===m?v:ni(m,v),dm(n,i,m,v,c);case 1:return m=i.type,v=i.pendingProps,v=i.elementType===m?v:ni(m,v),gg(n,i,m,v,c);case 3:e:{if(xg(i),n===null)throw Error(s(387));m=i.pendingProps,A=i.memoizedState,v=A.element,ln(n,i),Os(i,m,null,c);var M=i.memoizedState;if(m=M.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},i.updateQueue.baseState=A,i.memoizedState=A,i.flags&256){v=ed(Error(s(423)),i),i=yg(n,i,m,c,v);break e}else if(m!==v){v=ed(Error(s(424)),i),i=yg(n,i,m,c,v);break e}else for($e=Gs(i.stateNode.containerInfo.firstChild),ze=i,Ge=!0,Ke=null,c=Er(i,null,m,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ut(),m===v){i=jo(n,i,c);break e}Sn(n,i,m,c)}i=i.child}return i;case 5:return rh(i),n===null&&gt(i),m=i.type,v=i.pendingProps,A=n!==null?n.memoizedProps:null,M=v.children,Hd(m,v)?M=null:A!==null&&Hd(m,A)&&(i.flags|=32),pg(n,i),Sn(n,i,M,c),i.child;case 6:return n===null&&gt(i),null;case 13:return vg(n,i,c);case 4:return al(i,i.stateNode.containerInfo),m=i.pendingProps,n===null?i.child=Zr(i,null,m,c):Sn(n,i,m,c),i.child;case 11:return m=i.type,v=i.pendingProps,v=i.elementType===m?v:ni(m,v),ug(n,i,m,v,c);case 7:return Sn(n,i,i.pendingProps,c),i.child;case 8:return Sn(n,i,i.pendingProps.children,c),i.child;case 12:return Sn(n,i,i.pendingProps.children,c),i.child;case 10:e:{if(m=i.type._context,v=i.pendingProps,A=i.memoizedProps,M=v.value,ur(os,m._currentValue),m._currentValue=M,A!==null)if(is(A.value,M)){if(A.children===v.children&&!an.current){i=jo(n,i,c);break e}}else for(A=i.child,A!==null&&(A.return=i);A!==null;){var he=A.dependencies;if(he!==null){M=A.child;for(var ve=he.firstContext;ve!==null;){if(ve.context===m){if(A.tag===1){ve=Hr(-1,c&-c),ve.tag=2;var Re=A.updateQueue;if(Re!==null){Re=Re.shared;var Qe=Re.pending;Qe===null?ve.next=ve:(ve.next=Qe.next,Qe.next=ve),Re.pending=ve}}A.lanes|=c,ve=A.alternate,ve!==null&&(ve.lanes|=c),ar(A.return,c,i),he.lanes|=c;break}ve=ve.next}}else if(A.tag===10)M=A.type===i.type?null:A.child;else if(A.tag===18){if(M=A.return,M===null)throw Error(s(341));M.lanes|=c,he=M.alternate,he!==null&&(he.lanes|=c),ar(M,c,i),M=A.sibling}else M=A.child;if(M!==null)M.return=A;else for(M=A;M!==null;){if(M===i){M=null;break}if(A=M.sibling,A!==null){A.return=M.return,M=A;break}M=M.return}A=M}Sn(n,i,v.children,c),i=i.child}return i;case 9:return v=i.type,m=i.pendingProps.children,Rr(i,c),v=Or(v),m=m(v),i.flags|=1,Sn(n,i,m,c),i.child;case 14:return m=i.type,v=ni(m,i.pendingProps),v=ni(m.type,v),hg(n,i,m,v,c);case 15:return fg(n,i,i.type,i.pendingProps,c);case 17:return m=i.type,v=i.pendingProps,v=i.elementType===m?v:ni(m,v),dh(n,i),i.tag=1,on(m)?(n=!0,wo(i)):n=!1,Rr(i,c),ng(i,m,v),om(i,m,v,c),um(null,i,m,!0,n,c);case 19:return wg(n,i,c);case 22:return mg(n,i,c)}throw Error(s(156,i.tag))};function Hg(n,i){return Xi(n,i)}function kb(n,i,c,m){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ta(n,i,c,m){return new kb(n,i,c,m)}function Em(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ab(n){if(typeof n=="function")return Em(n)?1:0;if(n!=null){if(n=n.$$typeof,n===B)return 11;if(n===H)return 14}return 2}function ml(n,i){var c=n.alternate;return c===null?(c=Ta(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function wh(n,i,c,m,v,A){var M=2;if(m=n,typeof n=="function")Em(n)&&(M=1);else if(typeof n=="string")M=5;else e:switch(n){case le:return tc(c.children,v,A,i);case ie:M=8,v|=8;break;case ee:return n=Ta(12,c,i,v|2),n.elementType=ee,n.lanes=A,n;case te:return n=Ta(13,c,i,v),n.elementType=te,n.lanes=A,n;case re:return n=Ta(19,c,i,v),n.elementType=re,n.lanes=A,n;case V:return Nh(c,v,A,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case me:M=10;break e;case O:M=9;break e;case B:M=11;break e;case H:M=14;break e;case K:M=16,m=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return i=Ta(M,c,i,v),i.elementType=n,i.type=m,i.lanes=A,i}function tc(n,i,c,m){return n=Ta(7,n,m,i),n.lanes=c,n}function Nh(n,i,c,m){return n=Ta(22,n,m,i),n.elementType=V,n.lanes=c,n.stateNode={isHidden:!1},n}function Dm(n,i,c){return n=Ta(6,n,null,i),n.lanes=c,n}function Fm(n,i,c){return i=Ta(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Cb(n,i,c,m,v){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Im(n,i,c,m,v,A,M,he,ve){return n=new Cb(n,i,c,he,ve),i===1?(i=1,A===!0&&(i|=8)):i=0,A=Ta(3,null,null,i),n.current=A,A.stateNode=n,A.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cs(A),n}function _b(n,i,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:m==null?null:""+m,children:n,containerInfo:i,implementation:c}}function Wg(n){if(!n)return Ri;n=n._reactInternals;e:{if(Ss(n)!==n||n.tag!==1)throw Error(s(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(on(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(s(171))}if(n.tag===1){var c=n.type;if(on(c))return Yd(n,c,i)}return i}function Gg(n,i,c,m,v,A,M,he,ve){return n=Im(c,m,!0,n,v,A,M,he,ve),n.context=Wg(null),c=n.current,m=kn(),v=hl(c),A=Hr(m,v),A.callback=i??null,Wr(c,A,v),n.current.lanes=v,no(n,v,m),Vn(n,m),n}function jh(n,i,c,m){var v=i.current,A=kn(),M=hl(v);return c=Wg(c),i.context===null?i.context=c:i.pendingContext=c,i=Hr(A,M),i.payload={element:n},m=m===void 0?null:m,m!==null&&(i.callback=m),n=Wr(v,i,M),n!==null&&(oi(n,v,M,A),Rs(n,v,M)),M}function Sh(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Kg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function Tm(n,i){Kg(n,i),(n=n.alternate)&&Kg(n,i)}function Pb(){return null}var Yg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Rm(n){this._internalRoot=n}kh.prototype.render=Rm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));jh(n,i,null,null)},kh.prototype.unmount=Rm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Xl(function(){jh(null,n,null,null)}),i[Is]=null}};function kh(n){this._internalRoot=n}kh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Pc();n={blockedOn:null,target:n,priority:i};for(var c=0;c<Na.length&&i!==0&&i<Na[c].priority;c++);Na.splice(c,0,n),c===0&&Ec(n)}};function Om(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ah(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Jg(){}function Lb(n,i,c,m,v){if(v){if(typeof m=="function"){var A=m;m=function(){var Re=Sh(M);A.call(Re)}}var M=Gg(i,m,n,0,null,!1,!1,"",Jg);return n._reactRootContainer=M,n[Is]=M.current,go(n.nodeType===8?n.parentNode:n),Xl(),M}for(;v=n.lastChild;)n.removeChild(v);if(typeof m=="function"){var he=m;m=function(){var Re=Sh(ve);he.call(Re)}}var ve=Im(n,0,!1,null,null,!1,!1,"",Jg);return n._reactRootContainer=ve,n[Is]=ve.current,go(n.nodeType===8?n.parentNode:n),Xl(function(){jh(i,ve,c,m)}),ve}function Ch(n,i,c,m,v){var A=c._reactRootContainer;if(A){var M=A;if(typeof v=="function"){var he=v;v=function(){var ve=Sh(M);he.call(ve)}}jh(i,M,n,v)}else M=Lb(c,i,n,v,m);return Sh(M)}zo=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var c=ta(i.pendingLanes);c!==0&&(Uo(i,c|1),Vn(i,Nr()),(ir&6)===0&&(sd=Nr()+500,P()))}break;case 13:Xl(function(){var m=pr(n,1);if(m!==null){var v=kn();oi(m,n,1,v)}}),Tm(n,1)}},Ll=function(n){if(n.tag===13){var i=pr(n,134217728);if(i!==null){var c=kn();oi(i,n,134217728,c)}Tm(n,134217728)}},_c=function(n){if(n.tag===13){var i=hl(n),c=pr(n,i);if(c!==null){var m=kn();oi(c,n,i,m)}Tm(n,i)}},Pc=function(){return Zt},qo=function(n,i){var c=Zt;try{return Zt=n,i()}finally{Zt=c}},dr=function(n,i,c){switch(i){case"input":if(Et(n,c),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var m=c[i];if(m!==n&&m.form===n.form){var v=Wl(m);if(!v)throw Error(s(90));De(m),Et(m,v)}}}break;case"textarea":Me(n,c);break;case"select":i=c.value,i!=null&&de(n,!!c.multiple,i,!1)}},js=_m,ya=Xl;var Eb={usingClientEntryPoint:!1,Events:[sl,vo,Wl,rr,Ni,_m]},iu={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Db={bundleType:iu.bundleType,version:iu.version,rendererPackageName:iu.rendererPackageName,rendererConfig:iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ea(n),n===null?null:n.stateNode},findFiberByHostInstance:iu.findFiberByHostInstance||Pb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{eo=_h.inject(Db),vn=_h}catch{}}return Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eb,Hn.createPortal=function(n,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Om(i))throw Error(s(200));return _b(n,i,null,c)},Hn.createRoot=function(n,i){if(!Om(n))throw Error(s(299));var c=!1,m="",v=Yg;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Im(n,1,!1,null,null,c,!1,m,v),n[Is]=i.current,go(n.nodeType===8?n.parentNode:n),new Rm(i)},Hn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ea(i),n=n===null?null:n.stateNode,n},Hn.flushSync=function(n){return Xl(n)},Hn.hydrate=function(n,i,c){if(!Ah(i))throw Error(s(200));return Ch(null,n,i,!0,c)},Hn.hydrateRoot=function(n,i,c){if(!Om(n))throw Error(s(405));var m=c!=null&&c.hydratedSources||null,v=!1,A="",M=Yg;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(A=c.identifierPrefix),c.onRecoverableError!==void 0&&(M=c.onRecoverableError)),i=Gg(i,null,n,1,c??null,v,!1,A,M),n[Is]=i.current,go(n),m)for(n=0;n<m.length;n++)c=m[n],v=c._getVersion,v=v(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,v]:i.mutableSourceEagerHydrationData.push(c,v);return new kh(i)},Hn.render=function(n,i,c){if(!Ah(i))throw Error(s(200));return Ch(null,n,i,!1,c)},Hn.unmountComponentAtNode=function(n){if(!Ah(n))throw Error(s(40));return n._reactRootContainer?(Xl(function(){Ch(null,null,n,!1,function(){n._reactRootContainer=null,n[Is]=null})}),!0):!1},Hn.unstable_batchedUpdates=_m,Hn.unstable_renderSubtreeIntoContainer=function(n,i,c,m){if(!Ah(c))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return Ch(n,i,c,!1,m)},Hn.version="18.3.1-next-f1338f8080-20240426",Hn}var nx;function _y(){if(nx)return Um.exports;nx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Um.exports=zb(),Um.exports}var ax;function qb(){if(ax)return Ph;ax=1;var e=_y();return Ph.createRoot=e.createRoot,Ph.hydrateRoot=e.hydrateRoot,Ph}var $b=qb();const Vb=Cy($b);var $m={exports:{}},Vm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function Hb(){if(ix)return Vm;ix=1;var e=Df();function t(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var s=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,o=e.useRef,l=e.useEffect,d=e.useMemo,u=e.useDebugValue;return Vm.useSyncExternalStoreWithSelector=function(h,g,p,b,j){var y=o(null);if(y.current===null){var k={hasValue:!1,value:null};y.current=k}else k=y.current;y=d(function(){function C(X){if(!L){if(L=!0,D=X,X=b(X),j!==void 0&&k.hasValue){var ue=k.value;if(j(ue,X))return _=ue}return _=X}if(ue=_,s(D,X))return ue;var le=b(X);return j!==void 0&&j(ue,le)?(D=X,ue):(D=X,_=le)}var L=!1,D,_,F=p===void 0?null:p;return[function(){return C(g())},F===null?void 0:function(){return C(F())}]},[g,p,b,j]);var S=a(h,y[0],y[1]);return l(function(){k.hasValue=!0,k.value=S},[S]),u(S),S},Vm}var ox;function Wb(){return ox||(ox=1,$m.exports=Hb()),$m.exports}var Gb=Wb();function Kb(e){e()}function Yb(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Kb(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=e;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const o=t={callback:s,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!a||e===null||(a=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var lx={notify(){},get:()=>[]};function Jb(e,t){let s,a=lx,o=0,l=!1;function d(S){p();const C=a.subscribe(S);let L=!1;return()=>{L||(L=!0,C(),b())}}function u(){a.notify()}function h(){k.onStateChange&&k.onStateChange()}function g(){return l}function p(){o++,s||(s=e.subscribe(h),a=Yb())}function b(){o--,s&&o===0&&(s(),s=void 0,a.clear(),a=lx)}function j(){l||(l=!0,p())}function y(){l&&(l=!1,b())}const k={addNestedSub:d,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:g,trySubscribe:j,tryUnsubscribe:y,getListeners:()=>a};return k}var Qb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xb=Qb(),Zb=()=>typeof navigator<"u"&&navigator.product==="ReactNative",e5=Zb(),t5=()=>Xb||e5?q.useLayoutEffect:q.useEffect,r5=t5(),s5=Symbol.for("react-redux-context"),n5=typeof globalThis<"u"?globalThis:{};function a5(){if(!q.createContext)return{};const e=n5[s5]??=new Map;let t=e.get(q.createContext);return t||(t=q.createContext(null),e.set(q.createContext,t)),t}var Sl=a5();function i5(e){const{children:t,context:s,serverState:a,store:o}=e,l=q.useMemo(()=>{const h=Jb(o);return{store:o,subscription:h,getServerState:a?()=>a:void 0}},[o,a]),d=q.useMemo(()=>o.getState(),[o]);r5(()=>{const{subscription:h}=l;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),d!==o.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[l,d]);const u=s||Sl;return q.createElement(u.Provider,{value:l},t)}var o5=i5;function x0(e=Sl){return function(){return q.useContext(e)}}var Py=x0();function Ly(e=Sl){const t=e===Sl?Py:x0(e),s=()=>{const{store:a}=t();return a};return Object.assign(s,{withTypes:()=>s}),s}var l5=Ly();function c5(e=Sl){const t=e===Sl?l5:Ly(e),s=()=>t().dispatch;return Object.assign(s,{withTypes:()=>s}),s}var Ls=c5(),d5=(e,t)=>e===t;function u5(e=Sl){const t=e===Sl?Py:x0(e),s=(a,o={})=>{const{equalityFn:l=d5}=typeof o=="function"?{equalityFn:o}:o,d=t(),{store:u,subscription:h,getServerState:g}=d;q.useRef(!0);const p=q.useCallback({[a.name](j){return a(j)}}[a.name],[a]),b=Gb.useSyncExternalStoreWithSelector(h.addNestedSub,u.getState,g||u.getState,p,l);return q.useDebugValue(b),b};return Object.assign(s,{withTypes:()=>s}),s}var Ot=u5(),Ff=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},If=typeof window>"u"||"Deno"in globalThis;function ci(){}function h5(e,t){return typeof e=="function"?e(t):e}function f5(e){return typeof e=="number"&&e>=0&&e!==1/0}function m5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Tp(e,t){return typeof e=="function"?e(t):e}function p5(e,t){return typeof e=="function"?e(t):e}function cx(e,t){const{type:s="all",exact:a,fetchStatus:o,predicate:l,queryKey:d,stale:u}=e;if(d){if(a){if(t.queryHash!==y0(d,t.options))return!1}else if(!Pu(t.queryKey,d))return!1}if(s!=="all"){const h=t.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||o&&o!==t.state.fetchStatus||l&&!l(t))}function dx(e,t){const{exact:s,status:a,predicate:o,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(s){if(_u(t.options.mutationKey)!==_u(l))return!1}else if(!Pu(t.options.mutationKey,l))return!1}return!(a&&t.state.status!==a||o&&!o(t))}function y0(e,t){return(t?.queryKeyHashFn||_u)(e)}function _u(e){return JSON.stringify(e,(t,s)=>Rp(s)?Object.keys(s).sort().reduce((a,o)=>(a[o]=s[o],a),{}):s)}function Pu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Pu(e[s],t[s])):!1}function Ey(e,t){if(e===t)return e;const s=ux(e)&&ux(t);if(s||Rp(e)&&Rp(t)){const a=s?e:Object.keys(e),o=a.length,l=s?t:Object.keys(t),d=l.length,u=s?[]:{},h=new Set(a);let g=0;for(let p=0;p<d;p++){const b=s?p:l[p];(!s&&h.has(b)||s)&&e[b]===void 0&&t[b]===void 0?(u[b]=void 0,g++):(u[b]=Ey(e[b],t[b]),u[b]===e[b]&&e[b]!==void 0&&g++)}return o===d&&g===o?e:u}return t}function ux(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Rp(e){if(!hx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!hx(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hx(e){return Object.prototype.toString.call(e)==="[object Object]"}function g5(e){return new Promise(t=>{setTimeout(t,e)})}function x5(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?Ey(e,t):t}function y5(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function v5(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var v0=Symbol();function Dy(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===v0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var b5=class extends Ff{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!If&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Fy=new b5,w5=class extends Ff{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!If&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},pf=new w5;function N5(){let e,t;const s=new Promise((o,l)=>{e=o,t=l});s.status="pending",s.catch(()=>{});function a(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{a({status:"fulfilled",value:o}),e(o)},s.reject=o=>{a({status:"rejected",reason:o}),t(o)},s}function j5(e){return Math.min(1e3*2**e,3e4)}function Iy(e){return(e??"online")==="online"?pf.isOnline():!0}var Op=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ty(e){let t=!1,s=0,a;const o=N5(),l=()=>o.status!=="pending",d=S=>{if(!l()){const C=new Op(S);j(C),e.onCancel?.(C)}},u=()=>{t=!0},h=()=>{t=!1},g=()=>Fy.isFocused()&&(e.networkMode==="always"||pf.isOnline())&&e.canRun(),p=()=>Iy(e.networkMode)&&e.canRun(),b=S=>{l()||(a?.(),o.resolve(S))},j=S=>{l()||(a?.(),o.reject(S))},y=()=>new Promise(S=>{a=C=>{(l()||g())&&S(C)},e.onPause?.()}).then(()=>{a=void 0,l()||e.onContinue?.()}),k=()=>{if(l())return;let S;const C=s===0?e.initialPromise:void 0;try{S=C??e.fn()}catch(L){S=Promise.reject(L)}Promise.resolve(S).then(b).catch(L=>{if(l())return;const D=e.retry??(If?0:3),_=e.retryDelay??j5,F=typeof _=="function"?_(s,L):_,X=D===!0||typeof D=="number"&&s<D||typeof D=="function"&&D(s,L);if(t||!X){j(L);return}s++,e.onFail?.(s,L),g5(F).then(()=>g()?void 0:y()).then(()=>{t?j(L):k()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(a?.(),o),cancelRetry:u,continueRetry:h,canStart:p,start:()=>(p()?k():y().then(k),o)}}var S5=e=>setTimeout(e,0);function k5(){let e=[],t=0,s=u=>{u()},a=u=>{u()},o=S5;const l=u=>{t?e.push(u):o(()=>{s(u)})},d=()=>{const u=e;e=[],u.length&&o(()=>{a(()=>{u.forEach(h=>{s(h)})})})};return{batch:u=>{let h;t++;try{h=u()}finally{t--,t||d()}return h},batchCalls:u=>(...h)=>{l(()=>{u(...h)})},schedule:l,setNotifyFunction:u=>{s=u},setBatchNotifyFunction:u=>{a=u},setScheduler:u=>{o=u}}}var Pn=k5(),Ry=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),f5(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(If?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},A5=class extends Ry{#e;#t;#r;#n;#s;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=_5(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const s=x5(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(ci).catch(ci):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>p5(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===v0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Tp(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!m5(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const s=new AbortController,a=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},o=()=>{const u=Dy(this.options,t),g=(()=>{const p={client:this.#n,queryKey:this.queryKey,meta:this.meta};return a(p),p})();return this.#o=!1,this.options.persister?this.options.persister(u,g,this):u(g)},d=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:o};return a(u),u})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#a({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=Ty({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:u=>{u instanceof Op&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(u,h)=>{this.#a({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const u=await this.#s.start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof Op){if(u.silent)return this.#s.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#a({type:"error",error:u}),this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#a(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...C5(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Pn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function C5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Iy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var P5=class extends Ff{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const a=t.queryKey,o=t.queryHash??y0(a,t);let l=this.get(o);return l||(l=new A5({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Pn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>cx(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>cx(e,s)):t}notify(e){Pn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Pn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Pn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},L5=class extends Ry{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||E5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=Ty({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,l)=>{this.#n({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",a=!this.#r.canStart();try{if(s)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#t.config.onMutate?.(e,this);const l=await this.options.onMutate?.(e);l!==this.state.context&&this.#n({type:"pending",context:l,variables:e,isPaused:a})}const o=await this.#r.start();return await this.#t.config.onSuccess?.(o,e,this.state.context,this),await this.options.onSuccess?.(o,e,this.state.context),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,e,this.state.context),this.#n({type:"success",data:o}),o}catch(o){try{throw await this.#t.config.onError?.(o,e,this.state.context,this),await this.options.onError?.(o,e,this.state.context),await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,e,this.state.context),o}finally{this.#n({type:"error",error:o})}}finally{this.#t.runNext(this)}}#n(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Pn.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function E5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var D5=class extends Ff{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,s){const a=new L5({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:s});return this.add(a),a}add(e){this.#e.add(e);const t=Lh(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Lh(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Lh(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=Lh(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Pn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>dx(t,s))}findAll(e={}){return this.getAll().filter(t=>dx(e,t))}notify(e){Pn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Pn.batch(()=>Promise.all(e.map(t=>t.continue().catch(ci))))}};function Lh(e){return e.options.scope?.id}function fx(e){return{onFetch:(t,s)=>{const a=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},h=0;const g=async()=>{let p=!1;const b=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},j=Dy(t.options,t.fetchOptions),y=async(k,S,C)=>{if(p)return Promise.reject();if(S==null&&k.pages.length)return Promise.resolve(k);const D=(()=>{const ue={client:t.client,queryKey:t.queryKey,pageParam:S,direction:C?"backward":"forward",meta:t.options.meta};return b(ue),ue})(),_=await j(D),{maxPages:F}=t.options,X=C?v5:y5;return{pages:X(k.pages,_,F),pageParams:X(k.pageParams,S,F)}};if(o&&l.length){const k=o==="backward",S=k?F5:mx,C={pages:l,pageParams:d},L=S(a,C);u=await y(C,L,k)}else{const k=e??l.length;do{const S=h===0?d[0]??a.initialPageParam:mx(a,u);if(h>0&&S==null)break;u=await y(u,S),h++}while(h<k)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=g}}}function mx(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function F5(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var I5=class{#e;#t;#r;#n;#s;#i;#o;#a;constructor(e={}){this.#e=e.queryCache||new P5,this.#t=e.mutationCache||new D5,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=Fy.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=pf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),a=s.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Tp(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(a.queryHash)?.state.data,d=h5(t,l);if(d!==void 0)return this.#e.build(this,a).setData(d,{...s,manual:!0})}setQueriesData(e,t,s){return Pn.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Pn.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return Pn.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},a=Pn.batch(()=>this.#e.findAll(e).map(o=>o.cancel(s)));return Promise.all(a).then(ci).catch(ci)}invalidateQueries(e,t={}){return Pn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},a=Pn.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,s);return s.throwOnError||(l=l.catch(ci)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(ci)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Tp(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ci).catch(ci)}fetchInfiniteQuery(e){return e.behavior=fx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ci).catch(ci)}ensureInfiniteQueryData(e){return e.behavior=fx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(_u(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],s={};return t.forEach(a=>{Pu(e,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(e,t){this.#s.set(_u(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(a=>{Pu(e,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=y0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===v0&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},T5=q.createContext(void 0),R5=({client:e,children:t})=>(q.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(T5.Provider,{value:e,children:t}));_y();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Lu.apply(this,arguments)}var bl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bl||(bl={}));const px="popstate";function O5(e){e===void 0&&(e={});function t(a,o){let{pathname:l,search:d,hash:u}=a.location;return Mp("",{pathname:l,search:d,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(a,o){return typeof o=="string"?o:gf(o)}return B5(t,s,null,e)}function fs(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function M5(){return Math.random().toString(36).substr(2,8)}function gx(e,t){return{usr:e.state,key:e.key,idx:t}}function Mp(e,t,s,a){return s===void 0&&(s=null),Lu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kd(t):t,{state:s,key:t&&t.key||a||M5()})}function gf(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function kd(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function B5(e,t,s,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:l=!1}=a,d=o.history,u=bl.Pop,h=null,g=p();g==null&&(g=0,d.replaceState(Lu({},d.state,{idx:g}),""));function p(){return(d.state||{idx:null}).idx}function b(){u=bl.Pop;let C=p(),L=C==null?null:C-g;g=C,h&&h({action:u,location:S.location,delta:L})}function j(C,L){u=bl.Push;let D=Mp(S.location,C,L);g=p()+1;let _=gx(D,g),F=S.createHref(D);try{d.pushState(_,"",F)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(F)}l&&h&&h({action:u,location:S.location,delta:1})}function y(C,L){u=bl.Replace;let D=Mp(S.location,C,L);g=p();let _=gx(D,g),F=S.createHref(D);d.replaceState(_,"",F),l&&h&&h({action:u,location:S.location,delta:0})}function k(C){let L=o.location.origin!=="null"?o.location.origin:o.location.href,D=typeof C=="string"?C:gf(C);return D=D.replace(/ $/,"%20"),fs(L,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,L)}let S={get action(){return u},get location(){return e(o,d)},listen(C){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(px,b),h=C,()=>{o.removeEventListener(px,b),h=null}},createHref(C){return t(o,C)},createURL:k,encodeLocation(C){let L=k(C);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:j,replace:y,go(C){return d.go(C)}};return S}var xx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xx||(xx={}));function U5(e,t,s){return s===void 0&&(s="/"),z5(e,t,s)}function z5(e,t,s,a){let o=typeof t=="string"?kd(t):t,l=b0(o.pathname||"/",s);if(l==null)return null;let d=My(e);q5(d);let u=null;for(let h=0;u==null&&h<d.length;++h){let g=ew(l);u=Q5(d[h],g)}return u}function My(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let o=(l,d,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};h.relativePath.startsWith("/")&&(fs(h.relativePath.startsWith(a),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(a.length));let g=Nl([a,h.relativePath]),p=s.concat(h);l.children&&l.children.length>0&&(fs(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),My(l.children,t,p,g)),!(l.path==null&&!l.index)&&t.push({path:g,score:Y5(g,l.index),routesMeta:p})};return e.forEach((l,d)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,d);else for(let h of By(l.path))o(l,d,h)}),t}function By(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,o=s.endsWith("?"),l=s.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let d=By(a.join("/")),u=[];return u.push(...d.map(h=>h===""?l:[l,h].join("/"))),o&&u.push(...d),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function q5(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:J5(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const $5=/^:[\w-]+$/,V5=3,H5=2,W5=1,G5=10,K5=-2,yx=e=>e==="*";function Y5(e,t){let s=e.split("/"),a=s.length;return s.some(yx)&&(a+=K5),t&&(a+=H5),s.filter(o=>!yx(o)).reduce((o,l)=>o+($5.test(l)?V5:l===""?W5:G5),a)}function J5(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function Q5(e,t,s){let{routesMeta:a}=e,o={},l="/",d=[];for(let u=0;u<a.length;++u){let h=a[u],g=u===a.length-1,p=l==="/"?t:t.slice(l.length)||"/",b=X5({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},p),j=h.route;if(!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Nl([l,b.pathname]),pathnameBase:nw(Nl([l,b.pathnameBase])),route:j}),b.pathnameBase!=="/"&&(l=Nl([l,b.pathnameBase]))}return d}function X5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=Z5(e.path,e.caseSensitive,e.end),o=t.match(s);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:a.reduce((g,p,b)=>{let{paramName:j,isOptional:y}=p;if(j==="*"){let S=u[b]||"";d=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const k=u[b];return y&&!k?g[j]=void 0:g[j]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:d,pattern:e}}function Z5(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Oy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,h)=>(a.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function ew(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function b0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function tw(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:o=""}=typeof e=="string"?kd(e):e;return{pathname:s?s.startsWith("/")?s:rw(s,t):t,search:aw(a),hash:iw(o)}}function rw(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Hm(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sw(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function w0(e,t){let s=sw(e);return t?s.map((a,o)=>o===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function N0(e,t,s,a){a===void 0&&(a=!1);let o;typeof e=="string"?o=kd(e):(o=Lu({},e),fs(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),fs(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),fs(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let l=e===""||o.pathname==="",d=l?"/":o.pathname,u;if(d==null)u=s;else{let b=t.length-1;if(!a&&d.startsWith("..")){let j=d.split("/");for(;j[0]==="..";)j.shift(),b-=1;o.pathname=j.join("/")}u=b>=0?t[b]:"/"}let h=tw(o,u),g=d&&d!=="/"&&d.endsWith("/"),p=(l||d===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(g||p)&&(h.pathname+="/"),h}const Nl=e=>e.join("/").replace(/\/\/+/g,"/"),nw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ow(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Uy=["post","put","patch","delete"];new Set(Uy);const lw=["get",...Uy];new Set(lw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Eu.apply(this,arguments)}const j0=q.createContext(null),cw=q.createContext(null),Al=q.createContext(null),Tf=q.createContext(null),Yi=q.createContext({outlet:null,matches:[],isDataRoute:!1}),zy=q.createContext(null);function dw(e,t){let{relative:s}=t===void 0?{}:t;Ad()||fs(!1);let{basename:a,navigator:o}=q.useContext(Al),{hash:l,pathname:d,search:u}=$y(e,{relative:s}),h=d;return a!=="/"&&(h=d==="/"?a:Nl([a,d])),o.createHref({pathname:h,search:u,hash:l})}function Ad(){return q.useContext(Tf)!=null}function bc(){return Ad()||fs(!1),q.useContext(Tf).location}function qy(e){q.useContext(Al).static||q.useLayoutEffect(e)}function yi(){let{isDataRoute:e}=q.useContext(Yi);return e?kw():uw()}function uw(){Ad()||fs(!1);let e=q.useContext(j0),{basename:t,future:s,navigator:a}=q.useContext(Al),{matches:o}=q.useContext(Yi),{pathname:l}=bc(),d=JSON.stringify(w0(o,s.v7_relativeSplatPath)),u=q.useRef(!1);return qy(()=>{u.current=!0}),q.useCallback(function(g,p){if(p===void 0&&(p={}),!u.current)return;if(typeof g=="number"){a.go(g);return}let b=N0(g,JSON.parse(d),l,p.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Nl([t,b.pathname])),(p.replace?a.replace:a.push)(b,p.state,p)},[t,a,d,l,e])}const hw=q.createContext(null);function fw(e){let t=q.useContext(Yi).outlet;return t&&q.createElement(hw.Provider,{value:e},t)}function S0(){let{matches:e}=q.useContext(Yi),t=e[e.length-1];return t?t.params:{}}function $y(e,t){let{relative:s}=t===void 0?{}:t,{future:a}=q.useContext(Al),{matches:o}=q.useContext(Yi),{pathname:l}=bc(),d=JSON.stringify(w0(o,a.v7_relativeSplatPath));return q.useMemo(()=>N0(e,JSON.parse(d),l,s==="path"),[e,d,l,s])}function mw(e,t){return pw(e,t)}function pw(e,t,s,a){Ad()||fs(!1);let{navigator:o}=q.useContext(Al),{matches:l}=q.useContext(Yi),d=l[l.length-1],u=d?d.params:{};d&&d.pathname;let h=d?d.pathnameBase:"/";d&&d.route;let g=bc(),p;if(t){var b;let C=typeof t=="string"?kd(t):t;h==="/"||(b=C.pathname)!=null&&b.startsWith(h)||fs(!1),p=C}else p=g;let j=p.pathname||"/",y=j;if(h!=="/"){let C=h.replace(/^\//,"").split("/");y="/"+j.replace(/^\//,"").split("/").slice(C.length).join("/")}let k=U5(e,{pathname:y}),S=bw(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Nl([h,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:Nl([h,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,s,a);return t&&S?q.createElement(Tf.Provider,{value:{location:Eu({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:bl.Pop}},S):S}function gw(){let e=Sw(),t=ow(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),s?q.createElement("pre",{style:o},s):null,null)}const xw=q.createElement(gw,null);class yw extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?q.createElement(Yi.Provider,{value:this.props.routeContext},q.createElement(zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vw(e){let{routeContext:t,match:s,children:a}=e,o=q.useContext(j0);return o&&o.static&&o.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=s.route.id),q.createElement(Yi.Provider,{value:t},a)}function bw(e,t,s,a){var o;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var l;if(!s)return null;if(s.errors)e=s.matches;else if((l=a)!=null&&l.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,u=(o=s)==null?void 0:o.errors;if(u!=null){let p=d.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);p>=0||fs(!1),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,g=-1;if(s&&a&&a.v7_partialHydration)for(let p=0;p<d.length;p++){let b=d[p];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=p),b.route.id){let{loaderData:j,errors:y}=s,k=b.route.loader&&j[b.route.id]===void 0&&(!y||y[b.route.id]===void 0);if(b.route.lazy||k){h=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((p,b,j)=>{let y,k=!1,S=null,C=null;s&&(y=u&&b.route.id?u[b.route.id]:void 0,S=b.route.errorElement||xw,h&&(g<0&&j===0?(Aw("route-fallback"),k=!0,C=null):g===j&&(k=!0,C=b.route.hydrateFallbackElement||null)));let L=t.concat(d.slice(0,j+1)),D=()=>{let _;return y?_=S:k?_=C:b.route.Component?_=q.createElement(b.route.Component,null):b.route.element?_=b.route.element:_=p,q.createElement(vw,{match:b,routeContext:{outlet:p,matches:L,isDataRoute:s!=null},children:_})};return s&&(b.route.ErrorBoundary||b.route.errorElement||j===0)?q.createElement(yw,{location:s.location,revalidation:s.revalidation,component:S,error:y,children:D(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):D()},null)}var Vy=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Vy||{}),Hy=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Hy||{});function ww(e){let t=q.useContext(j0);return t||fs(!1),t}function Nw(e){let t=q.useContext(cw);return t||fs(!1),t}function jw(e){let t=q.useContext(Yi);return t||fs(!1),t}function Wy(e){let t=jw(),s=t.matches[t.matches.length-1];return s.route.id||fs(!1),s.route.id}function Sw(){var e;let t=q.useContext(zy),s=Nw(),a=Wy();return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}function kw(){let{router:e}=ww(Vy.UseNavigateStable),t=Wy(Hy.UseNavigateStable),s=q.useRef(!1);return qy(()=>{s.current=!0}),q.useCallback(function(o,l){l===void 0&&(l={}),s.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Eu({fromRouteId:t},l)))},[e,t])}const vx={};function Aw(e,t,s){vx[e]||(vx[e]=!0)}function Cw(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Gn(e){let{to:t,replace:s,state:a,relative:o}=e;Ad()||fs(!1);let{future:l,static:d}=q.useContext(Al),{matches:u}=q.useContext(Yi),{pathname:h}=bc(),g=yi(),p=N0(t,w0(u,l.v7_relativeSplatPath),h,o==="path"),b=JSON.stringify(p);return q.useEffect(()=>g(JSON.parse(b),{replace:s,state:a,relative:o}),[g,b,o,s,a]),null}function Gy(e){return fw(e.context)}function Qt(e){fs(!1)}function _w(e){let{basename:t="/",children:s=null,location:a,navigationType:o=bl.Pop,navigator:l,static:d=!1,future:u}=e;Ad()&&fs(!1);let h=t.replace(/^\/*/,"/"),g=q.useMemo(()=>({basename:h,navigator:l,static:d,future:Eu({v7_relativeSplatPath:!1},u)}),[h,u,l,d]);typeof a=="string"&&(a=kd(a));let{pathname:p="/",search:b="",hash:j="",state:y=null,key:k="default"}=a,S=q.useMemo(()=>{let C=b0(p,h);return C==null?null:{location:{pathname:C,search:b,hash:j,state:y,key:k},navigationType:o}},[h,p,b,j,y,k,o]);return S==null?null:q.createElement(Al.Provider,{value:g},q.createElement(Tf.Provider,{children:s,value:S}))}function Pw(e){let{children:t,location:s}=e;return mw(Bp(t),s)}new Promise(()=>{});function Bp(e,t){t===void 0&&(t=[]);let s=[];return q.Children.forEach(e,(a,o)=>{if(!q.isValidElement(a))return;let l=[...t,o];if(a.type===q.Fragment){s.push.apply(s,Bp(a.props.children,l));return}a.type!==Qt&&fs(!1),!a.props.index||!a.props.children||fs(!1);let d={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Bp(a.props.children,l)),s.push(d)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Up.apply(this,arguments)}function Lw(e,t){if(e==null)return{};var s={},a=Object.keys(e),o,l;for(l=0;l<a.length;l++)o=a[l],!(t.indexOf(o)>=0)&&(s[o]=e[o]);return s}function Ew(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Dw(e,t){return e.button===0&&(!t||t==="_self")&&!Ew(e)}function zp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let a=e[s];return t.concat(Array.isArray(a)?a.map(o=>[s,o]):[[s,a]])},[]))}function Fw(e,t){let s=zp(e);return t&&t.forEach((a,o)=>{s.has(o)||t.getAll(o).forEach(l=>{s.append(o,l)})}),s}const Iw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tw="6";try{window.__reactRouterVersion=Tw}catch{}const Rw="startTransition",bx=Mb[Rw];function Ow(e){let{basename:t,children:s,future:a,window:o}=e,l=q.useRef();l.current==null&&(l.current=O5({window:o,v5Compat:!0}));let d=l.current,[u,h]=q.useState({action:d.action,location:d.location}),{v7_startTransition:g}=a||{},p=q.useCallback(b=>{g&&bx?bx(()=>h(b)):h(b)},[h,g]);return q.useLayoutEffect(()=>d.listen(p),[d,p]),q.useEffect(()=>Cw(a),[a]),q.createElement(_w,{basename:t,children:s,location:u.location,navigationType:u.action,navigator:d,future:a})}const Mw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hc=q.forwardRef(function(t,s){let{onClick:a,relative:o,reloadDocument:l,replace:d,state:u,target:h,to:g,preventScrollReset:p,viewTransition:b}=t,j=Lw(t,Iw),{basename:y}=q.useContext(Al),k,S=!1;if(typeof g=="string"&&Bw.test(g)&&(k=g,Mw))try{let _=new URL(window.location.href),F=g.startsWith("//")?new URL(_.protocol+g):new URL(g),X=b0(F.pathname,y);F.origin===_.origin&&X!=null?g=X+F.search+F.hash:S=!0}catch{}let C=dw(g,{relative:o}),L=Uw(g,{replace:d,state:u,target:h,preventScrollReset:p,relative:o,viewTransition:b});function D(_){a&&a(_),_.defaultPrevented||L(_)}return q.createElement("a",Up({},j,{href:k||C,onClick:S||l?a:D,ref:s,target:h}))});var wx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wx||(wx={}));var Nx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Nx||(Nx={}));function Uw(e,t){let{target:s,replace:a,state:o,preventScrollReset:l,relative:d,viewTransition:u}=t===void 0?{}:t,h=yi(),g=bc(),p=$y(e,{relative:d});return q.useCallback(b=>{if(Dw(b,s)){b.preventDefault();let j=a!==void 0?a:gf(g)===gf(p);h(e,{replace:j,state:o,preventScrollReset:l,relative:d,viewTransition:u})}},[g,h,p,a,o,s,e,l,d,u])}function Cd(e){let t=q.useRef(zp(e)),s=q.useRef(!1),a=bc(),o=q.useMemo(()=>Fw(a.search,s.current?null:t.current),[a.search]),l=yi(),d=q.useCallback((u,h)=>{const g=zp(typeof u=="function"?u(o):u);s.current=!0,l("?"+g,h)},[l,o]);return[o,d]}let zw={data:""},qw=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||zw,$w=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Vw=/\/\*[^]*?\*\/|  +/g,jx=/\n+/g,yl=(e,t)=>{let s="",a="",o="";for(let l in e){let d=e[l];l[0]=="@"?l[1]=="i"?s=l+" "+d+";":a+=l[1]=="f"?yl(d,l):l+"{"+yl(d,l[1]=="k"?"":t)+"}":typeof d=="object"?a+=yl(d,t?t.replace(/([^,])+/g,u=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):l):d!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=yl.p?yl.p(l,d):l+":"+d+";")}return s+(t&&o?t+"{"+o+"}":o)+a},ko={},Ky=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+Ky(e[s]);return t}return e},Hw=(e,t,s,a,o)=>{let l=Ky(e),d=ko[l]||(ko[l]=(h=>{let g=0,p=11;for(;g<h.length;)p=101*p+h.charCodeAt(g++)>>>0;return"go"+p})(l));if(!ko[d]){let h=l!==e?e:(g=>{let p,b,j=[{}];for(;p=$w.exec(g.replace(Vw,""));)p[4]?j.shift():p[3]?(b=p[3].replace(jx," ").trim(),j.unshift(j[0][b]=j[0][b]||{})):j[0][p[1]]=p[2].replace(jx," ").trim();return j[0]})(e);ko[d]=yl(o?{["@keyframes "+d]:h}:h,s?"":"."+d)}let u=s&&ko.g?ko.g:null;return s&&(ko.g=ko[d]),((h,g,p,b)=>{b?g.data=g.data.replace(b,h):g.data.indexOf(h)===-1&&(g.data=p?h+g.data:g.data+h)})(ko[d],t,a,u),d},Ww=(e,t,s)=>e.reduce((a,o,l)=>{let d=t[l];if(d&&d.call){let u=d(s),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;d=h?"."+h:u&&typeof u=="object"?u.props?"":yl(u,""):u===!1?"":u}return a+o+(d??"")},"");function Rf(e){let t=this||{},s=e.call?e(t.p):e;return Hw(s.unshift?s.raw?Ww(s,[].slice.call(arguments,1),t.p):s.reduce((a,o)=>Object.assign(a,o&&o.call?o(t.p):o),{}):s,qw(t.target),t.g,t.o,t.k)}let Yy,qp,$p;Rf.bind({g:1});let Fo=Rf.bind({k:1});function Gw(e,t,s,a){yl.p=t,Yy=e,qp=s,$p=a}function Cl(e,t){let s=this||{};return function(){let a=arguments;function o(l,d){let u=Object.assign({},l),h=u.className||o.className;s.p=Object.assign({theme:qp&&qp()},u),s.o=/ *go\d+/.test(h),u.className=Rf.apply(s,a)+(h?" "+h:"");let g=e;return e[0]&&(g=u.as||e,delete u.as),$p&&g[0]&&$p(u),Yy(g,u)}return o}}var Kw=e=>typeof e=="function",xf=(e,t)=>Kw(e)?e(t):e,Yw=(()=>{let e=0;return()=>(++e).toString()})(),Jy=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Jw=20,k0="default",Qy=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(d=>d.id===t.toast.id?{...d,...t.toast}:d)};case 2:let{toast:a}=t;return Qy(e,{type:e.toasts.find(d=>d.id===a.id)?1:0,toast:a});case 3:let{toastId:o}=t;return{...e,toasts:e.toasts.map(d=>d.id===o||o===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(d=>d.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+l}))}}},Wh=[],Xy={toasts:[],pausedAt:void 0,settings:{toastLimit:Jw}},Vi={},Zy=(e,t=k0)=>{Vi[t]=Qy(Vi[t]||Xy,e),Wh.forEach(([s,a])=>{s===t&&a(Vi[t])})},e2=e=>Object.keys(Vi).forEach(t=>Zy(e,t)),Qw=e=>Object.keys(Vi).find(t=>Vi[t].toasts.some(s=>s.id===e)),Of=(e=k0)=>t=>{Zy(t,e)},Xw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Zw=(e={},t=k0)=>{let[s,a]=q.useState(Vi[t]||Xy),o=q.useRef(Vi[t]);q.useEffect(()=>(o.current!==Vi[t]&&a(Vi[t]),Wh.push([t,a]),()=>{let d=Wh.findIndex(([u])=>u===t);d>-1&&Wh.splice(d,1)}),[t]);let l=s.toasts.map(d=>{var u,h,g;return{...e,...e[d.type],...d,removeDelay:d.removeDelay||((u=e[d.type])==null?void 0:u.removeDelay)||e?.removeDelay,duration:d.duration||((h=e[d.type])==null?void 0:h.duration)||e?.duration||Xw[d.type],style:{...e.style,...(g=e[d.type])==null?void 0:g.style,...d.style}}});return{...s,toasts:l}},eN=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:s?.id||Yw()}),Bu=e=>(t,s)=>{let a=eN(t,e,s);return Of(a.toasterId||Qw(a.id))({type:2,toast:a}),a.id},Ps=(e,t)=>Bu("blank")(e,t);Ps.error=Bu("error");Ps.success=Bu("success");Ps.loading=Bu("loading");Ps.custom=Bu("custom");Ps.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Of(t)(s):e2(s)};Ps.dismissAll=e=>Ps.dismiss(void 0,e);Ps.remove=(e,t)=>{let s={type:4,toastId:e};t?Of(t)(s):e2(s)};Ps.removeAll=e=>Ps.remove(void 0,e);Ps.promise=(e,t,s)=>{let a=Ps.loading(t.loading,{...s,...s?.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let l=t.success?xf(t.success,o):void 0;return l?Ps.success(l,{id:a,...s,...s?.success}):Ps.dismiss(a),o}).catch(o=>{let l=t.error?xf(t.error,o):void 0;l?Ps.error(l,{id:a,...s,...s?.error}):Ps.dismiss(a)}),e};var tN=1e3,rN=(e,t="default")=>{let{toasts:s,pausedAt:a}=Zw(e,t),o=q.useRef(new Map).current,l=q.useCallback((b,j=tN)=>{if(o.has(b))return;let y=setTimeout(()=>{o.delete(b),d({type:4,toastId:b})},j);o.set(b,y)},[]);q.useEffect(()=>{if(a)return;let b=Date.now(),j=s.map(y=>{if(y.duration===1/0)return;let k=(y.duration||0)+y.pauseDuration-(b-y.createdAt);if(k<0){y.visible&&Ps.dismiss(y.id);return}return setTimeout(()=>Ps.dismiss(y.id,t),k)});return()=>{j.forEach(y=>y&&clearTimeout(y))}},[s,a,t]);let d=q.useCallback(Of(t),[t]),u=q.useCallback(()=>{d({type:5,time:Date.now()})},[d]),h=q.useCallback((b,j)=>{d({type:1,toast:{id:b,height:j}})},[d]),g=q.useCallback(()=>{a&&d({type:6,time:Date.now()})},[a,d]),p=q.useCallback((b,j)=>{let{reverseOrder:y=!1,gutter:k=8,defaultPosition:S}=j||{},C=s.filter(_=>(_.position||S)===(b.position||S)&&_.height),L=C.findIndex(_=>_.id===b.id),D=C.filter((_,F)=>F<L&&_.visible).length;return C.filter(_=>_.visible).slice(...y?[D+1]:[0,D]).reduce((_,F)=>_+(F.height||0)+k,0)},[s]);return q.useEffect(()=>{s.forEach(b=>{if(b.dismissed)l(b.id,b.removeDelay);else{let j=o.get(b.id);j&&(clearTimeout(j),o.delete(b.id))}})},[s,l]),{toasts:s,handlers:{updateHeight:h,startPause:u,endPause:g,calculateOffset:p}}},sN=Fo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,nN=Fo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aN=Fo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,iN=Cl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${nN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${aN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,oN=Fo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lN=Cl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${oN} 1s linear infinite;
`,cN=Fo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dN=Fo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,uN=Cl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hN=Cl("div")`
  position: absolute;
`,fN=Cl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,mN=Fo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pN=Cl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${mN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gN=({toast:e})=>{let{icon:t,type:s,iconTheme:a}=e;return t!==void 0?typeof t=="string"?q.createElement(pN,null,t):t:s==="blank"?null:q.createElement(fN,null,q.createElement(lN,{...a}),s!=="loading"&&q.createElement(hN,null,s==="error"?q.createElement(iN,{...a}):q.createElement(uN,{...a})))},xN=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,yN=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,vN="0%{opacity:0;} 100%{opacity:1;}",bN="0%{opacity:1;} 100%{opacity:0;}",wN=Cl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,NN=Cl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jN=(e,t)=>{let s=e.includes("top")?1:-1,[a,o]=Jy()?[vN,bN]:[xN(s),yN(s)];return{animation:t?`${Fo(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fo(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},SN=q.memo(({toast:e,position:t,style:s,children:a})=>{let o=e.height?jN(e.position||t||"top-center",e.visible):{opacity:0},l=q.createElement(gN,{toast:e}),d=q.createElement(NN,{...e.ariaProps},xf(e.message,e));return q.createElement(wN,{className:e.className,style:{...o,...s,...e.style}},typeof a=="function"?a({icon:l,message:d}):q.createElement(q.Fragment,null,l,d))});Gw(q.createElement);var kN=({id:e,className:t,style:s,onHeightUpdate:a,children:o})=>{let l=q.useCallback(d=>{if(d){let u=()=>{let h=d.getBoundingClientRect().height;a(e,h)};u(),new MutationObserver(u).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[e,a]);return q.createElement("div",{ref:l,className:t,style:s},o)},AN=(e,t)=>{let s=e.includes("top"),a=s?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Jy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...a,...o}},CN=Rf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Eh=16,_N=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:a,children:o,toasterId:l,containerStyle:d,containerClassName:u})=>{let{toasts:h,handlers:g}=rN(s,l);return q.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Eh,left:Eh,right:Eh,bottom:Eh,pointerEvents:"none",...d},className:u,onMouseEnter:g.startPause,onMouseLeave:g.endPause},h.map(p=>{let b=p.position||t,j=g.calculateOffset(p,{reverseOrder:e,gutter:a,defaultPosition:t}),y=AN(b,j);return q.createElement(kN,{id:p.id,key:p.id,onHeightUpdate:g.updateHeight,className:p.visible?CN:"",style:y},p.type==="custom"?xf(p.message,p):o?o(p):q.createElement(SN,{toast:p,position:b}))}))},Dh=Ps;function Js(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var PN=typeof Symbol=="function"&&Symbol.observable||"@@observable",Sx=PN,Wm=()=>Math.random().toString(36).substring(7).split("").join("."),LN={INIT:`@@redux/INIT${Wm()}`,REPLACE:`@@redux/REPLACE${Wm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wm()}`},yf=LN;function A0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function t2(e,t,s){if(typeof e!="function")throw new Error(Js(2));if(typeof t=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Js(0));if(typeof t=="function"&&typeof s>"u"&&(s=t,t=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Js(1));return s(t2)(e,t)}let a=e,o=t,l=new Map,d=l,u=0,h=!1;function g(){d===l&&(d=new Map,l.forEach((C,L)=>{d.set(L,C)}))}function p(){if(h)throw new Error(Js(3));return o}function b(C){if(typeof C!="function")throw new Error(Js(4));if(h)throw new Error(Js(5));let L=!0;g();const D=u++;return d.set(D,C),function(){if(L){if(h)throw new Error(Js(6));L=!1,g(),d.delete(D),l=null}}}function j(C){if(!A0(C))throw new Error(Js(7));if(typeof C.type>"u")throw new Error(Js(8));if(typeof C.type!="string")throw new Error(Js(17));if(h)throw new Error(Js(9));try{h=!0,o=a(o,C)}finally{h=!1}return(l=d).forEach(D=>{D()}),C}function y(C){if(typeof C!="function")throw new Error(Js(10));a=C,j({type:yf.REPLACE})}function k(){const C=b;return{subscribe(L){if(typeof L!="object"||L===null)throw new Error(Js(11));function D(){const F=L;F.next&&F.next(p())}return D(),{unsubscribe:C(D)}},[Sx](){return this}}}return j({type:yf.INIT}),{dispatch:j,subscribe:b,getState:p,replaceReducer:y,[Sx]:k}}function EN(e){Object.keys(e).forEach(t=>{const s=e[t];if(typeof s(void 0,{type:yf.INIT})>"u")throw new Error(Js(12));if(typeof s(void 0,{type:yf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Js(13))})}function DN(e){const t=Object.keys(e),s={};for(let l=0;l<t.length;l++){const d=t[l];typeof e[d]=="function"&&(s[d]=e[d])}const a=Object.keys(s);let o;try{EN(s)}catch(l){o=l}return function(d={},u){if(o)throw o;let h=!1;const g={};for(let p=0;p<a.length;p++){const b=a[p],j=s[b],y=d[b],k=j(y,u);if(typeof k>"u")throw u&&u.type,new Error(Js(14));g[b]=k,h=h||k!==y}return h=h||a.length!==Object.keys(d).length,h?g:d}}function vf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,s)=>(...a)=>t(s(...a)))}function FN(...e){return t=>(s,a)=>{const o=t(s,a);let l=()=>{throw new Error(Js(15))};const d={getState:o.getState,dispatch:(h,...g)=>l(h,...g)},u=e.map(h=>h(d));return l=vf(...u)(o.dispatch),{...o,dispatch:l}}}function IN(e){return A0(e)&&"type"in e&&typeof e.type=="string"}var r2=Symbol.for("immer-nothing"),kx=Symbol.for("immer-draftable"),pa=Symbol.for("immer-state");function di(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Nd=Object.getPrototypeOf;function fc(e){return!!e&&!!e[pa]}function Io(e){return e?s2(e)||Array.isArray(e)||!!e[kx]||!!e.constructor?.[kx]||Bf(e)||Uf(e):!1}var TN=Object.prototype.constructor.toString();function s2(e){if(!e||typeof e!="object")return!1;const t=Nd(e);if(t===null)return!0;const s=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===TN}function bf(e,t){Mf(e)===0?Reflect.ownKeys(e).forEach(s=>{t(s,e[s],e)}):e.forEach((s,a)=>t(a,s,e))}function Mf(e){const t=e[pa];return t?t.type_:Array.isArray(e)?1:Bf(e)?2:Uf(e)?3:0}function Vp(e,t){return Mf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function n2(e,t,s){const a=Mf(e);a===2?e.set(t,s):a===3?e.add(s):e[t]=s}function RN(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Bf(e){return e instanceof Map}function Uf(e){return e instanceof Set}function rc(e){return e.copy_||e.base_}function Hp(e,t){if(Bf(e))return new Map(e);if(Uf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=s2(e);if(t===!0||t==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(e);delete a[pa];let o=Reflect.ownKeys(a);for(let l=0;l<o.length;l++){const d=o[l],u=a[d];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(a[d]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[d]})}return Object.create(Nd(e),a)}else{const a=Nd(e);if(a!==null&&s)return{...e};const o=Object.create(a);return Object.assign(o,e)}}function C0(e,t=!1){return zf(e)||fc(e)||!Io(e)||(Mf(e)>1&&(e.set=e.add=e.clear=e.delete=ON),Object.freeze(e),t&&Object.entries(e).forEach(([s,a])=>C0(a,!0))),e}function ON(){di(2)}function zf(e){return Object.isFrozen(e)}var MN={};function mc(e){const t=MN[e];return t||di(0,e),t}var Du;function a2(){return Du}function BN(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ax(e,t){t&&(mc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Wp(e){Gp(e),e.drafts_.forEach(UN),e.drafts_=null}function Gp(e){e===Du&&(Du=e.parent_)}function Cx(e){return Du=BN(Du,e)}function UN(e){const t=e[pa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function _x(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];return e!==void 0&&e!==s?(s[pa].modified_&&(Wp(t),di(4)),Io(e)&&(e=wf(t,e),t.parent_||Nf(t,e)),t.patches_&&mc("Patches").generateReplacementPatches_(s[pa].base_,e,t.patches_,t.inversePatches_)):e=wf(t,s,[]),Wp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==r2?e:void 0}function wf(e,t,s){if(zf(t))return t;const a=t[pa];if(!a)return bf(t,(o,l)=>Px(e,a,t,o,l,s)),t;if(a.scope_!==e)return t;if(!a.modified_)return Nf(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const o=a.copy_;let l=o,d=!1;a.type_===3&&(l=new Set(o),o.clear(),d=!0),bf(l,(u,h)=>Px(e,a,o,u,h,s,d)),Nf(e,o,!1),s&&e.patches_&&mc("Patches").generatePatches_(a,s,e.patches_,e.inversePatches_)}return a.copy_}function Px(e,t,s,a,o,l,d){if(fc(o)){const u=l&&t&&t.type_!==3&&!Vp(t.assigned_,a)?l.concat(a):void 0,h=wf(e,o,u);if(n2(s,a,h),fc(h))e.canAutoFreeze_=!1;else return}else d&&s.add(o);if(Io(o)&&!zf(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;wf(e,o),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(s,a)&&Nf(e,o)}}function Nf(e,t,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&C0(t,s)}function zN(e,t){const s=Array.isArray(e),a={type_:s?1:0,scope_:t?t.scope_:a2(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=a,l=_0;s&&(o=[a],l=Fu);const{revoke:d,proxy:u}=Proxy.revocable(o,l);return a.draft_=u,a.revoke_=d,u}var _0={get(e,t){if(t===pa)return e;const s=rc(e);if(!Vp(s,t))return qN(e,s,t);const a=s[t];return e.finalized_||!Io(a)?a:a===Gm(e.base_,t)?(Km(e),e.copy_[t]=Yp(a,e)):a},has(e,t){return t in rc(e)},ownKeys(e){return Reflect.ownKeys(rc(e))},set(e,t,s){const a=i2(rc(e),t);if(a?.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const o=Gm(rc(e),t),l=o?.[pa];if(l&&l.base_===s)return e.copy_[t]=s,e.assigned_[t]=!1,!0;if(RN(s,o)&&(s!==void 0||Vp(e.base_,t)))return!0;Km(e),Kp(e)}return e.copy_[t]===s&&(s!==void 0||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Gm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Km(e),Kp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const s=rc(e),a=Reflect.getOwnPropertyDescriptor(s,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:s[t]}},defineProperty(){di(11)},getPrototypeOf(e){return Nd(e.base_)},setPrototypeOf(){di(12)}},Fu={};bf(_0,(e,t)=>{Fu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Fu.deleteProperty=function(e,t){return Fu.set.call(this,e,t,void 0)};Fu.set=function(e,t,s){return _0.set.call(this,e[0],t,s,e[0])};function Gm(e,t){const s=e[pa];return(s?rc(s):e)[t]}function qN(e,t,s){const a=i2(t,s);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function i2(e,t){if(!(t in e))return;let s=Nd(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,t);if(a)return a;s=Nd(s)}}function Kp(e){e.modified_||(e.modified_=!0,e.parent_&&Kp(e.parent_))}function Km(e){e.copy_||(e.copy_=Hp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $N=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,s,a)=>{if(typeof t=="function"&&typeof s!="function"){const l=s;s=t;const d=this;return function(h=l,...g){return d.produce(h,p=>s.call(this,p,...g))}}typeof s!="function"&&di(6),a!==void 0&&typeof a!="function"&&di(7);let o;if(Io(t)){const l=Cx(this),d=Yp(t,void 0);let u=!0;try{o=s(d),u=!1}finally{u?Wp(l):Gp(l)}return Ax(l,a),_x(o,l)}else if(!t||typeof t!="object"){if(o=s(t),o===void 0&&(o=t),o===r2&&(o=void 0),this.autoFreeze_&&C0(o,!0),a){const l=[],d=[];mc("Patches").generateReplacementPatches_(t,o,l,d),a(l,d)}return o}else di(1,t)},this.produceWithPatches=(t,s)=>{if(typeof t=="function")return(d,...u)=>this.produceWithPatches(d,h=>t(h,...u));let a,o;return[this.produce(t,s,(d,u)=>{a=d,o=u}),a,o]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Io(e)||di(8),fc(e)&&(e=VN(e));const t=Cx(this),s=Yp(e,void 0);return s[pa].isManual_=!0,Gp(t),s}finishDraft(e,t){const s=e&&e[pa];(!s||!s.isManual_)&&di(9);const{scope_:a}=s;return Ax(a,t),_x(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let s;for(s=t.length-1;s>=0;s--){const o=t[s];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}s>-1&&(t=t.slice(s+1));const a=mc("Patches").applyPatches_;return fc(e)?a(e,t):this.produce(e,o=>a(o,t))}};function Yp(e,t){const s=Bf(e)?mc("MapSet").proxyMap_(e,t):Uf(e)?mc("MapSet").proxySet_(e,t):zN(e,t);return(t?t.scope_:a2()).drafts_.push(s),s}function VN(e){return fc(e)||di(10,e),o2(e)}function o2(e){if(!Io(e)||zf(e))return e;const t=e[pa];let s;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=Hp(e,t.scope_.immer_.useStrictShallowCopy_)}else s=Hp(e,!0);return bf(s,(a,o)=>{n2(s,a,o2(o))}),t&&(t.finalized_=!1),s}var ga=new $N,l2=ga.produce;ga.produceWithPatches.bind(ga);ga.setAutoFreeze.bind(ga);ga.setUseStrictShallowCopy.bind(ga);ga.applyPatches.bind(ga);ga.createDraft.bind(ga);ga.finishDraft.bind(ga);function c2(e){return({dispatch:s,getState:a})=>o=>l=>typeof l=="function"?l(s,a,e):o(l)}var HN=c2(),WN=c2,GN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vf:vf.apply(null,arguments)},KN=e=>e&&typeof e.match=="function";function pu(e,t){function s(...a){if(t){let o=t(...a);if(!o)throw new Error(Eo(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:a[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=a=>IN(a)&&a.type===e,s}var d2=class mu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,mu.prototype)}static get[Symbol.species](){return mu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new mu(...t[0].concat(this)):new mu(...t.concat(this))}};function Lx(e){return Io(e)?l2(e,()=>{}):e}function Fh(e,t,s){return e.has(t)?e.get(t):e.set(t,s(t)).get(t)}function YN(e){return typeof e=="boolean"}var JN=()=>function(t){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=t??{};let d=new d2;return s&&(YN(s)?d.push(HN):d.push(WN(s.extraArgument))),d},QN="RTK_autoBatch",Ex=e=>t=>{setTimeout(t,e)},XN=(e={type:"raf"})=>t=>(...s)=>{const a=t(...s);let o=!0,l=!1,d=!1;const u=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ex(10):e.type==="callback"?e.queueNotification:Ex(e.timeout),g=()=>{d=!1,l&&(l=!1,u.forEach(p=>p()))};return Object.assign({},a,{subscribe(p){const b=()=>o&&p(),j=a.subscribe(b);return u.add(p),()=>{j(),u.delete(p)}},dispatch(p){try{return o=!p?.meta?.[QN],l=!o,l&&(d||(d=!0,h(g))),a.dispatch(p)}finally{o=!0}}})},ZN=e=>function(s){const{autoBatch:a=!0}=s??{};let o=new d2(e);return a&&o.push(XN(typeof a=="object"?a:void 0)),o};function ej(e){const t=JN(),{reducer:s=void 0,middleware:a,devTools:o=!0,preloadedState:l=void 0,enhancers:d=void 0}=e||{};let u;if(typeof s=="function")u=s;else if(A0(s))u=DN(s);else throw new Error(Eo(1));let h;typeof a=="function"?h=a(t):h=t();let g=vf;o&&(g=GN({trace:!1,...typeof o=="object"&&o}));const p=FN(...h),b=ZN(p);let j=typeof d=="function"?d(b):b();const y=g(...j);return t2(u,l,y)}function u2(e){const t={},s=[];let a;const o={addCase(l,d){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(Eo(28));if(u in t)throw new Error(Eo(29));return t[u]=d,o},addMatcher(l,d){return s.push({matcher:l,reducer:d}),o},addDefaultCase(l){return a=l,o}};return e(o),[t,s,a]}function tj(e){return typeof e=="function"}function rj(e,t){let[s,a,o]=u2(t),l;if(tj(e))l=()=>Lx(e());else{const u=Lx(e);l=()=>u}function d(u=l(),h){let g=[s[h.type],...a.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return g.filter(p=>!!p).length===0&&(g=[o]),g.reduce((p,b)=>{if(b)if(fc(p)){const y=b(p,h);return y===void 0?p:y}else{if(Io(p))return l2(p,j=>b(j,h));{const j=b(p,h);if(j===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return j}}return p},u)}return d.getInitialState=l,d}var sj=(e,t)=>KN(e)?e.match(t):e(t);function nj(...e){return t=>e.some(s=>sj(s,t))}var aj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ij=(e=21)=>{let t="",s=e;for(;s--;)t+=aj[Math.random()*64|0];return t},oj=["name","message","stack","code"],Ym=class{constructor(e,t){this.payload=e,this.meta=t}_type},Dx=class{constructor(e,t){this.payload=e,this.meta=t}_type},lj=e=>{if(typeof e=="object"&&e!==null){const t={};for(const s of oj)typeof e[s]=="string"&&(t[s]=e[s]);return t}return{message:String(e)}},Fx="External signal was aborted",Pr=(()=>{function e(t,s,a){const o=pu(t+"/fulfilled",(h,g,p,b)=>({payload:h,meta:{...b||{},arg:p,requestId:g,requestStatus:"fulfilled"}})),l=pu(t+"/pending",(h,g,p)=>({payload:void 0,meta:{...p||{},arg:g,requestId:h,requestStatus:"pending"}})),d=pu(t+"/rejected",(h,g,p,b,j)=>({payload:b,error:(a&&a.serializeError||lj)(h||"Rejected"),meta:{...j||{},arg:p,requestId:g,rejectedWithValue:!!b,requestStatus:"rejected",aborted:h?.name==="AbortError",condition:h?.name==="ConditionError"}}));function u(h,{signal:g}={}){return(p,b,j)=>{const y=a?.idGenerator?a.idGenerator(h):ij(),k=new AbortController;let S,C;function L(_){C=_,k.abort()}g&&(g.aborted?L(Fx):g.addEventListener("abort",()=>L(Fx),{once:!0}));const D=(async function(){let _;try{let X=a?.condition?.(h,{getState:b,extra:j});if(dj(X)&&(X=await X),X===!1||k.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const ue=new Promise((le,ie)=>{S=()=>{ie({name:"AbortError",message:C||"Aborted"})},k.signal.addEventListener("abort",S)});p(l(y,h,a?.getPendingMeta?.({requestId:y,arg:h},{getState:b,extra:j}))),_=await Promise.race([ue,Promise.resolve(s(h,{dispatch:p,getState:b,extra:j,requestId:y,signal:k.signal,abort:L,rejectWithValue:(le,ie)=>new Ym(le,ie),fulfillWithValue:(le,ie)=>new Dx(le,ie)})).then(le=>{if(le instanceof Ym)throw le;return le instanceof Dx?o(le.payload,y,h,le.meta):o(le,y,h)})])}catch(X){_=X instanceof Ym?d(null,y,h,X.payload,X.meta):d(X,y,h)}finally{S&&k.signal.removeEventListener("abort",S)}return a&&!a.dispatchConditionRejection&&d.match(_)&&_.meta.condition||p(_),_})();return Object.assign(D,{abort:L,requestId:y,arg:h,unwrap(){return D.then(cj)}})}}return Object.assign(u,{pending:l,rejected:d,fulfilled:o,settled:nj(d,o),typePrefix:t})}return e.withTypes=()=>e,e})();function cj(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function dj(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var uj=Symbol.for("rtk-slice-createasyncthunk");function hj(e,t){return`${e}/${t}`}function fj({creators:e}={}){const t=e?.asyncThunk?.[uj];return function(a){const{name:o,reducerPath:l=o}=a;if(!o)throw new Error(Eo(11));const d=(typeof a.reducers=="function"?a.reducers(pj()):a.reducers)||{},u=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(_,F){const X=typeof _=="string"?_:_.type;if(!X)throw new Error(Eo(12));if(X in h.sliceCaseReducersByType)throw new Error(Eo(13));return h.sliceCaseReducersByType[X]=F,g},addMatcher(_,F){return h.sliceMatchers.push({matcher:_,reducer:F}),g},exposeAction(_,F){return h.actionCreators[_]=F,g},exposeCaseReducer(_,F){return h.sliceCaseReducersByName[_]=F,g}};u.forEach(_=>{const F=d[_],X={reducerName:_,type:hj(o,_),createNotation:typeof a.reducers=="function"};xj(F)?vj(X,F,g,t):gj(X,F,g)});function p(){const[_={},F=[],X=void 0]=typeof a.extraReducers=="function"?u2(a.extraReducers):[a.extraReducers],ue={..._,...h.sliceCaseReducersByType};return rj(a.initialState,le=>{for(let ie in ue)le.addCase(ie,ue[ie]);for(let ie of h.sliceMatchers)le.addMatcher(ie.matcher,ie.reducer);for(let ie of F)le.addMatcher(ie.matcher,ie.reducer);X&&le.addDefaultCase(X)})}const b=_=>_,j=new Map,y=new WeakMap;let k;function S(_,F){return k||(k=p()),k(_,F)}function C(){return k||(k=p()),k.getInitialState()}function L(_,F=!1){function X(le){let ie=le[_];return typeof ie>"u"&&F&&(ie=Fh(y,X,C)),ie}function ue(le=b){const ie=Fh(j,F,()=>new WeakMap);return Fh(ie,le,()=>{const ee={};for(const[me,O]of Object.entries(a.selectors??{}))ee[me]=mj(O,le,()=>Fh(y,le,C),F);return ee})}return{reducerPath:_,getSelectors:ue,get selectors(){return ue(X)},selectSlice:X}}const D={name:o,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:C,...L(l),injectInto(_,{reducerPath:F,...X}={}){const ue=F??l;return _.inject({reducerPath:ue,reducer:S},X),{...D,...L(ue,!0)}}};return D}}function mj(e,t,s,a){function o(l,...d){let u=t(l);return typeof u>"u"&&a&&(u=s()),e(u,...d)}return o.unwrapped=e,o}var Ro=fj();function pj(){function e(t,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...s}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...s){return t(...s)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:s}},asyncThunk:e}}function gj({type:e,reducerName:t,createNotation:s},a,o){let l,d;if("reducer"in a){if(s&&!yj(a))throw new Error(Eo(17));l=a.reducer,d=a.prepare}else l=a;o.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,d?pu(e,d):pu(e))}function xj(e){return e._reducerDefinitionType==="asyncThunk"}function yj(e){return e._reducerDefinitionType==="reducerWithPrepare"}function vj({type:e,reducerName:t},s,a,o){if(!o)throw new Error(Eo(18));const{payloadCreator:l,fulfilled:d,pending:u,rejected:h,settled:g,options:p}=s,b=o(e,l,p);a.exposeAction(t,b),d&&a.addCase(b.fulfilled,d),u&&a.addCase(b.pending,u),h&&a.addCase(b.rejected,h),g&&a.addMatcher(b.settled,g),a.exposeCaseReducer(t,{fulfilled:d||Ih,pending:u||Ih,rejected:h||Ih,settled:g||Ih})}function Ih(){}function Eo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function h2(e,t){return function(){return e.apply(t,arguments)}}const{toString:bj}=Object.prototype,{getPrototypeOf:P0}=Object,{iterator:qf,toStringTag:f2}=Symbol,$f=(e=>t=>{const s=bj.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),vi=e=>(e=e.toLowerCase(),t=>$f(t)===e),Vf=e=>t=>typeof t===e,{isArray:_d}=Array,Iu=Vf("undefined");function Uu(e){return e!==null&&!Iu(e)&&e.constructor!==null&&!Iu(e.constructor)&&Kn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const m2=vi("ArrayBuffer");function wj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&m2(e.buffer),t}const Nj=Vf("string"),Kn=Vf("function"),p2=Vf("number"),zu=e=>e!==null&&typeof e=="object",jj=e=>e===!0||e===!1,Gh=e=>{if($f(e)!=="object")return!1;const t=P0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(f2 in e)&&!(qf in e)},Sj=e=>{if(!zu(e)||Uu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},kj=vi("Date"),Aj=vi("File"),Cj=vi("Blob"),_j=vi("FileList"),Pj=e=>zu(e)&&Kn(e.pipe),Lj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Kn(e.append)&&((t=$f(e))==="formdata"||t==="object"&&Kn(e.toString)&&e.toString()==="[object FormData]"))},Ej=vi("URLSearchParams"),[Dj,Fj,Ij,Tj]=["ReadableStream","Request","Response","Headers"].map(vi),Rj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qu(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,o;if(typeof e!="object"&&(e=[e]),_d(e))for(a=0,o=e.length;a<o;a++)t.call(null,e[a],a,e);else{if(Uu(e))return;const l=s?Object.getOwnPropertyNames(e):Object.keys(e),d=l.length;let u;for(a=0;a<d;a++)u=l[a],t.call(null,e[u],u,e)}}function g2(e,t){if(Uu(e))return null;t=t.toLowerCase();const s=Object.keys(e);let a=s.length,o;for(;a-- >0;)if(o=s[a],t===o.toLowerCase())return o;return null}const ac=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,x2=e=>!Iu(e)&&e!==ac;function Jp(){const{caseless:e}=x2(this)&&this||{},t={},s=(a,o)=>{const l=e&&g2(t,o)||o;Gh(t[l])&&Gh(a)?t[l]=Jp(t[l],a):Gh(a)?t[l]=Jp({},a):_d(a)?t[l]=a.slice():t[l]=a};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&qu(arguments[a],s);return t}const Oj=(e,t,s,{allOwnKeys:a}={})=>(qu(t,(o,l)=>{s&&Kn(o)?e[l]=h2(o,s):e[l]=o},{allOwnKeys:a}),e),Mj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Bj=(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Uj=(e,t,s,a)=>{let o,l,d;const u={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)d=o[l],(!a||a(d,e,t))&&!u[d]&&(t[d]=e[d],u[d]=!0);e=s!==!1&&P0(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},zj=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return a!==-1&&a===s},qj=e=>{if(!e)return null;if(_d(e))return e;let t=e.length;if(!p2(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},$j=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&P0(Uint8Array)),Vj=(e,t)=>{const a=(e&&e[qf]).call(e);let o;for(;(o=a.next())&&!o.done;){const l=o.value;t.call(e,l[0],l[1])}},Hj=(e,t)=>{let s;const a=[];for(;(s=e.exec(t))!==null;)a.push(s);return a},Wj=vi("HTMLFormElement"),Gj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,o){return a.toUpperCase()+o}),Ix=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Kj=vi("RegExp"),y2=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};qu(s,(o,l)=>{let d;(d=t(o,l,e))!==!1&&(a[l]=d||o)}),Object.defineProperties(e,a)},Yj=e=>{y2(e,(t,s)=>{if(Kn(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(Kn(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Jj=(e,t)=>{const s={},a=o=>{o.forEach(l=>{s[l]=!0})};return _d(e)?a(e):a(String(e).split(t)),s},Qj=()=>{},Xj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Zj(e){return!!(e&&Kn(e.append)&&e[f2]==="FormData"&&e[qf])}const e4=e=>{const t=new Array(10),s=(a,o)=>{if(zu(a)){if(t.indexOf(a)>=0)return;if(Uu(a))return a;if(!("toJSON"in a)){t[o]=a;const l=_d(a)?[]:{};return qu(a,(d,u)=>{const h=s(d,o+1);!Iu(h)&&(l[u]=h)}),t[o]=void 0,l}}return a};return s(e,0)},t4=vi("AsyncFunction"),r4=e=>e&&(zu(e)||Kn(e))&&Kn(e.then)&&Kn(e.catch),v2=((e,t)=>e?setImmediate:t?((s,a)=>(ac.addEventListener("message",({source:o,data:l})=>{o===ac&&l===s&&a.length&&a.shift()()},!1),o=>{a.push(o),ac.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Kn(ac.postMessage)),s4=typeof queueMicrotask<"u"?queueMicrotask.bind(ac):typeof process<"u"&&process.nextTick||v2,n4=e=>e!=null&&Kn(e[qf]),qe={isArray:_d,isArrayBuffer:m2,isBuffer:Uu,isFormData:Lj,isArrayBufferView:wj,isString:Nj,isNumber:p2,isBoolean:jj,isObject:zu,isPlainObject:Gh,isEmptyObject:Sj,isReadableStream:Dj,isRequest:Fj,isResponse:Ij,isHeaders:Tj,isUndefined:Iu,isDate:kj,isFile:Aj,isBlob:Cj,isRegExp:Kj,isFunction:Kn,isStream:Pj,isURLSearchParams:Ej,isTypedArray:$j,isFileList:_j,forEach:qu,merge:Jp,extend:Oj,trim:Rj,stripBOM:Mj,inherits:Bj,toFlatObject:Uj,kindOf:$f,kindOfTest:vi,endsWith:zj,toArray:qj,forEachEntry:Vj,matchAll:Hj,isHTMLForm:Wj,hasOwnProperty:Ix,hasOwnProp:Ix,reduceDescriptors:y2,freezeMethods:Yj,toObjectSet:Jj,toCamelCase:Gj,noop:Qj,toFiniteNumber:Xj,findKey:g2,global:ac,isContextDefined:x2,isSpecCompliantForm:Zj,toJSONObject:e4,isAsyncFn:t4,isThenable:r4,setImmediate:v2,asap:s4,isIterable:n4};function Wt(e,t,s,a,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),o&&(this.response=o,this.status=o.status?o.status:null)}qe.inherits(Wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qe.toJSONObject(this.config),code:this.code,status:this.status}}});const b2=Wt.prototype,w2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{w2[e]={value:e}});Object.defineProperties(Wt,w2);Object.defineProperty(b2,"isAxiosError",{value:!0});Wt.from=(e,t,s,a,o,l)=>{const d=Object.create(b2);return qe.toFlatObject(e,d,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),Wt.call(d,e.message,t,s,a,o),d.cause=e,d.name=e.name,l&&Object.assign(d,l),d};const a4=null;function Qp(e){return qe.isPlainObject(e)||qe.isArray(e)}function N2(e){return qe.endsWith(e,"[]")?e.slice(0,-2):e}function Tx(e,t,s){return e?e.concat(t).map(function(o,l){return o=N2(o),!s&&l?"["+o+"]":o}).join(s?".":""):t}function i4(e){return qe.isArray(e)&&!e.some(Qp)}const o4=qe.toFlatObject(qe,{},null,function(t){return/^is[A-Z]/.test(t)});function Hf(e,t,s){if(!qe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=qe.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,C){return!qe.isUndefined(C[S])});const a=s.metaTokens,o=s.visitor||p,l=s.dots,d=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&qe.isSpecCompliantForm(t);if(!qe.isFunction(o))throw new TypeError("visitor must be a function");function g(k){if(k===null)return"";if(qe.isDate(k))return k.toISOString();if(qe.isBoolean(k))return k.toString();if(!h&&qe.isBlob(k))throw new Wt("Blob is not supported. Use a Buffer instead.");return qe.isArrayBuffer(k)||qe.isTypedArray(k)?h&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function p(k,S,C){let L=k;if(k&&!C&&typeof k=="object"){if(qe.endsWith(S,"{}"))S=a?S:S.slice(0,-2),k=JSON.stringify(k);else if(qe.isArray(k)&&i4(k)||(qe.isFileList(k)||qe.endsWith(S,"[]"))&&(L=qe.toArray(k)))return S=N2(S),L.forEach(function(_,F){!(qe.isUndefined(_)||_===null)&&t.append(d===!0?Tx([S],F,l):d===null?S:S+"[]",g(_))}),!1}return Qp(k)?!0:(t.append(Tx(C,S,l),g(k)),!1)}const b=[],j=Object.assign(o4,{defaultVisitor:p,convertValue:g,isVisitable:Qp});function y(k,S){if(!qe.isUndefined(k)){if(b.indexOf(k)!==-1)throw Error("Circular reference detected in "+S.join("."));b.push(k),qe.forEach(k,function(L,D){(!(qe.isUndefined(L)||L===null)&&o.call(t,L,qe.isString(D)?D.trim():D,S,j))===!0&&y(L,S?S.concat(D):[D])}),b.pop()}}if(!qe.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Rx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function L0(e,t){this._pairs=[],e&&Hf(e,this,t)}const j2=L0.prototype;j2.append=function(t,s){this._pairs.push([t,s])};j2.toString=function(t){const s=t?function(a){return t.call(this,a,Rx)}:Rx;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function l4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function S2(e,t,s){if(!t)return e;const a=s&&s.encode||l4;qe.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let l;if(o?l=o(t,s):l=qe.isURLSearchParams(t)?t.toString():new L0(t,s).toString(a),l){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Ox{constructor(){this.handlers=[]}use(t,s,a){return this.handlers.push({fulfilled:t,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){qe.forEach(this.handlers,function(a){a!==null&&t(a)})}}const k2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},c4=typeof URLSearchParams<"u"?URLSearchParams:L0,d4=typeof FormData<"u"?FormData:null,u4=typeof Blob<"u"?Blob:null,h4={isBrowser:!0,classes:{URLSearchParams:c4,FormData:d4,Blob:u4},protocols:["http","https","file","blob","url","data"]},E0=typeof window<"u"&&typeof document<"u",Xp=typeof navigator=="object"&&navigator||void 0,f4=E0&&(!Xp||["ReactNative","NativeScript","NS"].indexOf(Xp.product)<0),m4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",p4=E0&&window.location.href||"http://localhost",g4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:E0,hasStandardBrowserEnv:f4,hasStandardBrowserWebWorkerEnv:m4,navigator:Xp,origin:p4},Symbol.toStringTag,{value:"Module"})),pn={...g4,...h4};function x4(e,t){return Hf(e,new pn.classes.URLSearchParams,{visitor:function(s,a,o,l){return pn.isNode&&qe.isBuffer(s)?(this.append(a,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function y4(e){return qe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function v4(e){const t={},s=Object.keys(e);let a;const o=s.length;let l;for(a=0;a<o;a++)l=s[a],t[l]=e[l];return t}function A2(e){function t(s,a,o,l){let d=s[l++];if(d==="__proto__")return!0;const u=Number.isFinite(+d),h=l>=s.length;return d=!d&&qe.isArray(o)?o.length:d,h?(qe.hasOwnProp(o,d)?o[d]=[o[d],a]:o[d]=a,!u):((!o[d]||!qe.isObject(o[d]))&&(o[d]=[]),t(s,a,o[d],l)&&qe.isArray(o[d])&&(o[d]=v4(o[d])),!u)}if(qe.isFormData(e)&&qe.isFunction(e.entries)){const s={};return qe.forEachEntry(e,(a,o)=>{t(y4(a),o,s,0)}),s}return null}function b4(e,t,s){if(qe.isString(e))try{return(t||JSON.parse)(e),qe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const $u={transitional:k2,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const a=s.getContentType()||"",o=a.indexOf("application/json")>-1,l=qe.isObject(t);if(l&&qe.isHTMLForm(t)&&(t=new FormData(t)),qe.isFormData(t))return o?JSON.stringify(A2(t)):t;if(qe.isArrayBuffer(t)||qe.isBuffer(t)||qe.isStream(t)||qe.isFile(t)||qe.isBlob(t)||qe.isReadableStream(t))return t;if(qe.isArrayBufferView(t))return t.buffer;if(qe.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return x4(t,this.formSerializer).toString();if((u=qe.isFileList(t))||a.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Hf(u?{"files[]":t}:t,h&&new h,this.formSerializer)}}return l||o?(s.setContentType("application/json",!1),b4(t)):t}],transformResponse:[function(t){const s=this.transitional||$u.transitional,a=s&&s.forcedJSONParsing,o=this.responseType==="json";if(qe.isResponse(t)||qe.isReadableStream(t))return t;if(t&&qe.isString(t)&&(a&&!this.responseType||o)){const d=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(u){if(d)throw u.name==="SyntaxError"?Wt.from(u,Wt.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pn.classes.FormData,Blob:pn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qe.forEach(["delete","get","head","post","put","patch"],e=>{$u.headers[e]={}});const w4=qe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),N4=e=>{const t={};let s,a,o;return e&&e.split(`
`).forEach(function(d){o=d.indexOf(":"),s=d.substring(0,o).trim().toLowerCase(),a=d.substring(o+1).trim(),!(!s||t[s]&&w4[s])&&(s==="set-cookie"?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t},Mx=Symbol("internals");function lu(e){return e&&String(e).trim().toLowerCase()}function Kh(e){return e===!1||e==null?e:qe.isArray(e)?e.map(Kh):String(e)}function j4(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}const S4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Jm(e,t,s,a,o){if(qe.isFunction(a))return a.call(this,t,s);if(o&&(t=s),!!qe.isString(t)){if(qe.isString(a))return t.indexOf(a)!==-1;if(qe.isRegExp(a))return a.test(t)}}function k4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,a)=>s.toUpperCase()+a)}function A4(e,t){const s=qe.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(o,l,d){return this[a].call(this,t,o,l,d)},configurable:!0})})}let Yn=class{constructor(t){t&&this.set(t)}set(t,s,a){const o=this;function l(u,h,g){const p=lu(h);if(!p)throw new Error("header name must be a non-empty string");const b=qe.findKey(o,p);(!b||o[b]===void 0||g===!0||g===void 0&&o[b]!==!1)&&(o[b||h]=Kh(u))}const d=(u,h)=>qe.forEach(u,(g,p)=>l(g,p,h));if(qe.isPlainObject(t)||t instanceof this.constructor)d(t,s);else if(qe.isString(t)&&(t=t.trim())&&!S4(t))d(N4(t),s);else if(qe.isObject(t)&&qe.isIterable(t)){let u={},h,g;for(const p of t){if(!qe.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[g=p[0]]=(h=u[g])?qe.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}d(u,s)}else t!=null&&l(s,t,a);return this}get(t,s){if(t=lu(t),t){const a=qe.findKey(this,t);if(a){const o=this[a];if(!s)return o;if(s===!0)return j4(o);if(qe.isFunction(s))return s.call(this,o,a);if(qe.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=lu(t),t){const a=qe.findKey(this,t);return!!(a&&this[a]!==void 0&&(!s||Jm(this,this[a],a,s)))}return!1}delete(t,s){const a=this;let o=!1;function l(d){if(d=lu(d),d){const u=qe.findKey(a,d);u&&(!s||Jm(a,a[u],u,s))&&(delete a[u],o=!0)}}return qe.isArray(t)?t.forEach(l):l(t),o}clear(t){const s=Object.keys(this);let a=s.length,o=!1;for(;a--;){const l=s[a];(!t||Jm(this,this[l],l,t,!0))&&(delete this[l],o=!0)}return o}normalize(t){const s=this,a={};return qe.forEach(this,(o,l)=>{const d=qe.findKey(a,l);if(d){s[d]=Kh(o),delete s[l];return}const u=t?k4(l):String(l).trim();u!==l&&delete s[l],s[u]=Kh(o),a[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return qe.forEach(this,(a,o)=>{a!=null&&a!==!1&&(s[o]=t&&qe.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const a=new this(t);return s.forEach(o=>a.set(o)),a}static accessor(t){const a=(this[Mx]=this[Mx]={accessors:{}}).accessors,o=this.prototype;function l(d){const u=lu(d);a[u]||(A4(o,d),a[u]=!0)}return qe.isArray(t)?t.forEach(l):l(t),this}};Yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qe.reduceDescriptors(Yn.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[s]=a}}});qe.freezeMethods(Yn);function Qm(e,t){const s=this||$u,a=t||s,o=Yn.from(a.headers);let l=a.data;return qe.forEach(e,function(u){l=u.call(s,l,o.normalize(),t?t.status:void 0)}),o.normalize(),l}function C2(e){return!!(e&&e.__CANCEL__)}function Pd(e,t,s){Wt.call(this,e??"canceled",Wt.ERR_CANCELED,t,s),this.name="CanceledError"}qe.inherits(Pd,Wt,{__CANCEL__:!0});function _2(e,t,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):t(new Wt("Request failed with status code "+s.status,[Wt.ERR_BAD_REQUEST,Wt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function C4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function _4(e,t){e=e||10;const s=new Array(e),a=new Array(e);let o=0,l=0,d;return t=t!==void 0?t:1e3,function(h){const g=Date.now(),p=a[l];d||(d=g),s[o]=h,a[o]=g;let b=l,j=0;for(;b!==o;)j+=s[b++],b=b%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),g-d<t)return;const y=p&&g-p;return y?Math.round(j*1e3/y):void 0}}function P4(e,t){let s=0,a=1e3/t,o,l;const d=(g,p=Date.now())=>{s=p,o=null,l&&(clearTimeout(l),l=null),e(...g)};return[(...g)=>{const p=Date.now(),b=p-s;b>=a?d(g,p):(o=g,l||(l=setTimeout(()=>{l=null,d(o)},a-b)))},()=>o&&d(o)]}const jf=(e,t,s=3)=>{let a=0;const o=_4(50,250);return P4(l=>{const d=l.loaded,u=l.lengthComputable?l.total:void 0,h=d-a,g=o(h),p=d<=u;a=d;const b={loaded:d,total:u,progress:u?d/u:void 0,bytes:h,rate:g||void 0,estimated:g&&u&&p?(u-d)/g:void 0,event:l,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(b)},s)},Bx=(e,t)=>{const s=e!=null;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},Ux=e=>(...t)=>qe.asap(()=>e(...t)),L4=pn.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,pn.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(pn.origin),pn.navigator&&/(msie|trident)/i.test(pn.navigator.userAgent)):()=>!0,E4=pn.hasStandardBrowserEnv?{write(e,t,s,a,o,l){const d=[e+"="+encodeURIComponent(t)];qe.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),qe.isString(a)&&d.push("path="+a),qe.isString(o)&&d.push("domain="+o),l===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function D4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function F4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function P2(e,t,s){let a=!D4(t);return e&&(a||s==!1)?F4(e,t):t}const zx=e=>e instanceof Yn?{...e}:e;function pc(e,t){t=t||{};const s={};function a(g,p,b,j){return qe.isPlainObject(g)&&qe.isPlainObject(p)?qe.merge.call({caseless:j},g,p):qe.isPlainObject(p)?qe.merge({},p):qe.isArray(p)?p.slice():p}function o(g,p,b,j){if(qe.isUndefined(p)){if(!qe.isUndefined(g))return a(void 0,g,b,j)}else return a(g,p,b,j)}function l(g,p){if(!qe.isUndefined(p))return a(void 0,p)}function d(g,p){if(qe.isUndefined(p)){if(!qe.isUndefined(g))return a(void 0,g)}else return a(void 0,p)}function u(g,p,b){if(b in t)return a(g,p);if(b in e)return a(void 0,g)}const h={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:u,headers:(g,p,b)=>o(zx(g),zx(p),b,!0)};return qe.forEach(Object.keys({...e,...t}),function(p){const b=h[p]||o,j=b(e[p],t[p],p);qe.isUndefined(j)&&b!==u||(s[p]=j)}),s}const L2=e=>{const t=pc({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:o,xsrfCookieName:l,headers:d,auth:u}=t;t.headers=d=Yn.from(d),t.url=S2(P2(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&d.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(qe.isFormData(s)){if(pn.hasStandardBrowserEnv||pn.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((h=d.getContentType())!==!1){const[g,...p]=h?h.split(";").map(b=>b.trim()).filter(Boolean):[];d.setContentType([g||"multipart/form-data",...p].join("; "))}}if(pn.hasStandardBrowserEnv&&(a&&qe.isFunction(a)&&(a=a(t)),a||a!==!1&&L4(t.url))){const g=o&&l&&E4.read(l);g&&d.set(o,g)}return t},I4=typeof XMLHttpRequest<"u",T4=I4&&function(e){return new Promise(function(s,a){const o=L2(e);let l=o.data;const d=Yn.from(o.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:g}=o,p,b,j,y,k;function S(){y&&y(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(p),o.signal&&o.signal.removeEventListener("abort",p)}let C=new XMLHttpRequest;C.open(o.method.toUpperCase(),o.url,!0),C.timeout=o.timeout;function L(){if(!C)return;const _=Yn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),X={data:!u||u==="text"||u==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:_,config:e,request:C};_2(function(le){s(le),S()},function(le){a(le),S()},X),C=null}"onloadend"in C?C.onloadend=L:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(L)},C.onabort=function(){C&&(a(new Wt("Request aborted",Wt.ECONNABORTED,e,C)),C=null)},C.onerror=function(){a(new Wt("Network Error",Wt.ERR_NETWORK,e,C)),C=null},C.ontimeout=function(){let F=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const X=o.transitional||k2;o.timeoutErrorMessage&&(F=o.timeoutErrorMessage),a(new Wt(F,X.clarifyTimeoutError?Wt.ETIMEDOUT:Wt.ECONNABORTED,e,C)),C=null},l===void 0&&d.setContentType(null),"setRequestHeader"in C&&qe.forEach(d.toJSON(),function(F,X){C.setRequestHeader(X,F)}),qe.isUndefined(o.withCredentials)||(C.withCredentials=!!o.withCredentials),u&&u!=="json"&&(C.responseType=o.responseType),g&&([j,k]=jf(g,!0),C.addEventListener("progress",j)),h&&C.upload&&([b,y]=jf(h),C.upload.addEventListener("progress",b),C.upload.addEventListener("loadend",y)),(o.cancelToken||o.signal)&&(p=_=>{C&&(a(!_||_.type?new Pd(null,e,C):_),C.abort(),C=null)},o.cancelToken&&o.cancelToken.subscribe(p),o.signal&&(o.signal.aborted?p():o.signal.addEventListener("abort",p)));const D=C4(o.url);if(D&&pn.protocols.indexOf(D)===-1){a(new Wt("Unsupported protocol "+D+":",Wt.ERR_BAD_REQUEST,e));return}C.send(l||null)})},R4=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let a=new AbortController,o;const l=function(g){if(!o){o=!0,u();const p=g instanceof Error?g:this.reason;a.abort(p instanceof Wt?p:new Pd(p instanceof Error?p.message:p))}};let d=t&&setTimeout(()=>{d=null,l(new Wt(`timeout ${t} of ms exceeded`,Wt.ETIMEDOUT))},t);const u=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),e=null)};e.forEach(g=>g.addEventListener("abort",l));const{signal:h}=a;return h.unsubscribe=()=>qe.asap(u),h}},O4=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let a=0,o;for(;a<s;)o=a+t,yield e.slice(a,o),a=o},M4=async function*(e,t){for await(const s of B4(e))yield*O4(s,t)},B4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:a}=await t.read();if(s)break;yield a}}finally{await t.cancel()}},qx=(e,t,s,a)=>{const o=M4(e,t);let l=0,d,u=h=>{d||(d=!0,a&&a(h))};return new ReadableStream({async pull(h){try{const{done:g,value:p}=await o.next();if(g){u(),h.close();return}let b=p.byteLength;if(s){let j=l+=b;s(j)}h.enqueue(new Uint8Array(p))}catch(g){throw u(g),g}},cancel(h){return u(h),o.return()}},{highWaterMark:2})},Wf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",E2=Wf&&typeof ReadableStream=="function",U4=Wf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),D2=(e,...t)=>{try{return!!e(...t)}catch{return!1}},z4=E2&&D2(()=>{let e=!1;const t=new Request(pn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),$x=64*1024,Zp=E2&&D2(()=>qe.isReadableStream(new Response("").body)),Sf={stream:Zp&&(e=>e.body)};Wf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Sf[t]&&(Sf[t]=qe.isFunction(e[t])?s=>s[t]():(s,a)=>{throw new Wt(`Response type '${t}' is not supported`,Wt.ERR_NOT_SUPPORT,a)})})})(new Response);const q4=async e=>{if(e==null)return 0;if(qe.isBlob(e))return e.size;if(qe.isSpecCompliantForm(e))return(await new Request(pn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(qe.isArrayBufferView(e)||qe.isArrayBuffer(e))return e.byteLength;if(qe.isURLSearchParams(e)&&(e=e+""),qe.isString(e))return(await U4(e)).byteLength},$4=async(e,t)=>{const s=qe.toFiniteNumber(e.getContentLength());return s??q4(t)},V4=Wf&&(async e=>{let{url:t,method:s,data:a,signal:o,cancelToken:l,timeout:d,onDownloadProgress:u,onUploadProgress:h,responseType:g,headers:p,withCredentials:b="same-origin",fetchOptions:j}=L2(e);g=g?(g+"").toLowerCase():"text";let y=R4([o,l&&l.toAbortSignal()],d),k;const S=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let C;try{if(h&&z4&&s!=="get"&&s!=="head"&&(C=await $4(p,a))!==0){let X=new Request(t,{method:"POST",body:a,duplex:"half"}),ue;if(qe.isFormData(a)&&(ue=X.headers.get("content-type"))&&p.setContentType(ue),X.body){const[le,ie]=Bx(C,jf(Ux(h)));a=qx(X.body,$x,le,ie)}}qe.isString(b)||(b=b?"include":"omit");const L="credentials"in Request.prototype;k=new Request(t,{...j,signal:y,method:s.toUpperCase(),headers:p.normalize().toJSON(),body:a,duplex:"half",credentials:L?b:void 0});let D=await fetch(k,j);const _=Zp&&(g==="stream"||g==="response");if(Zp&&(u||_&&S)){const X={};["status","statusText","headers"].forEach(ee=>{X[ee]=D[ee]});const ue=qe.toFiniteNumber(D.headers.get("content-length")),[le,ie]=u&&Bx(ue,jf(Ux(u),!0))||[];D=new Response(qx(D.body,$x,le,()=>{ie&&ie(),S&&S()}),X)}g=g||"text";let F=await Sf[qe.findKey(Sf,g)||"text"](D,e);return!_&&S&&S(),await new Promise((X,ue)=>{_2(X,ue,{data:F,headers:Yn.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:k})})}catch(L){throw S&&S(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Wt("Network Error",Wt.ERR_NETWORK,e,k),{cause:L.cause||L}):Wt.from(L,L&&L.code,e,k)}}),e0={http:a4,xhr:T4,fetch:V4};qe.forEach(e0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Vx=e=>`- ${e}`,H4=e=>qe.isFunction(e)||e===null||e===!1,F2={getAdapter:e=>{e=qe.isArray(e)?e:[e];const{length:t}=e;let s,a;const o={};for(let l=0;l<t;l++){s=e[l];let d;if(a=s,!H4(s)&&(a=e0[(d=String(s)).toLowerCase()],a===void 0))throw new Wt(`Unknown adapter '${d}'`);if(a)break;o[d||"#"+l]=a}if(!a){const l=Object.entries(o).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let d=t?l.length>1?`since :
`+l.map(Vx).join(`
`):" "+Vx(l[0]):"as no adapter specified";throw new Wt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return a},adapters:e0};function Xm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pd(null,e)}function Hx(e){return Xm(e),e.headers=Yn.from(e.headers),e.data=Qm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),F2.getAdapter(e.adapter||$u.adapter)(e).then(function(a){return Xm(e),a.data=Qm.call(e,e.transformResponse,a),a.headers=Yn.from(a.headers),a},function(a){return C2(a)||(Xm(e),a&&a.response&&(a.response.data=Qm.call(e,e.transformResponse,a.response),a.response.headers=Yn.from(a.response.headers))),Promise.reject(a)})}const I2="1.11.0",Gf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gf[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const Wx={};Gf.transitional=function(t,s,a){function o(l,d){return"[Axios v"+I2+"] Transitional option '"+l+"'"+d+(a?". "+a:"")}return(l,d,u)=>{if(t===!1)throw new Wt(o(d," has been removed"+(s?" in "+s:"")),Wt.ERR_DEPRECATED);return s&&!Wx[d]&&(Wx[d]=!0,console.warn(o(d," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(l,d,u):!0}};Gf.spelling=function(t){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function W4(e,t,s){if(typeof e!="object")throw new Wt("options must be an object",Wt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let o=a.length;for(;o-- >0;){const l=a[o],d=t[l];if(d){const u=e[l],h=u===void 0||d(u,l,e);if(h!==!0)throw new Wt("option "+l+" must be "+h,Wt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Wt("Unknown option "+l,Wt.ERR_BAD_OPTION)}}const Yh={assertOptions:W4,validators:Gf},Ui=Yh.validators;let lc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ox,response:new Ox}}async request(t,s){try{return await this._request(t,s)}catch(a){if(a instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=pc(this.defaults,s);const{transitional:a,paramsSerializer:o,headers:l}=s;a!==void 0&&Yh.assertOptions(a,{silentJSONParsing:Ui.transitional(Ui.boolean),forcedJSONParsing:Ui.transitional(Ui.boolean),clarifyTimeoutError:Ui.transitional(Ui.boolean)},!1),o!=null&&(qe.isFunction(o)?s.paramsSerializer={serialize:o}:Yh.assertOptions(o,{encode:Ui.function,serialize:Ui.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Yh.assertOptions(s,{baseUrl:Ui.spelling("baseURL"),withXsrfToken:Ui.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let d=l&&qe.merge(l.common,l[s.method]);l&&qe.forEach(["delete","get","head","post","put","patch","common"],k=>{delete l[k]}),s.headers=Yn.concat(d,l);const u=[];let h=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(s)===!1||(h=h&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const g=[];this.interceptors.response.forEach(function(S){g.push(S.fulfilled,S.rejected)});let p,b=0,j;if(!h){const k=[Hx.bind(this),void 0];for(k.unshift(...u),k.push(...g),j=k.length,p=Promise.resolve(s);b<j;)p=p.then(k[b++],k[b++]);return p}j=u.length;let y=s;for(b=0;b<j;){const k=u[b++],S=u[b++];try{y=k(y)}catch(C){S.call(this,C);break}}try{p=Hx.call(this,y)}catch(k){return Promise.reject(k)}for(b=0,j=g.length;b<j;)p=p.then(g[b++],g[b++]);return p}getUri(t){t=pc(this.defaults,t);const s=P2(t.baseURL,t.url,t.allowAbsoluteUrls);return S2(s,t.params,t.paramsSerializer)}};qe.forEach(["delete","get","head","options"],function(t){lc.prototype[t]=function(s,a){return this.request(pc(a||{},{method:t,url:s,data:(a||{}).data}))}});qe.forEach(["post","put","patch"],function(t){function s(a){return function(l,d,u){return this.request(pc(u||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:d}))}}lc.prototype[t]=s(),lc.prototype[t+"Form"]=s(!0)});let G4=class T2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const a=this;this.promise.then(o=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](o);a._listeners=null}),this.promise.then=o=>{let l;const d=new Promise(u=>{a.subscribe(u),l=u}).then(o);return d.cancel=function(){a.unsubscribe(l)},d},t(function(l,d,u){a.reason||(a.reason=new Pd(l,d,u),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=a=>{t.abort(a)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new T2(function(o){t=o}),cancel:t}}};function K4(e){return function(s){return e.apply(null,s)}}function Y4(e){return qe.isObject(e)&&e.isAxiosError===!0}const t0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(t0).forEach(([e,t])=>{t0[t]=e});function R2(e){const t=new lc(e),s=h2(lc.prototype.request,t);return qe.extend(s,lc.prototype,t,{allOwnKeys:!0}),qe.extend(s,t,null,{allOwnKeys:!0}),s.create=function(o){return R2(pc(e,o))},s}const kr=R2($u);kr.Axios=lc;kr.CanceledError=Pd;kr.CancelToken=G4;kr.isCancel=C2;kr.VERSION=I2;kr.toFormData=Hf;kr.AxiosError=Wt;kr.Cancel=kr.CanceledError;kr.all=function(t){return Promise.all(t)};kr.spread=K4;kr.isAxiosError=Y4;kr.mergeConfig=pc;kr.AxiosHeaders=Yn;kr.formToJSON=e=>A2(qe.isHTMLForm(e)?new FormData(e):e);kr.getAdapter=F2.getAdapter;kr.HttpStatusCode=t0;kr.default=kr;const{Axios:dA,AxiosError:uA,CanceledError:hA,isCancel:fA,CancelToken:mA,VERSION:pA,all:gA,Cancel:xA,isAxiosError:yA,spread:vA,toFormData:bA,AxiosHeaders:wA,HttpStatusCode:NA,formToJSON:jA,getAdapter:SA,mergeConfig:kA}=kr,J4="http://localhost:5000";class Q4{client;constructor(){this.client=kr.create({baseURL:J4,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,t=>{const{response:s}=t;if(!s)return console.error("Network error. Please check your connection."),Promise.reject(t);switch(s.status){case 401:localStorage.removeItem("token"),window.location.href="/auth/login",console.error("Session expired. Please login again.");break;case 403:console.error("You do not have permission to perform this action.");break;case 404:console.error("Resource not found.");break;case 422:if(s.data?.errors){const a=s.data.errors;console.error("Validation errors:",a)}else console.error(s.data?.message||"Validation error.");break;case 429:console.error("Too many requests. Please try again later.");break;case 500:console.error("Server error. Please try again later.");break;default:console.error(s.data?.message||"An unexpected error occurred.")}return Promise.reject(t)})}async get(t,s){return(await this.client.get(t,s)).data}async post(t,s,a){return(await this.client.post(t,s,a)).data}async put(t,s,a){return(await this.client.put(t,s,a)).data}async patch(t,s,a){return(await this.client.patch(t,s,a)).data}async delete(t,s){return(await this.client.delete(t,s)).data}async uploadFile(t,s,a){const o=new FormData;o.append("file",s);const l={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:u=>{if(a&&u.total){const h=Math.round(u.loaded*100/u.total);a(h)}}};return(await this.client.post(t,o,l)).data}async downloadFile(t,s){const a=await this.client.get(t,{responseType:"blob"}),o=new Blob([a.data]),l=window.URL.createObjectURL(o),d=document.createElement("a");d.href=l,d.download=s||"download",document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(l)}}const Vt=new Q4,Vu={async sendLoginOTP(e){return Vt.post("/auth/send-login-otp",{email:e})},async verifyLoginOTP(e){return Vt.post("/auth/verify-login-otp",e)},async sendSignupOTP(e){return Vt.post("/auth/send-signup-otp",e)},async verifySignupOTP(e){return Vt.post("/auth/verify-signup-otp",e)},async getCurrentUser(){return Vt.get("/auth/me")},async forgotPassword(e){return Vt.post("/auth/forgot-password",e)},async resetPassword(e){return Vt.post("/auth/reset-password",e)},async logout(){return Vt.post("/auth/logout")}},Jh=e=>{switch(e.toLowerCase()){case"admin":return"admin";case"owner":return"owner";case"accountant":return"accountant";case"user":default:return"user"}},D0=(e,t)=>e?t.includes(e):!1,Gx=e=>D0(e,["owner"]),Kx=e=>D0(e,["accountant"]),O2=e=>D0(e,["admin","owner"]),ad=e=>O2(e),X4=e=>O2(e),Z4={user:localStorage.getItem("user")?(()=>{const e=JSON.parse(localStorage.getItem("user"));return{...e,role:Jh(e.role)}})():null,token:localStorage.getItem("token"),isAuthenticated:!!localStorage.getItem("token"),isLoading:!1,error:null},gu=Pr("auth/sendLoginOTP",async(e,{rejectWithValue:t})=>{try{return await Vu.sendLoginOTP(e)}catch(s){return t(s.response?.data?.message||"Failed to send OTP")}}),Qh=Pr("auth/verifyLoginOTP",async(e,{rejectWithValue:t})=>{try{const s=await Vu.verifyLoginOTP(e);return localStorage.setItem("token",s.accessToken),{...s,token:s.accessToken}}catch(s){return t(s.response?.data?.message||"Invalid OTP")}}),xu=Pr("auth/sendSignupOTP",async(e,{rejectWithValue:t})=>{try{return await Vu.sendSignupOTP(e)}catch(s){return t(s.response?.data?.message||"Failed to send OTP")}}),Xh=Pr("auth/verifySignupOTP",async(e,{rejectWithValue:t})=>{try{const s=await Vu.verifySignupOTP(e);return localStorage.setItem("token",s.accessToken),{...s,token:s.accessToken}}catch(s){return t(s.response?.data?.message||"Invalid OTP")}}),md=Pr("auth/getCurrentUser",async(e,{rejectWithValue:t})=>{try{return await Vu.getCurrentUser()}catch(s){return localStorage.removeItem("token"),t(s.response?.data?.message||"Failed to get user")}}),F0=Pr("auth/logout",async()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),null)),M2=Ro({name:"auth",initialState:Z4,reducers:{clearError:e=>{e.error=null},setToken:(e,t)=>{e.token=t.payload,e.isAuthenticated=!0,localStorage.setItem("token",t.payload)}},extraReducers:e=>{e.addCase(gu.pending,t=>{t.isLoading=!0,t.error=null}).addCase(gu.fulfilled,t=>{t.isLoading=!1,t.error=null}).addCase(gu.rejected,(t,s)=>{t.isLoading=!1,t.error=s.payload}).addCase(Qh.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Qh.fulfilled,(t,s)=>{t.isLoading=!1,t.isAuthenticated=!0;const a={...s.payload.user,role:Jh(s.payload.user.role)};t.user=a,t.token=s.payload.token,t.error=null,localStorage.setItem("user",JSON.stringify(a))}).addCase(Qh.rejected,(t,s)=>{t.isLoading=!1,t.isAuthenticated=!1,t.user=null,t.token=null,t.error=s.payload}).addCase(xu.pending,t=>{t.isLoading=!0,t.error=null}).addCase(xu.fulfilled,t=>{t.isLoading=!1,t.error=null}).addCase(xu.rejected,(t,s)=>{t.isLoading=!1,t.error=s.payload}).addCase(Xh.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Xh.fulfilled,(t,s)=>{t.isLoading=!1,t.isAuthenticated=!0;const a={...s.payload.user,role:Jh(s.payload.user.role)};t.user=a,t.token=s.payload.token,t.error=null,localStorage.setItem("user",JSON.stringify(a))}).addCase(Xh.rejected,(t,s)=>{t.isLoading=!1,t.isAuthenticated=!1,t.user=null,t.token=null,t.error=s.payload}).addCase(md.pending,t=>{t.isLoading=!0}).addCase(md.fulfilled,(t,s)=>{t.isLoading=!1;const a={...s.payload,role:Jh(s.payload.role)};t.user=a,t.isAuthenticated=!0}).addCase(md.rejected,t=>{t.isLoading=!1,t.isAuthenticated=!1,t.user=null,t.token=null}).addCase(F0.fulfilled,t=>{t.user=null,t.token=null,t.isAuthenticated=!1,t.isLoading=!1,t.error=null})}}),{clearError:e3,setToken:AA}=M2.actions,t3=M2.reducer,B2=q.createContext(void 0),r3={en:{"dashboard.title":"Dashboard","dashboard.welcome":"Welcome to Owner Portal","dashboard.overview":"Overview","dashboard.properties":"Properties","dashboard.bookings":"Bookings","dashboard.revenue":"Revenue","dashboard.occupancy":"Occupancy Rate","dashboard.averageRate":"Average Rate","dashboard.totalRevenue":"Total Revenue","dashboard.totalBookings":"Total Bookings","dashboard.activeProperties":"Active Properties","dashboard.pendingReviews":"Pending Reviews","dashboard.description":"Here's what's happening with your properties today. Manage your portfolio with ease and maximize your rental income.","dashboard.recentBookings":"Recent Bookings","dashboard.latestReservations":"Latest reservations across your properties","dashboard.quickActions":"Quick Actions","dashboard.manageEfficiently":"Manage your properties efficiently","dashboard.yourProperties":"Your Properties","dashboard.managePortfolio":"Manage and monitor your property portfolio","dashboard.viewCalendar":"View Calendar","dashboard.manageBookings":"Manage Bookings","dashboard.viewInvoices":"View Invoices","dashboard.getSAFT":"Get SAFT","dashboard.noBookings":"No recent bookings found","dashboard.bookingsWillAppear":"Bookings will appear here once you have reservations","dashboard.activePropertiesCount":"Active Properties","greeting.morning":"Good morning","greeting.afternoon":"Good afternoon","greeting.evening":"Good evening","property.name":"Property Name","property.address":"Address","property.type":"Type","property.status":"Status","property.guests":"Max Guests","property.bedrooms":"Bedrooms","property.bathrooms":"Bathrooms","property.amenities":"Amenities","property.actions":"Actions","property.edit":"Edit","property.delete":"Delete","property.view":"View","nav.dashboard":"Dashboard","nav.properties":"Properties","nav.bookings":"Bookings","nav.invoices":"Invoices","nav.calendar":"Calendar","nav.reviews":"Reviews","nav.performance":"Performance","nav.portfolio":"Portfolio","nav.creditNotes":"Credit Notes","nav.expenses":"Expenses","nav.ownerStatements":"Owner Statements","nav.settings":"Settings","nav.profile":"Profile","nav.signOut":"Sign Out","common.loading":"Loading...","common.error":"Error","common.success":"Success","common.save":"Save","common.cancel":"Cancel","common.edit":"Edit","common.delete":"Delete","common.view":"View","common.close":"Close","common.yes":"Yes","common.no":"No","common.confirm":"Confirm","common.search":"Search","common.filter":"Filter","common.sort":"Sort","common.refresh":"Refresh","language.english":"English","language.portuguese":"Portugus","language.switch":"Switch Language","status.active":"Active","status.inactive":"Inactive","status.pending":"Pending","status.completed":"Completed","status.cancelled":"Cancelled","calendar.month":"Month","calendar.week":"Week","calendar.day":"Day","calendar.today":"Today","calendar.booked":"Booked","calendar.available":"Available","calendar.blocked":"Blocked","calendar.price":"Price","calendar.minStay":"Min Stay","notification.newBooking":"New Booking","notification.paymentReceived":"Payment Received","notification.reviewReceived":"New Review","notification.maintenanceRequest":"Maintenance Request"},pt:{"dashboard.title":"Painel de Controle","dashboard.welcome":"Bem-vindo ao Portal do Proprietrio","dashboard.overview":"Viso Geral","dashboard.properties":"Propriedades","dashboard.bookings":"Reservas","dashboard.revenue":"Receita","dashboard.occupancy":"Taxa de Ocupao","dashboard.averageRate":"Taxa Mdia","dashboard.totalRevenue":"Receita Total","dashboard.totalBookings":"Total de Reservas","dashboard.activeProperties":"Propriedades Ativas","dashboard.pendingReviews":"Avaliaes Pendentes","dashboard.description":"Aqui est o que est acontecendo com suas propriedades hoje. Gerencie seu portflio com facilidade e maximize sua receita de aluguel.","dashboard.recentBookings":"Reservas Recentes","dashboard.latestReservations":"ltimas reservas em suas propriedades","dashboard.quickActions":"Aes Rpidas","dashboard.manageEfficiently":"Gerencie suas propriedades com eficincia","dashboard.yourProperties":"Suas Propriedades","dashboard.managePortfolio":"Gerencie e monitore seu portflio de propriedades","dashboard.viewCalendar":"Ver Calendrio","dashboard.manageBookings":"Gerenciar Reservas","dashboard.viewInvoices":"Ver Faturas","dashboard.getSAFT":"Obter SAFT","dashboard.noBookings":"Nenhuma reserva recente encontrada","dashboard.bookingsWillAppear":"As reservas aparecero aqui assim que voc tiver reservas","dashboard.activePropertiesCount":"Propriedades Ativas","greeting.morning":"Bom dia","greeting.afternoon":"Boa tarde","greeting.evening":"Boa noite","property.name":"Nome da Propriedade","property.address":"Endereo","property.type":"Tipo","property.status":"Status","property.guests":"Hspedes Mx","property.bedrooms":"Quartos","property.bathrooms":"Banheiros","property.amenities":"Comodidades","property.actions":"Aes","property.edit":"Editar","property.delete":"Excluir","property.view":"Visualizar","nav.dashboard":"Painel","nav.properties":"Propriedades","nav.bookings":"Reservas","nav.invoices":"Faturas","nav.calendar":"Calendrio","nav.reviews":"Avaliaes","nav.performance":"Desempenho","nav.portfolio":"Portflio","nav.creditNotes":"Notas de Crdito","nav.expenses":"Despesas","nav.ownerStatements":"Extratos do Proprietrio","nav.settings":"Configuraes","nav.profile":"Perfil","nav.signOut":"Sair","common.loading":"Carregando...","common.error":"Erro","common.success":"Sucesso","common.save":"Salvar","common.cancel":"Cancelar","common.edit":"Editar","common.delete":"Excluir","common.view":"Visualizar","common.close":"Fechar","common.yes":"Sim","common.no":"No","common.confirm":"Confirmar","common.search":"Pesquisar","common.filter":"Filtrar","common.sort":"Ordenar","common.refresh":"Atualizar","language.english":"English","language.portuguese":"Portugus","language.switch":"Alterar Idioma","status.active":"Ativo","status.inactive":"Inativo","status.pending":"Pendente","status.completed":"Concludo","status.cancelled":"Cancelado","calendar.month":"Ms","calendar.week":"Semana","calendar.day":"Dia","calendar.today":"Hoje","calendar.booked":"Reservado","calendar.available":"Disponvel","calendar.blocked":"Bloqueado","calendar.price":"Preo","calendar.minStay":"Estadia Mn","notification.newBooking":"Nova Reserva","notification.paymentReceived":"Pagamento Recebido","notification.reviewReceived":"Nova Avaliao","notification.maintenanceRequest":"Solicitao de Manuteno"}},s3=({children:e})=>{const[t,s]=q.useState(()=>{const l=localStorage.getItem("language");return l&&["en","pt"].includes(l)?l:"en"});q.useEffect(()=>{localStorage.setItem("language",t)},[t]);const o={language:t,setLanguage:s,t:l=>r3[t][l]||l};return r.jsx(B2.Provider,{value:o,children:e})},I0=()=>{const e=q.useContext(B2);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U2=(...e)=>e.filter((t,s,a)=>!!t&&a.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=q.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:d,...u},h)=>q.createElement("svg",{ref:h,...a3,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:U2("lucide",o),...u},[...d.map(([g,p])=>q.createElement(g,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,t)=>{const s=q.forwardRef(({className:a,...o},l)=>q.createElement(i3,{ref:l,iconNode:t,className:U2(`lucide-${n3(e)}`,a),...o}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=ct("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=ct("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=ct("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=ct("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=ct("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=ct("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=ct("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ct("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=ct("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ct("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ct("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=ct("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=ct("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ct("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ct("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=ct("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=ct("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=ct("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=ct("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=ct("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=ct("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=ct("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ct("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=ct("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ct("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=ct("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=ct("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=ct("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ct("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=ct("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=ct("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=ct("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=ct("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=ct("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ct("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=ct("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=ct("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=ct("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ct("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=ct("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=ct("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=ct("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ct("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ct("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=ct("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ct("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=ct("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=ct("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=ct("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ct("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ct("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=ct("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=ct("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=ct("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=ct("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),j3=({isOpen:e,onClose:t})=>{const s=bc(),a=Ls(),{user:o}=Ot(p=>p.auth),{t:l}=I0(),d=[{name:l("nav.dashboard"),href:o?.role==="admin"?"/admin/dashboard":"/dashboard/owner",icon:g3},{name:"Admin Panel",href:"/admin/dashboard",icon:h3,roles:["admin"]},{name:"Owner Management",href:"/admin/owners",icon:gi,roles:["admin"]},{name:l("nav.bookings"),href:"/bookings",icon:q2,badge:"3",badgeColor:"info"},{name:l("nav.invoices"),href:"/invoices",icon:Ki},{name:"SIBA Manager",href:"/siba-manager",icon:Ma,badge:"New",badgeColor:"info"},{name:"SAFT",href:"/saft",icon:n0},{name:l("nav.properties"),href:"/property-management",icon:Jn},{name:l("nav.calendar"),href:"/calendar",icon:Ns},{name:l("nav.ownerStatements"),href:"/owner-statements",icon:Ki},{name:l("nav.reviews"),href:"/reviews",icon:tf,roles:["owner"]},{name:l("nav.settings"),href:"/settings",icon:Sd}];q.useEffect(()=>{t()},[s.pathname,t]);const u=()=>{a(F0())},h=d.filter(p=>!p.roles||o&&p.roles.includes(o.role)),g=p=>p==="/dashboard"?s.pathname==="/"||s.pathname.startsWith("/dashboard"):s.pathname===p||s.pathname.startsWith(p);return r.jsxs(r.Fragment,{children:[e&&r.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",children:r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:t})}),r.jsx("nav",{className:`w-64 bg-white shadow-sm min-h-screen ${e?"fixed inset-y-0 left-0 z-50 translate-x-0":"hidden lg:block"}`,children:r.jsxs("div",{className:"p-4 space-y-2",children:[r.jsx("div",{className:"space-y-2",children:h.map(p=>{const b=p.icon,j=g(p.href);return r.jsxs(hc,{to:p.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${j?"bg-[#5FFF56] bg-opacity-20 text-gray-900 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsx(b,{className:"w-5 h-5"}),r.jsx("span",{children:p.name}),p.badge&&r.jsx("span",{className:"ml-auto inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:p.badge})]},p.name)})}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsxs("button",{onClick:u,className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[r.jsx(H2,{className:"mr-3 h-5 w-5 text-gray-500"}),"Sign out"]})})]})})]})},S3={notifications:[{id:"1",title:"New Booking",message:"New booking for Piece of Heaven from John Doe",type:"success",timestamp:new Date().toISOString(),read:!1,actionUrl:"/bookings",actionLabel:"View Details"},{id:"2",title:"SIBA Reminder",message:"SIBA submission required for Lote 8 4-B",type:"warning",timestamp:new Date(Date.now()-36e5).toISOString(),read:!1,actionUrl:"/siba",actionLabel:"Submit Now"}],unreadCount:2},W2=Ro({name:"notifications",initialState:S3,reducers:{addNotification:(e,t)=>{const s={...t.payload,id:Date.now().toString(),timestamp:new Date().toISOString()};e.notifications.unshift(s),s.read||(e.unreadCount+=1)},markAsRead:(e,t)=>{const s=e.notifications.find(a=>a.id===t.payload);s&&!s.read&&(s.read=!0,e.unreadCount=Math.max(0,e.unreadCount-1))},markAllAsRead:e=>{e.notifications.forEach(t=>{t.read=!0}),e.unreadCount=0},removeNotification:(e,t)=>{const s=e.notifications.findIndex(a=>a.id===t.payload);s!==-1&&(e.notifications[s].read||(e.unreadCount=Math.max(0,e.unreadCount-1)),e.notifications.splice(s,1))}}}),{addNotification:CA,markAsRead:k3,markAllAsRead:A3,removeNotification:_A}=W2.actions,C3=W2.reducer,_3="/assets/Real-logo-D3Cla3EV.jpg",G2=({className:e="",size:t="md"})=>{const s={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12"};return r.jsx("img",{src:_3,alt:"Logo",className:`${s[t]} ${e}`})},P3=({className:e="",showLabel:t=!0})=>{const{language:s,setLanguage:a,t:o}=I0(),[l,d]=q.useState(!1),u=[{code:"en",name:"English",flag:""},{code:"pt",name:"Portugus",flag:""}],h=u.find(p=>p.code===s),g=p=>{a(p),d(!1)};return r.jsxs("div",{className:`relative ${e}`,children:[r.jsxs("button",{onClick:()=>d(!l),className:"flex items-center space-x-2 px-3 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:o("language.switch"),children:[r.jsx(p3,{className:"h-5 w-5"}),t&&r.jsxs("span",{className:"text-sm font-medium",children:[h?.flag," ",h?.name]})]}),l&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>d(!1)}),r.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 z-20",children:r.jsx("div",{className:"py-2",children:u.map(p=>r.jsxs("button",{onClick:()=>g(p.code),className:`flex items-center justify-between w-full px-4 py-2 text-sm hover:bg-gray-50 ${s===p.code?"bg-green-50 text-green-800":"text-gray-700"}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"text-lg",children:p.flag}),r.jsx("span",{className:"font-medium",children:p.name})]}),s===p.code&&r.jsx(Lo,{className:"h-4 w-4 text-green-600"})]},p.code))})})]})]})},L3=({onMenuClick:e})=>{const[t,s]=q.useState(!1),[a,o]=q.useState(!1),l=Ls(),d=yi(),{user:u}=Ot(S=>S.auth),{notifications:h,unreadCount:g}=Ot(S=>S.notifications),p=()=>{l(F0())},b=S=>{l(k3(S))},j=()=>{l(A3())},y=()=>{o(!1),d("/profile")},k=()=>{o(!1),d("/settings")};return r.jsx("header",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-md text-gray-600 hover:text-gray-800 hover:bg-gray-100 mr-2",children:r.jsx(y3,{className:"h-6 w-6"})}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-white rounded-lg mr-3 border border-gray-200 shadow-sm",children:r.jsx(G2,{size:"md"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-lg font-bold text-gray-900",children:[r.jsx("span",{className:"text-gray-900",children:"Owner"}),r.jsx("span",{className:"text-[#5FFF56]",children:"Portal"})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"Property Management"})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(P3,{showLabel:!1}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>s(!t),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(z2,{className:"h-6 w-6"}),g>0&&r.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:g>9?"9+":g})]}),t&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50",children:[r.jsx("div",{className:"p-4 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),g>0&&r.jsx("button",{onClick:j,className:"text-sm text-[#5FFF56] hover:text-[#4FEF46]",children:"Mark all read"})]})}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:h.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):h.slice(0,5).map(S=>r.jsx("div",{onClick:()=>b(S.id),className:`p-4 border-b border-gray-50 cursor-pointer hover:bg-gray-50 ${S.read?"":"bg-green-50"}`,children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.title}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:S.message}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:S.timestamp})]}),!S.read&&r.jsx("div",{className:"w-2 h-2 bg-[#5FFF56] rounded-full ml-2 mt-1"})]})},S.id))})]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>o(!a),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-[#5FFF56] rounded-full",children:r.jsx("span",{className:"text-sm font-bold text-white",children:(u?.firstName||u?.name||u?.username||u?.email||"U").charAt(0).toUpperCase()})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-base font-bold text-gray-900",children:u?.firstName||u?.name||u?.username||"John"}),r.jsx("p",{className:"text-sm text-[#5FFF56] font-semibold capitalize",children:u?.role?.toLowerCase()||"Owner"})]}),r.jsx(T0,{className:"h-4 w-4 text-gray-500"})]}),a&&r.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 z-50",children:r.jsxs("div",{className:"p-2",children:[r.jsxs("div",{className:"px-3 py-2 border-b border-gray-100 mb-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:u?.firstName||u?.name||u?.username||"User"}),r.jsx("p",{className:"text-xs text-gray-500",children:u?.email})]}),r.jsxs("button",{onClick:y,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg",children:[r.jsx(pi,{className:"h-4 w-4 mr-3"}),"Profile"]}),r.jsxs("button",{onClick:k,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg",children:[r.jsx(Sd,{className:"h-4 w-4 mr-3"}),"Settings"]}),r.jsx("hr",{className:"my-2"}),r.jsxs("button",{onClick:p,className:"flex items-center w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg",children:[r.jsx(H2,{className:"h-4 w-4 mr-3"}),"Sign out"]})]})})]})]})]})})})},E3=()=>{const[e,t]=q.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx(L3,{onMenuClick:()=>t(!0)}),r.jsxs("div",{className:"flex",children:[r.jsx(j3,{isOpen:e,onClose:()=>t(!1)}),r.jsx("main",{className:"flex-1 p-8 bg-white",children:r.jsx(Gy,{})})]})]})},D3=()=>{const e=yi(),{isAuthenticated:t}=Ot(s=>s.auth);return q.useEffect(()=>{t&&e("/dashboard")},[t,e]),r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx(Gy,{})})};var Hu=e=>e.type==="checkbox",oc=e=>e instanceof Date,Cn=e=>e==null;const K2=e=>typeof e=="object";var ms=e=>!Cn(e)&&!Array.isArray(e)&&K2(e)&&!oc(e),F3=e=>ms(e)&&e.target?Hu(e.target)?e.target.checked:e.target.value:e,I3=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,T3=(e,t)=>e.has(I3(t)),R3=e=>{const t=e.constructor&&e.constructor.prototype;return ms(t)&&t.hasOwnProperty("isPrototypeOf")},M0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Us(e){let t;const s=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(M0&&(e instanceof Blob||a))&&(s||ms(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!R3(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=Us(e[o]));else return e;return t}var Yf=e=>/^\w*$/.test(e),ws=e=>e===void 0,B0=e=>Array.isArray(e)?e.filter(Boolean):[],U0=e=>B0(e.replace(/["|']|\]/g,"").split(/\.|\[/)),wt=(e,t,s)=>{if(!t||!ms(e))return s;const a=(Yf(t)?[t]:U0(t)).reduce((o,l)=>Cn(o)?o:o[l],e);return ws(a)||a===e?ws(e[t])?s:e[t]:a},$i=e=>typeof e=="boolean",Br=(e,t,s)=>{let a=-1;const o=Yf(t)?[t]:U0(t),l=o.length,d=l-1;for(;++a<l;){const u=o[a];let h=s;if(a!==d){const g=e[u];h=ms(g)||Array.isArray(g)?g:isNaN(+o[a+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=h,e=e[u]}};const Qx={BLUR:"blur",FOCUS_OUT:"focusout"},ui={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ao={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},O3=An.createContext(null);O3.displayName="HookFormContext";var M3=(e,t,s,a=!0)=>{const o={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const d=l;return t._proxyFormState[d]!==ui.all&&(t._proxyFormState[d]=!a||ui.all),e[d]}});return o};const B3=typeof window<"u"?An.useLayoutEffect:An.useEffect;var Hi=e=>typeof e=="string",U3=(e,t,s,a,o)=>Hi(e)?(a&&t.watch.add(e),wt(s,e,o)):Array.isArray(e)?e.map(l=>(a&&t.watch.add(l),wt(s,l))):(a&&(t.watchAll=!0),s),a0=e=>Cn(e)||!K2(e);function vl(e,t,s=new WeakSet){if(a0(e)||a0(t))return e===t;if(oc(e)&&oc(t))return e.getTime()===t.getTime();const a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const l of a){const d=e[l];if(!o.includes(l))return!1;if(l!=="ref"){const u=t[l];if(oc(d)&&oc(u)||ms(d)&&ms(u)||Array.isArray(d)&&Array.isArray(u)?!vl(d,u,s):d!==u)return!1}}return!0}var z3=(e,t,s,a,o)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[a]:o||!0}}:{},wu=e=>Array.isArray(e)?e:[e],Xx=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}},Wn=e=>ms(e)&&!Object.keys(e).length,z0=e=>e.type==="file",hi=e=>typeof e=="function",kf=e=>{if(!M0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Y2=e=>e.type==="select-multiple",q0=e=>e.type==="radio",q3=e=>q0(e)||Hu(e),ip=e=>kf(e)&&e.isConnected;function $3(e,t){const s=t.slice(0,-1).length;let a=0;for(;a<s;)e=ws(e)?a++:e[t[a++]];return e}function V3(e){for(const t in e)if(e.hasOwnProperty(t)&&!ws(e[t]))return!1;return!0}function bs(e,t){const s=Array.isArray(t)?t:Yf(t)?[t]:U0(t),a=s.length===1?e:$3(e,s),o=s.length-1,l=s[o];return a&&delete a[l],o!==0&&(ms(a)&&Wn(a)||Array.isArray(a)&&V3(a))&&bs(e,s.slice(0,-1)),e}var J2=e=>{for(const t in e)if(hi(e[t]))return!0;return!1};function Af(e,t={}){const s=Array.isArray(e);if(ms(e)||s)for(const a in e)Array.isArray(e[a])||ms(e[a])&&!J2(e[a])?(t[a]=Array.isArray(e[a])?[]:{},Af(e[a],t[a])):Cn(e[a])||(t[a]=!0);return t}function Q2(e,t,s){const a=Array.isArray(e);if(ms(e)||a)for(const o in e)Array.isArray(e[o])||ms(e[o])&&!J2(e[o])?ws(t)||a0(s[o])?s[o]=Array.isArray(e[o])?Af(e[o],[]):{...Af(e[o])}:Q2(e[o],Cn(t)?{}:t[o],s[o]):s[o]=!vl(e[o],t[o]);return s}var du=(e,t)=>Q2(e,t,Af(t));const Zx={value:!1,isValid:!1},e1={value:!0,isValid:!0};var X2=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ws(e[0].attributes.value)?ws(e[0].value)||e[0].value===""?e1:{value:e[0].value,isValid:!0}:e1:Zx}return Zx},Z2=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:a})=>ws(e)?e:t?e===""?NaN:e&&+e:s&&Hi(e)?new Date(e):a?a(e):e;const t1={isValid:!1,value:null};var ev=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,t1):t1;function r1(e){const t=e.ref;return z0(t)?t.files:q0(t)?ev(e.refs).value:Y2(t)?[...t.selectedOptions].map(({value:s})=>s):Hu(t)?X2(e.refs).value:Z2(ws(t.value)?e.ref.value:t.value,e)}var H3=(e,t,s,a)=>{const o={};for(const l of e){const d=wt(t,l);d&&Br(o,l,d._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:a}},Cf=e=>e instanceof RegExp,uu=e=>ws(e)?e:Cf(e)?e.source:ms(e)?Cf(e.value)?e.value.source:e.value:e,s1=e=>({isOnSubmit:!e||e===ui.onSubmit,isOnBlur:e===ui.onBlur,isOnChange:e===ui.onChange,isOnAll:e===ui.all,isOnTouch:e===ui.onTouched});const n1="AsyncFunction";var W3=e=>!!e&&!!e.validate&&!!(hi(e.validate)&&e.validate.constructor.name===n1||ms(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===n1)),G3=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),a1=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Nu=(e,t,s,a)=>{for(const o of s||Object.keys(e)){const l=wt(e,o);if(l){const{_f:d,...u}=l;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!a)return!0;if(d.ref&&t(d.ref,d.name)&&!a)return!0;if(Nu(u,t))break}else if(ms(u)&&Nu(u,t))break}}};function i1(e,t,s){const a=wt(e,s);if(a||Yf(s))return{error:a,name:s};const o=s.split(".");for(;o.length;){const l=o.join("."),d=wt(t,l),u=wt(e,l);if(d&&!Array.isArray(d)&&s!==l)return{name:s};if(u&&u.type)return{name:l,error:u};if(u&&u.root&&u.root.type)return{name:`${l}.root`,error:u.root};o.pop()}return{name:s}}var K3=(e,t,s,a)=>{s(e);const{name:o,...l}=e;return Wn(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(d=>t[d]===(!a||ui.all))},Y3=(e,t,s)=>!e||!t||e===t||wu(e).some(a=>a&&(s?a===t:a.startsWith(t)||t.startsWith(a))),J3=(e,t,s,a,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(t||e):(s?a.isOnBlur:o.isOnBlur)?!e:(s?a.isOnChange:o.isOnChange)?e:!0,Q3=(e,t)=>!B0(wt(e,t)).length&&bs(e,t),X3=(e,t,s)=>{const a=wu(wt(e,s));return Br(a,"root",t[s]),Br(e,s,a),e},rf=e=>Hi(e);function o1(e,t,s="validate"){if(rf(e)||Array.isArray(e)&&e.every(rf)||$i(e)&&!e)return{type:s,message:rf(e)?e:"",ref:t}}var id=e=>ms(e)&&!Cf(e)?e:{value:e,message:""},l1=async(e,t,s,a,o,l)=>{const{ref:d,refs:u,required:h,maxLength:g,minLength:p,min:b,max:j,pattern:y,validate:k,name:S,valueAsNumber:C,mount:L}=e._f,D=wt(s,S);if(!L||t.has(S))return{};const _=u?u[0]:d,F=B=>{o&&_.reportValidity&&(_.setCustomValidity($i(B)?"":B||""),_.reportValidity())},X={},ue=q0(d),le=Hu(d),ie=ue||le,ee=(C||z0(d))&&ws(d.value)&&ws(D)||kf(d)&&d.value===""||D===""||Array.isArray(D)&&!D.length,me=z3.bind(null,S,a,X),O=(B,te,re,H=Ao.maxLength,K=Ao.minLength)=>{const V=B?te:re;X[S]={type:B?H:K,message:V,ref:d,...me(B?H:K,V)}};if(l?!Array.isArray(D)||!D.length:h&&(!ie&&(ee||Cn(D))||$i(D)&&!D||le&&!X2(u).isValid||ue&&!ev(u).isValid)){const{value:B,message:te}=rf(h)?{value:!!h,message:h}:id(h);if(B&&(X[S]={type:Ao.required,message:te,ref:_,...me(Ao.required,te)},!a))return F(te),X}if(!ee&&(!Cn(b)||!Cn(j))){let B,te;const re=id(j),H=id(b);if(!Cn(D)&&!isNaN(D)){const K=d.valueAsNumber||D&&+D;Cn(re.value)||(B=K>re.value),Cn(H.value)||(te=K<H.value)}else{const K=d.valueAsDate||new Date(D),V=we=>new Date(new Date().toDateString()+" "+we),Z=d.type=="time",pe=d.type=="week";Hi(re.value)&&D&&(B=Z?V(D)>V(re.value):pe?D>re.value:K>new Date(re.value)),Hi(H.value)&&D&&(te=Z?V(D)<V(H.value):pe?D<H.value:K<new Date(H.value))}if((B||te)&&(O(!!B,re.message,H.message,Ao.max,Ao.min),!a))return F(X[S].message),X}if((g||p)&&!ee&&(Hi(D)||l&&Array.isArray(D))){const B=id(g),te=id(p),re=!Cn(B.value)&&D.length>+B.value,H=!Cn(te.value)&&D.length<+te.value;if((re||H)&&(O(re,B.message,te.message),!a))return F(X[S].message),X}if(y&&!ee&&Hi(D)){const{value:B,message:te}=id(y);if(Cf(B)&&!D.match(B)&&(X[S]={type:Ao.pattern,message:te,ref:d,...me(Ao.pattern,te)},!a))return F(te),X}if(k){if(hi(k)){const B=await k(D,s),te=o1(B,_);if(te&&(X[S]={...te,...me(Ao.validate,te.message)},!a))return F(te.message),X}else if(ms(k)){let B={};for(const te in k){if(!Wn(B)&&!a)break;const re=o1(await k[te](D,s),_,te);re&&(B={...re,...me(te,re.message)},F(re.message),a&&(X[S]=B))}if(!Wn(B)&&(X[S]={ref:_,...B},!a))return X}}return F(!0),X};const Z3={mode:ui.onSubmit,reValidateMode:ui.onChange,shouldFocusError:!0};function e6(e={}){let t={...Z3,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:hi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},o=ms(t.defaultValues)||ms(t.values)?Us(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:Us(o),d={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,g=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...p};const j={array:Xx(),state:Xx()},y=t.criteriaMode===ui.all,k=Q=>de=>{clearTimeout(g),g=setTimeout(Q,de)},S=async Q=>{if(!t.disabled&&(p.isValid||b.isValid||Q)){const de=t.resolver?Wn((await le()).errors):await ee(a,!0);de!==s.isValid&&j.state.next({isValid:de})}},C=(Q,de)=>{!t.disabled&&(p.isValidating||p.validatingFields||b.isValidating||b.validatingFields)&&((Q||Array.from(u.mount)).forEach(Ne=>{Ne&&(de?Br(s.validatingFields,Ne,de):bs(s.validatingFields,Ne))}),j.state.next({validatingFields:s.validatingFields,isValidating:!Wn(s.validatingFields)}))},L=(Q,de=[],Ne,Ce,Me=!0,Ie=!0)=>{if(Ce&&Ne&&!t.disabled){if(d.action=!0,Ie&&Array.isArray(wt(a,Q))){const Ve=Ne(wt(a,Q),Ce.argA,Ce.argB);Me&&Br(a,Q,Ve)}if(Ie&&Array.isArray(wt(s.errors,Q))){const Ve=Ne(wt(s.errors,Q),Ce.argA,Ce.argB);Me&&Br(s.errors,Q,Ve),Q3(s.errors,Q)}if((p.touchedFields||b.touchedFields)&&Ie&&Array.isArray(wt(s.touchedFields,Q))){const Ve=Ne(wt(s.touchedFields,Q),Ce.argA,Ce.argB);Me&&Br(s.touchedFields,Q,Ve)}(p.dirtyFields||b.dirtyFields)&&(s.dirtyFields=du(o,l)),j.state.next({name:Q,isDirty:O(Q,de),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Br(l,Q,de)},D=(Q,de)=>{Br(s.errors,Q,de),j.state.next({errors:s.errors})},_=Q=>{s.errors=Q,j.state.next({errors:s.errors,isValid:!1})},F=(Q,de,Ne,Ce)=>{const Me=wt(a,Q);if(Me){const Ie=wt(l,Q,ws(Ne)?wt(o,Q):Ne);ws(Ie)||Ce&&Ce.defaultChecked||de?Br(l,Q,de?Ie:r1(Me._f)):re(Q,Ie),d.mount&&S()}},X=(Q,de,Ne,Ce,Me)=>{let Ie=!1,Ve=!1;const at={name:Q};if(!t.disabled){if(!Ne||Ce){(p.isDirty||b.isDirty)&&(Ve=s.isDirty,s.isDirty=at.isDirty=O(),Ie=Ve!==at.isDirty);const et=vl(wt(o,Q),de);Ve=!!wt(s.dirtyFields,Q),et?bs(s.dirtyFields,Q):Br(s.dirtyFields,Q,!0),at.dirtyFields=s.dirtyFields,Ie=Ie||(p.dirtyFields||b.dirtyFields)&&Ve!==!et}if(Ne){const et=wt(s.touchedFields,Q);et||(Br(s.touchedFields,Q,Ne),at.touchedFields=s.touchedFields,Ie=Ie||(p.touchedFields||b.touchedFields)&&et!==Ne)}Ie&&Me&&j.state.next(at)}return Ie?at:{}},ue=(Q,de,Ne,Ce)=>{const Me=wt(s.errors,Q),Ie=(p.isValid||b.isValid)&&$i(de)&&s.isValid!==de;if(t.delayError&&Ne?(h=k(()=>D(Q,Ne)),h(t.delayError)):(clearTimeout(g),h=null,Ne?Br(s.errors,Q,Ne):bs(s.errors,Q)),(Ne?!vl(Me,Ne):Me)||!Wn(Ce)||Ie){const Ve={...Ce,...Ie&&$i(de)?{isValid:de}:{},errors:s.errors,name:Q};s={...s,...Ve},j.state.next(Ve)}},le=async Q=>{C(Q,!0);const de=await t.resolver(l,t.context,H3(Q||u.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return C(Q),de},ie=async Q=>{const{errors:de}=await le(Q);if(Q)for(const Ne of Q){const Ce=wt(de,Ne);Ce?Br(s.errors,Ne,Ce):bs(s.errors,Ne)}else s.errors=de;return de},ee=async(Q,de,Ne={valid:!0})=>{for(const Ce in Q){const Me=Q[Ce];if(Me){const{_f:Ie,...Ve}=Me;if(Ie){const at=u.array.has(Ie.name),et=Me._f&&W3(Me._f);et&&p.validatingFields&&C([Ce],!0);const rt=await l1(Me,u.disabled,l,y,t.shouldUseNativeValidation&&!de,at);if(et&&p.validatingFields&&C([Ce]),rt[Ie.name]&&(Ne.valid=!1,de))break;!de&&(wt(rt,Ie.name)?at?X3(s.errors,rt,Ie.name):Br(s.errors,Ie.name,rt[Ie.name]):bs(s.errors,Ie.name))}!Wn(Ve)&&await ee(Ve,de,Ne)}}return Ne.valid},me=()=>{for(const Q of u.unMount){const de=wt(a,Q);de&&(de._f.refs?de._f.refs.every(Ne=>!ip(Ne)):!ip(de._f.ref))&&fe(Q)}u.unMount=new Set},O=(Q,de)=>!t.disabled&&(Q&&de&&Br(l,Q,de),!vl(we(),o)),B=(Q,de,Ne)=>U3(Q,u,{...d.mount?l:ws(de)?o:Hi(Q)?{[Q]:de}:de},Ne,de),te=Q=>B0(wt(d.mount?l:o,Q,t.shouldUnregister?wt(o,Q,[]):[])),re=(Q,de,Ne={})=>{const Ce=wt(a,Q);let Me=de;if(Ce){const Ie=Ce._f;Ie&&(!Ie.disabled&&Br(l,Q,Z2(de,Ie)),Me=kf(Ie.ref)&&Cn(de)?"":de,Y2(Ie.ref)?[...Ie.ref.options].forEach(Ve=>Ve.selected=Me.includes(Ve.value)):Ie.refs?Hu(Ie.ref)?Ie.refs.forEach(Ve=>{(!Ve.defaultChecked||!Ve.disabled)&&(Array.isArray(Me)?Ve.checked=!!Me.find(at=>at===Ve.value):Ve.checked=Me===Ve.value||!!Me)}):Ie.refs.forEach(Ve=>Ve.checked=Ve.value===Me):z0(Ie.ref)?Ie.ref.value="":(Ie.ref.value=Me,Ie.ref.type||j.state.next({name:Q,values:Us(l)})))}(Ne.shouldDirty||Ne.shouldTouch)&&X(Q,Me,Ne.shouldTouch,Ne.shouldDirty,!0),Ne.shouldValidate&&pe(Q)},H=(Q,de,Ne)=>{for(const Ce in de){if(!de.hasOwnProperty(Ce))return;const Me=de[Ce],Ie=Q+"."+Ce,Ve=wt(a,Ie);(u.array.has(Q)||ms(Me)||Ve&&!Ve._f)&&!oc(Me)?H(Ie,Me,Ne):re(Ie,Me,Ne)}},K=(Q,de,Ne={})=>{const Ce=wt(a,Q),Me=u.array.has(Q),Ie=Us(de);Br(l,Q,Ie),Me?(j.array.next({name:Q,values:Us(l)}),(p.isDirty||p.dirtyFields||b.isDirty||b.dirtyFields)&&Ne.shouldDirty&&j.state.next({name:Q,dirtyFields:du(o,l),isDirty:O(Q,Ie)})):Ce&&!Ce._f&&!Cn(Ie)?H(Q,Ie,Ne):re(Q,Ie,Ne),a1(Q,u)&&j.state.next({...s,name:Q}),j.state.next({name:d.mount?Q:void 0,values:Us(l)})},V=async Q=>{d.mount=!0;const de=Q.target;let Ne=de.name,Ce=!0;const Me=wt(a,Ne),Ie=et=>{Ce=Number.isNaN(et)||oc(et)&&isNaN(et.getTime())||vl(et,wt(l,Ne,et))},Ve=s1(t.mode),at=s1(t.reValidateMode);if(Me){let et,rt;const ft=de.type?r1(Me._f):F3(Q),it=Q.type===Qx.BLUR||Q.type===Qx.FOCUS_OUT,er=!G3(Me._f)&&!t.resolver&&!wt(s.errors,Ne)&&!Me._f.deps||J3(it,wt(s.touchedFields,Ne),s.isSubmitted,at,Ve),zt=a1(Ne,u,it);Br(l,Ne,ft),it?(!de||!de.readOnly)&&(Me._f.onBlur&&Me._f.onBlur(Q),h&&h(0)):Me._f.onChange&&Me._f.onChange(Q);const nt=X(Ne,ft,it),St=!Wn(nt)||zt;if(!it&&j.state.next({name:Ne,type:Q.type,values:Us(l)}),er)return(p.isValid||b.isValid)&&(t.mode==="onBlur"?it&&S():it||S()),St&&j.state.next({name:Ne,...zt?{}:nt});if(!it&&zt&&j.state.next({...s}),t.resolver){const{errors:Mt}=await le([Ne]);if(Ie(ft),Ce){const ot=i1(s.errors,a,Ne),It=i1(Mt,a,ot.name||Ne);et=It.error,Ne=It.name,rt=Wn(Mt)}}else C([Ne],!0),et=(await l1(Me,u.disabled,l,y,t.shouldUseNativeValidation))[Ne],C([Ne]),Ie(ft),Ce&&(et?rt=!1:(p.isValid||b.isValid)&&(rt=await ee(a,!0)));Ce&&(Me._f.deps&&pe(Me._f.deps),ue(Ne,rt,et,nt))}},Z=(Q,de)=>{if(wt(s.errors,de)&&Q.focus)return Q.focus(),1},pe=async(Q,de={})=>{let Ne,Ce;const Me=wu(Q);if(t.resolver){const Ie=await ie(ws(Q)?Q:Me);Ne=Wn(Ie),Ce=Q?!Me.some(Ve=>wt(Ie,Ve)):Ne}else Q?(Ce=(await Promise.all(Me.map(async Ie=>{const Ve=wt(a,Ie);return await ee(Ve&&Ve._f?{[Ie]:Ve}:Ve)}))).every(Boolean),!(!Ce&&!s.isValid)&&S()):Ce=Ne=await ee(a);return j.state.next({...!Hi(Q)||(p.isValid||b.isValid)&&Ne!==s.isValid?{}:{name:Q},...t.resolver||!Q?{isValid:Ne}:{},errors:s.errors}),de.shouldFocus&&!Ce&&Nu(a,Z,Q?Me:u.mount),Ce},we=Q=>{const de={...d.mount?l:o};return ws(Q)?de:Hi(Q)?wt(de,Q):Q.map(Ne=>wt(de,Ne))},J=(Q,de)=>({invalid:!!wt((de||s).errors,Q),isDirty:!!wt((de||s).dirtyFields,Q),error:wt((de||s).errors,Q),isValidating:!!wt(s.validatingFields,Q),isTouched:!!wt((de||s).touchedFields,Q)}),E=Q=>{Q&&wu(Q).forEach(de=>bs(s.errors,de)),j.state.next({errors:Q?s.errors:{}})},R=(Q,de,Ne)=>{const Ce=(wt(a,Q,{_f:{}})._f||{}).ref,Me=wt(s.errors,Q)||{},{ref:Ie,message:Ve,type:at,...et}=Me;Br(s.errors,Q,{...et,...de,ref:Ce}),j.state.next({name:Q,errors:s.errors,isValid:!1}),Ne&&Ne.shouldFocus&&Ce&&Ce.focus&&Ce.focus()},G=(Q,de)=>hi(Q)?j.state.subscribe({next:Ne=>"values"in Ne&&Q(B(void 0,de),Ne)}):B(Q,de,!0),oe=Q=>j.state.subscribe({next:de=>{Y3(Q.name,de.name,Q.exact)&&K3(de,Q.formState||p,Et,Q.reRenderRoot)&&Q.callback({values:{...l},...s,...de,defaultValues:o})}}).unsubscribe,$=Q=>(d.mount=!0,b={...b,...Q.formState},oe({...Q,formState:b})),fe=(Q,de={})=>{for(const Ne of Q?wu(Q):u.mount)u.mount.delete(Ne),u.array.delete(Ne),de.keepValue||(bs(a,Ne),bs(l,Ne)),!de.keepError&&bs(s.errors,Ne),!de.keepDirty&&bs(s.dirtyFields,Ne),!de.keepTouched&&bs(s.touchedFields,Ne),!de.keepIsValidating&&bs(s.validatingFields,Ne),!t.shouldUnregister&&!de.keepDefaultValue&&bs(o,Ne);j.state.next({values:Us(l)}),j.state.next({...s,...de.keepDirty?{isDirty:O()}:{}}),!de.keepIsValid&&S()},ke=({disabled:Q,name:de})=>{($i(Q)&&d.mount||Q||u.disabled.has(de))&&(Q?u.disabled.add(de):u.disabled.delete(de))},Se=(Q,de={})=>{let Ne=wt(a,Q);const Ce=$i(de.disabled)||$i(t.disabled);return Br(a,Q,{...Ne||{},_f:{...Ne&&Ne._f?Ne._f:{ref:{name:Q}},name:Q,mount:!0,...de}}),u.mount.add(Q),Ne?ke({disabled:$i(de.disabled)?de.disabled:t.disabled,name:Q}):F(Q,!0,de.value),{...Ce?{disabled:de.disabled||t.disabled}:{},...t.progressive?{required:!!de.required,min:uu(de.min),max:uu(de.max),minLength:uu(de.minLength),maxLength:uu(de.maxLength),pattern:uu(de.pattern)}:{},name:Q,onChange:V,onBlur:V,ref:Me=>{if(Me){Se(Q,de),Ne=wt(a,Q);const Ie=ws(Me.value)&&Me.querySelectorAll&&Me.querySelectorAll("input,select,textarea")[0]||Me,Ve=q3(Ie),at=Ne._f.refs||[];if(Ve?at.find(et=>et===Ie):Ie===Ne._f.ref)return;Br(a,Q,{_f:{...Ne._f,...Ve?{refs:[...at.filter(ip),Ie,...Array.isArray(wt(o,Q))?[{}]:[]],ref:{type:Ie.type,name:Q}}:{ref:Ie}}}),F(Q,!1,void 0,Ie)}else Ne=wt(a,Q,{}),Ne._f&&(Ne._f.mount=!1),(t.shouldUnregister||de.shouldUnregister)&&!(T3(u.array,Q)&&d.action)&&u.unMount.add(Q)}}},Te=()=>t.shouldFocusError&&Nu(a,Z,u.mount),ge=Q=>{$i(Q)&&(j.state.next({disabled:Q}),Nu(a,(de,Ne)=>{const Ce=wt(a,Ne);Ce&&(de.disabled=Ce._f.disabled||Q,Array.isArray(Ce._f.refs)&&Ce._f.refs.forEach(Me=>{Me.disabled=Ce._f.disabled||Q}))},0,!1))},De=(Q,de)=>async Ne=>{let Ce;Ne&&(Ne.preventDefault&&Ne.preventDefault(),Ne.persist&&Ne.persist());let Me=Us(l);if(j.state.next({isSubmitting:!0}),t.resolver){const{errors:Ie,values:Ve}=await le();s.errors=Ie,Me=Us(Ve)}else await ee(a);if(u.disabled.size)for(const Ie of u.disabled)bs(Me,Ie);if(bs(s.errors,"root"),Wn(s.errors)){j.state.next({errors:{}});try{await Q(Me,Ne)}catch(Ie){Ce=Ie}}else de&&await de({...s.errors},Ne),Te(),setTimeout(Te);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wn(s.errors)&&!Ce,submitCount:s.submitCount+1,errors:s.errors}),Ce)throw Ce},Xe=(Q,de={})=>{wt(a,Q)&&(ws(de.defaultValue)?K(Q,Us(wt(o,Q))):(K(Q,de.defaultValue),Br(o,Q,Us(de.defaultValue))),de.keepTouched||bs(s.touchedFields,Q),de.keepDirty||(bs(s.dirtyFields,Q),s.isDirty=de.defaultValue?O(Q,Us(wt(o,Q))):O()),de.keepError||(bs(s.errors,Q),p.isValid&&S()),j.state.next({...s}))},Oe=(Q,de={})=>{const Ne=Q?Us(Q):o,Ce=Us(Ne),Me=Wn(Q),Ie=Me?o:Ce;if(de.keepDefaultValues||(o=Ne),!de.keepValues){if(de.keepDirtyValues){const Ve=new Set([...u.mount,...Object.keys(du(o,l))]);for(const at of Array.from(Ve))wt(s.dirtyFields,at)?Br(Ie,at,wt(l,at)):K(at,wt(Ie,at))}else{if(M0&&ws(Q))for(const Ve of u.mount){const at=wt(a,Ve);if(at&&at._f){const et=Array.isArray(at._f.refs)?at._f.refs[0]:at._f.ref;if(kf(et)){const rt=et.closest("form");if(rt){rt.reset();break}}}}if(de.keepFieldsRef)for(const Ve of u.mount)K(Ve,wt(Ie,Ve));else a={}}l=t.shouldUnregister?de.keepDefaultValues?Us(o):{}:Us(Ie),j.array.next({values:{...Ie}}),j.state.next({values:{...Ie}})}u={mount:de.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!p.isValid||!!de.keepIsValid||!!de.keepDirtyValues,d.watch=!!t.shouldUnregister,j.state.next({submitCount:de.keepSubmitCount?s.submitCount:0,isDirty:Me?!1:de.keepDirty?s.isDirty:!!(de.keepDefaultValues&&!vl(Q,o)),isSubmitted:de.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Me?{}:de.keepDirtyValues?de.keepDefaultValues&&l?du(o,l):s.dirtyFields:de.keepDefaultValues&&Q?du(o,Q):de.keepDirty?s.dirtyFields:{},touchedFields:de.keepTouched?s.touchedFields:{},errors:de.keepErrors?s.errors:{},isSubmitSuccessful:de.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},ce=(Q,de)=>Oe(hi(Q)?Q(l):Q,de),Ht=(Q,de={})=>{const Ne=wt(a,Q),Ce=Ne&&Ne._f;if(Ce){const Me=Ce.refs?Ce.refs[0]:Ce.ref;Me.focus&&(Me.focus(),de.shouldSelect&&hi(Me.select)&&Me.select())}},Et=Q=>{s={...s,...Q}},Ue={control:{register:Se,unregister:fe,getFieldState:J,handleSubmit:De,setError:R,_subscribe:oe,_runSchema:le,_focusError:Te,_getWatch:B,_getDirty:O,_setValid:S,_setFieldArray:L,_setDisabledField:ke,_setErrors:_,_getFieldArray:te,_reset:Oe,_resetDefaultValues:()=>hi(t.defaultValues)&&t.defaultValues().then(Q=>{ce(Q,t.resetOptions),j.state.next({isLoading:!1})}),_removeUnmounted:me,_disableForm:ge,_subjects:j,_proxyFormState:p,get _fields(){return a},get _formValues(){return l},get _state(){return d},set _state(Q){d=Q},get _defaultValues(){return o},get _names(){return u},set _names(Q){u=Q},get _formState(){return s},get _options(){return t},set _options(Q){t={...t,...Q}}},subscribe:$,trigger:pe,register:Se,handleSubmit:De,watch:G,setValue:K,getValues:we,reset:ce,resetField:Xe,clearErrors:E,unregister:fe,setError:R,setFocus:Ht,getFieldState:J};return{...Ue,formControl:Ue}}function t6(e={}){const t=An.useRef(void 0),s=An.useRef(void 0),[a,o]=An.useState({isDirty:!1,isValidating:!1,isLoading:hi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:hi(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!hi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...u}=e6(e);t.current={...u,formState:a}}const l=t.current.control;return l._options=e,B3(()=>{const d=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(u=>({...u,isReady:!0})),l._formState.isReady=!0,d},[l]),An.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),An.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),An.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),An.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),An.useEffect(()=>{if(l._proxyFormState.isDirty){const d=l._getDirty();d!==a.isDirty&&l._subjects.state.next({isDirty:d})}},[l,a.isDirty]),An.useEffect(()=>{e.values&&!vl(e.values,s.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),s.current=e.values,o(d=>({...d}))):l._resetDefaultValues()},[l,e.values]),An.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),t.current.formState=M3(a,l),t.current}function tv(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(s=tv(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function r6(){for(var e,t,s=0,a="",o=arguments.length;s<o;s++)(e=arguments[s])&&(t=tv(e))&&(a&&(a+=" "),a+=t);return a}const gc=({size:e="md",className:t,color:s="primary"})=>{const a={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},o={primary:"border-primary-600",white:"border-white",gray:"border-gray-600"};return r.jsx("div",{className:r6("animate-spin rounded-full border-2 border-t-transparent",a[e],o[s],t)})},rv=({length:e=6,onComplete:t,disabled:s=!1,className:a=""})=>{const[o,l]=q.useState(new Array(e).fill("")),d=q.useRef([]);q.useEffect(()=>{d.current[0]&&d.current[0].focus()},[]);const u=(p,b)=>{if(s||(b.length>1&&(b=b.slice(-1)),!/^\d*$/.test(b)))return;const j=[...o];j[p]=b,l(j),b&&p<e-1&&d.current[p+1]?.focus();const y=j.join("");y.length===e&&!y.includes("")&&t(y)},h=(p,b)=>{if(!s){if(b.key==="Backspace")if(o[p]){const j=[...o];j[p]="",l(j)}else p>0&&d.current[p-1]?.focus();b.key==="ArrowLeft"&&p>0&&d.current[p-1]?.focus(),b.key==="ArrowRight"&&p<e-1&&d.current[p+1]?.focus()}},g=p=>{if(s)return;p.preventDefault();const b=p.clipboardData.getData("text").replace(/\D/g,"").slice(0,e);if(b.length>0){const j=[...o];for(let S=0;S<b.length&&S<e;S++)j[S]=b[S];l(j);const y=Math.min(b.length,e-1);d.current[y]?.focus();const k=j.join("");k.length===e&&!k.includes("")&&t(k)}};return r.jsx("div",{className:`flex justify-center space-x-3 ${a}`,children:o.map((p,b)=>r.jsx("input",{ref:j=>d.current[b]=j,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:p,onChange:j=>u(b,j.target.value),onKeyDown:j=>h(b,j),onPaste:g,disabled:s,className:`
            w-12 h-12 text-center text-xl font-semibold border-2 rounded-lg
            focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500
            transition-all duration-200
            ${s?"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed":"bg-white border-gray-200 text-gray-900 hover:border-gray-300"}
          `},b))})},s6=()=>{const[e,t]=q.useState("email"),[s,a]=q.useState(""),[o,l]=q.useState(!1),d=Ls(),u=yi(),{isLoading:h,error:g,isAuthenticated:p,user:b}=Ot(_=>_.auth),{register:j,handleSubmit:y,formState:{errors:k}}=t6({defaultValues:{email:""}});q.useEffect(()=>{p&&b&&(b.role==="admin"?u("/admin/dashboard"):u("/dashboard/owner"))},[p,b,u]),q.useEffect(()=>{g&&(Dh.error(g),d(e3()))},[g,d]);const S=async _=>{try{await d(gu(_.email)).unwrap(),a(_.email),t("otp"),l(!0),Dh.success("OTP sent to your email!")}catch{}},C=async _=>{try{const F=await d(Qh({email:s,otp:_})).unwrap();Dh.success("Welcome back!"),F.user?.role==="admin"?u("/admin/dashboard"):u("/dashboard/owner")}catch{}},L=async()=>{try{await d(gu(s)).unwrap(),Dh.success("OTP resent to your email!")}catch{}},D=()=>{t("email"),l(!1),a("")};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-white via-green-50 to-green-100 flex",children:[r.jsx("div",{className:"flex-1 flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-20 xl:px-24",children:r.jsxs("div",{className:"mx-auto w-full max-w-sm lg:w-96",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"flex items-center justify-center w-20 h-20 bg-white rounded-3xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-gray-200",children:r.jsx(G2,{size:"lg",className:"text-green-600"})})}),r.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-gray-700 to-gray-900 bg-clip-text text-transparent mb-3",children:"Welcome back"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Sign in to your property management dashboard"})]}),r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-8 mb-6",children:e==="email"?r.jsxs("form",{onSubmit:y(S),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-500 mb-2",children:"Email address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(cc,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{...j("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:`w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500 bg-white text-gray-900 placeholder-gray-400 transition-all duration-200 hover:border-gray-300 ${k.email?"border-red-500 focus:ring-red-500/20":""}`,placeholder:"Enter your email"})]}),k.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.email.message})]}),r.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center items-center px-6 py-4 border border-transparent rounded-xl shadow-lg text-base font-semibold text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] hover:shadow-xl group",children:h?r.jsx(gc,{size:"sm",className:"mr-2"}):r.jsxs(r.Fragment,{children:["Send OTP",r.jsx(Yx,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Ma,{className:"h-8 w-8 text-green-600"})})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Enter Verification Code"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["We've sent a 6-digit code to ",r.jsx("span",{className:"font-medium text-gray-900",children:s})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(rv,{onComplete:C,disabled:h,length:6}),r.jsx("button",{type:"button",onClick:()=>{const _=document.querySelectorAll('input[type="text"]'),F=Array.from(_).map(X=>X.value).join("");F.length===6&&C(F)},disabled:h,className:"w-full flex justify-center items-center px-6 py-4 border border-transparent rounded-xl shadow-lg text-base font-semibold text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] hover:shadow-xl group",children:h?r.jsx(gc,{size:"sm",className:"mr-2"}):r.jsxs(r.Fragment,{children:["Verify Code",r.jsx(Yx,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:L,disabled:h,className:"text-sm text-green-600 hover:text-green-500 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Didn't receive the code? Resend"})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:D,disabled:h,className:"text-sm text-gray-500 hover:text-gray-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:" Back to email"})})]})]})}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-sm text-gray-500",children:["Don't have an account?"," ",r.jsx(hc,{to:"/auth/signup",className:"font-semibold text-green-600 hover:text-green-500 transition-colors duration-200",children:"Sign up for free"})]})})]})}),r.jsxs("div",{className:"hidden lg:block relative flex-1 bg-gradient-to-br from-green-500 via-green-600 to-green-700 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-pattern opacity-5"}),r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full -translate-y-48 translate-x-48"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-white/5 rounded-full translate-y-40 -translate-x-40"}),r.jsx("div",{className:"relative h-full flex flex-col justify-center px-12 xl:px-16",children:r.jsxs("div",{className:"max-w-md",children:[r.jsx("h3",{className:"text-4xl font-bold text-white mb-6 leading-tight",children:"Manage your properties with confidence"}),r.jsx("p",{className:"text-lg text-white/90 mb-8 leading-relaxed",children:"Track bookings, monitor performance, handle compliance, and maximize your rental income with our comprehensive property management platform."}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"flex items-center group",children:[r.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full mr-4 group-hover:bg-white/50 transition-colors duration-200"}),r.jsx("span",{className:"text-white/90 group-hover:text-white transition-colors duration-200",children:"Real-time booking management"})]}),r.jsxs("div",{className:"flex items-center group",children:[r.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full mr-4 group-hover:bg-white/50 transition-colors duration-200"}),r.jsx("span",{className:"text-white/90 group-hover:text-white transition-colors duration-200",children:"Financial performance tracking"})]}),r.jsxs("div",{className:"flex items-center group",children:[r.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full mr-4 group-hover:bg-white/50 transition-colors duration-200"}),r.jsx("span",{className:"text-white/90 group-hover:text-white transition-colors duration-200",children:"Automated compliance reporting"})]}),r.jsxs("div",{className:"flex items-center group",children:[r.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full mr-4 group-hover:bg-white/50 transition-colors duration-200"}),r.jsx("span",{className:"text-white/90 group-hover:text-white transition-colors duration-200",children:"Multi-property dashboard"})]})]})]})})]})]})},n6=()=>{const[e,t]=q.useState("form"),[s,a]=q.useState({firstName:"",lastName:"",email:"",phone:"",role:"user"}),[o,l]=q.useState({}),d=Ls(),{isLoading:u,isAuthenticated:h,error:g}=Ot(C=>C.auth);if(h)return r.jsx(Gn,{to:"/dashboard",replace:!0});const p=C=>{const{name:L,value:D}=C.target;a(_=>({..._,[L]:D})),o[L]&&l(_=>({..._,[L]:""}))},b=()=>{const C={};return s.firstName.trim()||(C.firstName="First name is required"),s.lastName.trim()||(C.lastName="Last name is required"),s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(C.email="Invalid email format"):C.email="Email is required",s.phone.trim()?/^[\+]?[1-9][\d]{0,15}$/.test(s.phone.replace(/\s/g,""))||(C.phone="Invalid phone number format"):C.phone="Phone number is required",s.role||(C.role="Please select a role"),l(C),Object.keys(C).length===0},j=async C=>{if(C.preventDefault(),!!b())try{await d(xu({name:`${s.firstName} ${s.lastName}`,email:s.email,phone:s.phone,role:s.role})).unwrap(),t("otp")}catch{}},y=async C=>{try{await d(Xh({name:`${s.firstName} ${s.lastName}`,email:s.email,phone:s.phone,otp:C,role:s.role})).unwrap()}catch{}},k=async()=>{try{await d(xu({name:`${s.firstName} ${s.lastName}`,email:s.email,phone:s.phone,role:s.role})).unwrap()}catch{}},S=()=>{t("form")};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-white via-green-50 to-green-100 flex",children:[r.jsx("div",{className:"flex-1 flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-20 xl:px-24",children:r.jsxs("div",{className:"mx-auto w-full max-w-sm lg:w-96",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"flex items-center justify-center w-20 h-20 bg-gradient-to-br from-green-500 to-green-600 rounded-3xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:r.jsx(np,{className:"h-8 w-8 text-white"})})}),r.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-gray-700 to-gray-900 bg-clip-text text-transparent mb-3",children:"Create your account"}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"Start managing your properties today with our comprehensive platform"})]}),r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-8 mb-6",children:e==="form"?r.jsxs("form",{onSubmit:j,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-500 mb-2",children:"First Name"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(pi,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:s.firstName,onChange:p,className:`w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500 bg-white text-gray-900 placeholder-gray-400 transition-all duration-200 hover:border-gray-300 ${o.firstName?"border-red-500 focus:ring-red-500/20":""}`,placeholder:"Enter your first name"})]}),o.firstName&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.firstName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-500 mb-2",children:"Last Name"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(pi,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:s.lastName,onChange:p,className:`w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500 bg-white text-gray-900 placeholder-gray-400 transition-all duration-200 hover:border-gray-300 ${o.lastName?"border-red-500 focus:ring-red-500/20":""}`,placeholder:"Enter your last name"})]}),o.lastName&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.lastName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-500 mb-2",children:"Email address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(cc,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:p,className:`w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500 bg-white text-gray-900 placeholder-gray-400 transition-all duration-200 hover:border-gray-300 ${o.email?"border-red-500 focus:ring-red-500/20":""}`,placeholder:"Enter your email"})]}),o.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-500 mb-2",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(R0,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,value:s.phone,onChange:p,className:`w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500 bg-white text-gray-900 placeholder-gray-400 transition-all duration-200 hover:border-gray-300 ${o.phone?"border-red-500 focus:ring-red-500/20":""}`,placeholder:"Enter your phone number"})]}),o.phone&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.phone})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-500 mb-2",children:"Sign up as"}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>a(C=>({...C,role:"owner"})),className:`flex items-center justify-center px-4 py-3 border-2 rounded-xl transition-all duration-200 ${s.role==="owner"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[r.jsx(Jn,{className:"h-5 w-5 mr-2"}),r.jsx("span",{className:"font-medium",children:"Owner"})]}),r.jsxs("button",{type:"button",onClick:()=>a(C=>({...C,role:"accountant"})),className:`flex items-center justify-center px-4 py-3 border-2 rounded-xl transition-all duration-200 ${s.role==="accountant"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[r.jsx(Zh,{className:"h-5 w-5 mr-2"}),r.jsx("span",{className:"font-medium",children:"Accountant"})]}),r.jsxs("button",{type:"button",onClick:()=>a(C=>({...C,role:"user"})),className:`flex items-center justify-center px-4 py-3 border-2 rounded-xl transition-all duration-200 ${s.role==="user"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[r.jsx(pi,{className:"h-5 w-5 mr-2"}),r.jsx("span",{className:"font-medium",children:"User"})]})]}),o.role&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.role})]})]}),r.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center items-center px-6 py-4 border border-transparent rounded-xl shadow-lg text-base font-semibold text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] hover:shadow-xl group",children:u?r.jsx(gc,{size:"sm",className:"mr-2"}):r.jsxs(r.Fragment,{children:["Send OTP",r.jsx(np,{className:"ml-2 h-4 w-4 group-hover:scale-110 transition-transform"})]})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Ma,{className:"h-8 w-8 text-green-600"})})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verify Your Account"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["We've sent a 6-digit code to ",r.jsx("span",{className:"font-medium text-gray-900",children:s.email})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(rv,{onComplete:y,disabled:u,length:6}),r.jsx("button",{type:"button",onClick:()=>{const C=document.querySelectorAll('input[type="text"]'),L=Array.from(C).map(D=>D.value).join("");L.length===6&&y(L)},disabled:u,className:"w-full flex justify-center items-center px-6 py-4 border border-transparent rounded-xl shadow-lg text-base font-semibold text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] hover:shadow-xl group",children:u?r.jsx(gc,{size:"sm",className:"mr-2"}):r.jsxs(r.Fragment,{children:["Verify & Create Account",r.jsx(np,{className:"ml-2 h-4 w-4 group-hover:scale-110 transition-transform"})]})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:k,disabled:u,className:"text-sm text-green-600 hover:text-green-500 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Didn't receive the code? Resend"})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:S,disabled:u,className:"text-sm text-gray-500 hover:text-gray-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:" Back to form"})})]})]})}),g&&r.jsxs("div",{className:"rounded-xl bg-red-50 p-4 mb-6",children:[r.jsx("p",{className:"text-sm text-red-800",children:g}),r.jsx("p",{className:"text-xs text-red-600 mt-2",children:" Make sure the backend server is running on port 5000"})]}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",r.jsx(hc,{to:"/auth/login",className:"font-semibold text-green-600 hover:text-green-500 transition-colors duration-200",children:"Sign in here"})]})})]})}),r.jsxs("div",{className:"hidden lg:block relative flex-1 bg-gradient-to-br from-green-500 via-green-600 to-green-700 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-pattern opacity-5"}),r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full -translate-y-48 translate-x-48"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-white/5 rounded-full translate-y-40 -translate-x-40"}),r.jsx("div",{className:"relative h-full flex flex-col justify-center px-12 xl:px-16",children:r.jsxs("div",{className:"max-w-md",children:[r.jsx("h3",{className:"text-4xl font-bold text-white mb-6 leading-tight",children:"Join thousands of property owners"}),r.jsx("p",{className:"text-lg text-white/90 mb-8 leading-relaxed",children:"Start your property management journey with our comprehensive platform designed to maximize your rental income and streamline operations."}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"flex items-center group",children:[r.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full mr-4 group-hover:bg-white/50 transition-colors duration-200"}),r.jsx("span",{className:"text-white/90 group-hover:text-white transition-colors duration-200",children:"Easy property onboarding"})]}),r.jsxs("div",{className:"flex items-center group",children:[r.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full mr-4 group-hover:bg-white/50 transition-colors duration-200"}),r.jsx("span",{className:"text-white/90 group-hover:text-white transition-colors duration-200",children:"Automated booking management"})]}),r.jsxs("div",{className:"flex items-center group",children:[r.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full mr-4 group-hover:bg-white/50 transition-colors duration-200"}),r.jsx("span",{className:"text-white/90 group-hover:text-white transition-colors duration-200",children:"Financial reporting & analytics"})]}),r.jsxs("div",{className:"flex items-center group",children:[r.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full mr-4 group-hover:bg-white/50 transition-colors duration-200"}),r.jsx("span",{className:"text-white/90 group-hover:text-white transition-colors duration-200",children:"24/7 customer support"})]})]})]})})]})]})},a6=()=>{const[e,t]=q.useState(""),[s,a]=q.useState(!1),[o,l]=q.useState(!1),d=async u=>{u.preventDefault(),a(!0);try{await new Promise(h=>setTimeout(h,2e3)),l(!0)}catch(h){console.error("Error:",h)}finally{a(!1)}};return o?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-secondary-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto bg-success-100 rounded-full mb-4",children:r.jsx(cc,{className:"h-8 w-8 text-success-600"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Check your email"}),r.jsxs("p",{className:"mt-4 text-gray-600",children:["We've sent a password reset link to ",r.jsx("strong",{children:e})]}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Didn't receive the email? Check your spam folder or contact support."})]}),r.jsx("div",{className:"mt-8",children:r.jsxs(hc,{to:"/auth/login",className:"btn-primary w-full",children:[r.jsx(jd,{className:"h-4 w-4 mr-2"}),"Back to login"]})})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-secondary-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto bg-primary-600 rounded-full mb-4",children:r.jsx(cc,{className:"h-8 w-8 text-white"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Forgot your password?"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"No worries! Enter your email and we'll send you a reset link."})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(cc,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:u=>t(u.target.value),className:"input pl-10",placeholder:"Enter your email"})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:s,className:"btn-primary w-full py-3",children:s?r.jsxs(r.Fragment,{children:[r.jsx(gc,{size:"sm",className:"mr-2"}),"Sending reset link..."]}):"Send reset link"})}),r.jsx("div",{className:"text-center",children:r.jsxs(hc,{to:"/auth/login",className:"text-sm text-primary-600 hover:text-primary-500 font-medium",children:[r.jsx(jd,{className:"h-4 w-4 inline mr-1"}),"Back to login"]})})]})]})})},i6=()=>{const[e]=Cd(),t=e.get("token"),[s,a]=q.useState({password:"",confirmPassword:""}),[o,l]=q.useState(!1),[d,u]=q.useState(!1),[h,g]=q.useState(!1),[p,b]=q.useState(!1),[j,y]=q.useState({});if(!t)return r.jsx(Gn,{to:"/auth/login",replace:!0});const k=L=>{const{name:D,value:_}=L.target;a(F=>({...F,[D]:_})),j[D]&&y(F=>({...F,[D]:""}))},S=()=>{const L={};return s.password?s.password.length<6&&(L.password="Password must be at least 6 characters"):L.password="Password is required",s.confirmPassword?s.password!==s.confirmPassword&&(L.confirmPassword="Passwords do not match"):L.confirmPassword="Please confirm your password",y(L),Object.keys(L).length===0},C=async L=>{if(L.preventDefault(),!!S()){g(!0);try{await new Promise(D=>setTimeout(D,2e3)),b(!0)}catch(D){console.error("Error:",D)}finally{g(!1)}}};return p?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-secondary-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto bg-success-100 rounded-full mb-4",children:r.jsx(Dn,{className:"h-8 w-8 text-success-600"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Password reset successful"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Your password has been successfully reset. You can now sign in with your new password."})]}),r.jsx("div",{className:"mt-8",children:r.jsx(hc,{to:"/auth/login",className:"btn-primary w-full",children:"Continue to login"})})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-secondary-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto bg-primary-600 rounded-full mb-4",children:r.jsx(ef,{className:"h-8 w-8 text-white"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Reset your password"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your new password below."})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:C,children:[r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(ef,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"password",name:"password",type:o?"text":"password",required:!0,value:s.password,onChange:k,className:`input pl-10 pr-10 ${j.password?"border-danger-300 focus:border-danger-500 focus:ring-danger-500":""}`,placeholder:"Enter your new password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!o),children:o?r.jsx(r0,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):r.jsx(Oa,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),j.password&&r.jsx("p",{className:"mt-1 text-sm text-danger-600",children:j.password})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(ef,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:d?"text":"password",required:!0,value:s.confirmPassword,onChange:k,className:`input pl-10 pr-10 ${j.confirmPassword?"border-danger-300 focus:border-danger-500 focus:ring-danger-500":""}`,placeholder:"Confirm your new password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!d),children:d?r.jsx(r0,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):r.jsx(Oa,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),j.confirmPassword&&r.jsx("p",{className:"mt-1 text-sm text-danger-600",children:j.confirmPassword})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:h,className:"btn-primary w-full py-3",children:h?r.jsxs(r.Fragment,{children:[r.jsx(gc,{size:"sm",className:"mr-2"}),"Resetting password..."]}):"Reset password"})}),r.jsx("div",{className:"text-center",children:r.jsx(hc,{to:"/auth/login",className:"text-sm text-primary-600 hover:text-primary-500 font-medium",children:"Back to login"})})]})]})})},$0=async()=>await Vt.get("/property-management"),o6=async e=>{console.log(" createProperty API called with:",{propertyData:Object.keys(e),url:"/property-management",method:"POST"});const t=await Vt.post("/property-management",e);return console.log(" createProperty API response:",t),t.data},l6=async(e,t)=>{console.log(" updateProperty API called with:",{propertyId:e,propertyData:Object.keys(t),url:`/property-management/${e}`,method:"PUT"});const s=await Vt.put(`/property-management/${e}`,t);if(console.log(" updateProperty API response:",s),console.log(" Response type:",typeof s),!s)throw console.error(" Invalid response from apiClient.put:",s),new Error("Invalid response from server");return s},c6=async e=>(await Vt.delete(`/property-management/${e}`)).data,d6=async(e,t)=>(await Vt.post("/property-management/test-hostkit",{hostkitId:e,apiKey:t})).data,u6=async(e,t)=>{const s={};return e&&(s.startDate=e),t&&(s.endDate=t),(await Vt.get("/property-management/dashboard/metrics",{params:s})).data},h6={properties:[],dashboardMetrics:null,selectedProperty:null,isLoading:!1,isCreating:!1,isUpdating:!1,isDeleting:!1,isTesting:!1,error:null,hostkitTestResult:null},Ra=Pr("propertyManagement/fetchProperties",async(e,{rejectWithValue:t})=>{try{const s=await $0();return s&&typeof s=="object"?s:{properties:[],total:0}}catch(s){return console.error("Failed to fetch properties:",s),t(s.response?.data?.message||"Failed to fetch properties")}}),ju=Pr("propertyManagement/createProperty",async(e,{rejectWithValue:t})=>{try{return await o6(e)}catch(s){return t(s.response?.data?.message||"Failed to create property")}}),Su=Pr("propertyManagement/updateProperty",async({propertyId:e,propertyData:t},{rejectWithValue:s})=>{try{console.log(" Redux updatePropertyAsync calling API with:",{propertyId:e,propertyData:Object.keys(t)});const a=await l6(e,t);return console.log(" Redux updatePropertyAsync received response:",a),console.log(" Response type:",typeof a),a}catch(a){return console.error(" Redux updatePropertyAsync error:",a),s(a.response?.data?.message||"Failed to update property")}}),sf=Pr("propertyManagement/deleteProperty",async(e,{rejectWithValue:t})=>{try{return await c6(e),e}catch(s){return t(s.response?.data?.message||"Failed to delete property")}}),nf=Pr("propertyManagement/testHostkitConnection",async({hostkitId:e,apiKey:t},{rejectWithValue:s})=>{try{return await d6(e,t)}catch(a){return s(a.response?.data?.message||"Failed to test Hostkit connection")}}),af=Pr("propertyManagement/fetchDashboardMetrics",async({startDate:e,endDate:t}={},{rejectWithValue:s})=>{try{return await u6(e,t)}catch(a){return s(a.response?.data?.message||"Failed to fetch dashboard metrics")}}),sv=Ro({name:"propertyManagement",initialState:h6,reducers:{clearError:e=>{e.error=null},clearHostkitTestResult:e=>{e.hostkitTestResult=null},setSelectedProperty:(e,t)=>{e.selectedProperty=t.payload}},extraReducers:e=>{e.addCase(Ra.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Ra.fulfilled,(t,s)=>{t.isLoading=!1,s.payload&&s.payload.properties&&Array.isArray(s.payload.properties)?t.properties=s.payload.properties:t.properties=[]}).addCase(Ra.rejected,(t,s)=>{t.isLoading=!1,t.error=s.payload,t.properties=[]}).addCase(ju.pending,t=>{t.isCreating=!0,t.error=null}).addCase(ju.fulfilled,(t,s)=>{t.isCreating=!1,t.properties.unshift(s.payload.property),t.hostkitTestResult=s.payload.hostkitTest}).addCase(ju.rejected,(t,s)=>{t.isCreating=!1,t.error=s.payload}).addCase(Su.pending,t=>{t.isUpdating=!0,t.error=null}).addCase(Su.fulfilled,(t,s)=>{if(t.isUpdating=!1,console.log(" Redux updatePropertyAsync.fulfilled payload:",s.payload),s.payload&&s.payload.property){const a=s.payload.property,o=t.properties.findIndex(l=>l._id===a._id);o!==-1&&(t.properties[o]=a),t.selectedProperty?._id===a._id&&(t.selectedProperty=a)}else console.error(" Invalid payload structure in updatePropertyAsync.fulfilled:",s.payload)}).addCase(Su.rejected,(t,s)=>{t.isUpdating=!1,t.error=s.payload}).addCase(sf.pending,t=>{t.isDeleting=!0,t.error=null}).addCase(sf.fulfilled,(t,s)=>{t.isDeleting=!1,t.properties=t.properties.filter(a=>a._id!==s.payload),t.selectedProperty?._id===s.payload&&(t.selectedProperty=null)}).addCase(sf.rejected,(t,s)=>{t.isDeleting=!1,t.error=s.payload}).addCase(nf.pending,t=>{t.isTesting=!0,t.error=null}).addCase(nf.fulfilled,(t,s)=>{t.isTesting=!1,t.hostkitTestResult=s.payload}).addCase(nf.rejected,(t,s)=>{t.isTesting=!1,t.error=s.payload}).addCase(af.pending,t=>{t.isLoading=!0,t.error=null}).addCase(af.fulfilled,(t,s)=>{t.isLoading=!1,t.dashboardMetrics=s.payload}).addCase(af.rejected,(t,s)=>{t.isLoading=!1,t.error=s.payload})}}),{clearError:op,clearHostkitTestResult:f6,setSelectedProperty:Th}=sv.actions,m6=sv.reducer,c1=()=>{const e=Ls(),t=yi(),{user:s}=Ot(S=>S.auth),{t:a}=I0(),{dashboardMetrics:o,properties:l,isLoading:d}=Ot(S=>S.propertyManagement),[u,h]=q.useState("real"),g=()=>{const S=new Date,C=S.getMonth(),L=S.getFullYear(),D=new Date(L,C,1),_=new Date(L,C+1,0),F=X=>{const ue=X.getFullYear(),le=String(X.getMonth()+1).padStart(2,"0"),ie=String(X.getDate()).padStart(2,"0");return`${ue}-${le}-${ie}`};return{startDate:F(D),endDate:F(_)}};q.useEffect(()=>{e(Ra());const S=new Date().getFullYear(),C=`${S}-01-01`,L=`${S}-12-31`;e(af({startDate:C,endDate:L}))},[e]);const p=()=>{const S=new Date().getHours();return S<12?a("greeting.morning"):S<18?a("greeting.afternoon"):a("greeting.evening")},b=()=>{const S=new Date,C=S.getMonth()===0?11:S.getMonth()-1,L=S.getMonth()===0?S.getFullYear()-1:S.getFullYear();return{month:C,year:L}},j=()=>{const S=new Date,C=new Date(S.getFullYear(),S.getMonth()-1,1),L=new Date(S.getFullYear(),S.getMonth(),0),D=_=>{const F=_.getFullYear(),X=String(_.getMonth()+1).padStart(2,"0"),ue=String(_.getDate()).padStart(2,"0");return`${F}-${X}-${ue}`};return{startDate:D(C),endDate:D(L)}},y=(S,C)=>{switch(C){case"bookings":const L=g();t(`/bookings?propertyId=${S}&startDate=${L.startDate}&endDate=${L.endDate}&period=thisMonth`);break;case"invoices":const D=j();t(`/invoices?propertyId=${S}&startDate=${D.startDate}&endDate=${D.endDate}&period=lastMonth`);break;case"calendar":const _=g();t(`/calendar?propertyId=${S}&startDate=${_.startDate}&endDate=${_.endDate}&period=thisMonth`);break;default:t(`/properties/${S}`)}},k={totalRevenue:o?.totalRevenue||0,totalBookings:o?.totalBookings||0,occupancyRate:o?.averageOccupancy||0,avgDailyRate:o?.averageDailyRate||0,recentBookings:o?.recentBookings||[],properties:l||[]};return d&&l.length===0?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50/30 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-[#5FFF56] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Loading properties and dashboard data..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50/30",children:[r.jsx("div",{className:"relative overflow-hidden",children:r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsx("div",{className:"flex justify-between items-center",children:r.jsxs("div",{className:"max-w-2xl",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/90 backdrop-blur-sm px-4 py-2 rounded-full border border-white/30 mb-6 shadow-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-[#5FFF56] rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:a("dashboard.title")})]}),r.jsxs("h1",{className:"text-5xl font-bold text-gray-900 mb-4 leading-tight",children:[p(),", ",r.jsx("span",{className:"gradient-text",children:s?.firstName||s?.name||s?.email}),"! "]}),r.jsx("p",{className:"text-xl text-gray-700 mb-8 leading-relaxed",children:a("dashboard.description")}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"flex items-center gap-3 bg-white/90 backdrop-blur-sm px-6 py-3 rounded-2xl border border-white/30 shadow-lg hover:shadow-xl transition-all duration-300",children:[r.jsx("div",{className:"w-4 h-4 bg-[#5FFF56] rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Live Data"})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-white/90 backdrop-blur-sm px-6 py-3 rounded-2xl border border-white/30 shadow-lg hover:shadow-xl transition-all duration-300",children:[r.jsx(mi,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Real-time Updates"})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-white/90 backdrop-blur-sm px-6 py-3 rounded-2xl border border-white/30 shadow-lg hover:shadow-xl transition-all duration-300",children:[r.jsx(tp,{className:"h-5 w-5 text-blue-600"}),r.jsxs("span",{className:"text-sm font-semibold text-gray-800",children:[k.properties.length," ",a("dashboard.properties")]})]})]})]})})})}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("div",{className:"mt-6",children:r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl border border-white/30 p-8 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a("dashboard.quickActions")}),r.jsx("p",{className:"text-gray-600",children:a("dashboard.manageEfficiently")})]}),r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-[#00CFFF] to-[#0095D5] rounded-2xl flex items-center justify-center shadow-lg",children:r.jsx(Sd,{className:"h-7 w-7 text-white"})})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[r.jsxs("a",{href:"/calendar",className:"group flex flex-col items-center p-6 bg-gradient-to-br from-blue-50/80 to-blue-100/80 rounded-2xl hover:from-blue-100 hover:to-blue-200 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:r.jsx(Ns,{className:"h-8 w-8 text-white"})}),r.jsx("span",{className:"text-sm font-bold text-gray-900 text-center",children:a("dashboard.viewCalendar")})]}),r.jsxs("a",{href:"/bookings",className:"group flex flex-col items-center p-6 bg-gradient-to-br from-green-50/80 to-green-100/80 rounded-2xl hover:from-green-100 hover:to-green-200 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:r.jsx(gi,{className:"h-8 w-8 text-white"})}),r.jsx("span",{className:"text-sm font-bold text-gray-900 text-center",children:a("dashboard.manageBookings")})]}),r.jsxs("a",{href:"/invoices",className:"group flex flex-col items-center p-6 bg-gradient-to-br from-purple-50/80 to-purple-100/80 rounded-2xl hover:from-purple-100 hover:to-purple-200 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:r.jsx(xa,{className:"h-8 w-8 text-white"})}),r.jsx("span",{className:"text-sm font-bold text-gray-900 text-center",children:a("dashboard.viewInvoices")})]}),r.jsxs("button",{onClick:()=>{const{month:S,year:C}=b();t(`/saft?month=${S}&year=${C}`)},className:"group flex flex-col items-center p-6 bg-gradient-to-br from-orange-50/80 to-orange-100/80 rounded-2xl hover:from-orange-100 hover:to-orange-200 transition-all duration-300 hover:scale-105 hover:shadow-lg w-full",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:r.jsx(Ki,{className:"h-8 w-8 text-white"})}),r.jsx("span",{className:"text-sm font-bold text-gray-900 text-center",children:a("dashboard.getSAFT")})]})]})]})}),r.jsxs("div",{className:"mt-16",children:[r.jsxs("div",{className:"flex items-center justify-between mb-12",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:a("dashboard.yourProperties")}),r.jsx("p",{className:"text-lg text-gray-600",children:a("dashboard.managePortfolio")})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-white/90 backdrop-blur-sm px-6 py-3 rounded-2xl border border-white/30 shadow-lg",children:[r.jsx("div",{className:"w-3 h-3 bg-[#5FFF56] rounded-full animate-pulse"}),r.jsxs("span",{className:"text-sm font-semibold text-gray-800",children:[k.properties.length," ",a("dashboard.activePropertiesCount")]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:k.properties.length>0?k.properties.map((S,C)=>r.jsxs("div",{className:"group bg-white/95 backdrop-blur-sm rounded-3xl border border-white/30 shadow-2xl hover:shadow-3xl transition-all duration-500 hover:-translate-y-3 overflow-hidden",children:[r.jsxs("div",{className:"relative h-56 overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:[S.images&&S.images.length>0?r.jsx("img",{src:`http://localhost:5000${S.images[0]}`,alt:S.name,className:"w-full h-full object-cover",onError:L=>{console.error(" Dashboard image failed to load:",L.currentTarget.src)},onLoad:L=>{console.log(" Dashboard image loaded successfully:",L.currentTarget.src)}}):r.jsxs("div",{className:"text-center",children:[r.jsx(tp,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Property Image"})]}),r.jsx("div",{className:"absolute top-6 right-6",children:r.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-bold text-white shadow-lg ${S.status==="active"?"bg-green-500":S.status==="inactive"?"bg-gray-500":"bg-yellow-500"}`,children:S.status||"Active"})}),r.jsx("div",{className:"absolute bottom-4 left-4",children:r.jsxs("div",{className:"bg-black/70 backdrop-blur-sm rounded-md px-3 py-2",children:[r.jsx("h3",{className:"text-lg font-bold mb-1 text-white",children:S.name}),r.jsx("p",{className:"text-xs text-white/90",children:S.address||"Algarve, Portugal"})]})})]}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-2 font-semibold",children:"Type"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:S.type})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-2 font-semibold",children:"Bedrooms"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:S.bedrooms})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-2 font-semibold",children:"Max Guests"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:S.maxGuests})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("button",{onClick:L=>{L.stopPropagation(),y(S.id,"bookings")},className:"flex items-center justify-center gap-2 px-3 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl",children:[r.jsx(q2,{className:"h-4 w-4"}),"Bookings"]}),r.jsxs("button",{onClick:L=>{L.stopPropagation(),y(S.id,"invoices")},className:"flex items-center justify-center gap-2 px-3 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl",children:[r.jsx(Ki,{className:"h-4 w-4"}),"Invoices"]}),r.jsxs("button",{onClick:L=>{L.stopPropagation(),y(S.id,"calendar")},className:"flex items-center justify-center gap-2 px-3 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl",children:[r.jsx(Ns,{className:"h-4 w-4"}),"Calendar"]})]})]})]},S._id||S.id||C)):r.jsxs("div",{className:"col-span-full text-center py-16",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx(tp,{className:"h-10 w-10 text-gray-400"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Properties Found"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Add your first property to start tracking bookings and revenue"}),r.jsx("button",{className:"px-6 py-3 bg-gradient-to-r from-[#5FFF56] to-[#4FEF46] text-white rounded-2xl hover:from-[#4FEF46] hover:to-[#5FFF56] transition-all duration-300 font-bold shadow-lg hover:shadow-xl",children:"Add Property"})]})})]})]}),r.jsx("div",{className:"fixed bottom-8 right-8 z-50",children:r.jsx("button",{className:"w-14 h-14 bg-gradient-to-r from-[#5FFF56] to-[#4FEF46] rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 hover:scale-110 flex items-center justify-center group",children:r.jsx(Sd,{className:"h-6 w-6 text-white group-hover:rotate-180 transition-transform duration-300"})})}),r.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[r.jsx("div",{className:"absolute top-1/4 right-1/4 w-40 h-40 bg-[#5FFF56]/10 rounded-full blur-3xl "}),r.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-32 h-32 bg-[#00CFFF]/10 rounded-full blur-3xl -delayed"}),r.jsx("div",{className:"absolute top-1/2 right-1/3 w-24 h-24 bg-purple-500/10 rounded-full blur-2xl "}),r.jsx("div",{className:"absolute top-3/4 left-1/3 w-20 h-20 bg-orange-500/10 rounded-full blur-2xl -delayed"}),r.jsx("div",{className:"absolute top-1/6 left-1/2 w-16 h-16 bg-green-500/10 rounded-full blur-xl "})]})]})},p6="modulepreload",g6=function(e){return"/"+e},d1={},Gi=function(t,s,a){let o=Promise.resolve();if(s&&s.length>0){let h=function(g){return Promise.all(g.map(p=>Promise.resolve(p).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),u=d?.nonce||d?.getAttribute("nonce");o=h(s.map(g=>{if(g=g6(g),g in d1)return;d1[g]=!0;const p=g.endsWith(".css"),b=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const j=document.createElement("link");if(j.rel=p?"stylesheet":p6,p||(j.as="script"),j.crossOrigin="",j.href=g,u&&j.setAttribute("nonce",u),document.head.appendChild(j),p)return new Promise((y,k)=>{j.addEventListener("load",y),j.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return o.then(d=>{for(const u of d||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})},x6={bookings:[],isLoading:!1,error:null,filters:{}},_n=Pr("bookings/fetchBookings",async(e,{rejectWithValue:t})=>{try{const{bookingsAPI:s}=await Gi(async()=>{const{bookingsAPI:d}=await import("./bookings.api-PEKANuOJ.js");return{bookingsAPI:d}},[]),a=await s.getBookings(e),l=(Array.isArray(a)?a:a.bookings||[]).map(d=>({...d,propertyId:e.propertyId||392776}));return Array.isArray(a)?l:{...a,bookings:l}}catch(s){return t(s.response?.data?.message||s.message||"Failed to fetch bookings")}}),nv=Ro({name:"bookings",initialState:x6,reducers:{setFilters:(e,t)=>{e.filters={...e.filters,...t.payload}},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(_n.pending,t=>{t.isLoading=!0,t.error=null}).addCase(_n.fulfilled,(t,s)=>{t.isLoading=!1,t.bookings=Array.isArray(s.payload)?s.payload:s.payload.bookings||[]}).addCase(_n.rejected,(t,s)=>{t.isLoading=!1,t.error=s.payload})}}),{setFilters:Rh,clearError:PA}=nv.actions,y6=nv.reducer,Ba=({properties:e,selectedId:t,onChange:s,placeholder:a="Select Property",className:o=""})=>(e.find(l=>l.id===t),r.jsxs("div",{className:`relative ${o}`,children:[r.jsxs("select",{value:t||"",onChange:l=>s(l.target.value?parseInt(l.target.value):null),className:"w-full px-4 py-3 pr-10 appearance-none cursor-pointer bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#5FFF56] focus:border-[#5FFF56] text-gray-900 shadow-lg",children:[r.jsx("option",{value:"",className:"bg-white text-gray-900",children:a}),e.map(l=>r.jsx("option",{value:l.id,className:"bg-white text-gray-900",children:l.name},l.id))]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none",children:r.jsx(T0,{className:"h-5 w-5 text-gray-500"})})]})),Ld={validateSibaSubmission:async(e,t)=>{try{return await Vt.post("/siba-manager/validate",{propertyId:e,reservationData:t})}catch(s){throw console.error("SIBA validation error:",s),new Error(s.response?.data?.error||"SIBA validation failed")}},sendSibaSubmission:async(e,t)=>{try{return await Vt.post("/siba-manager/send",{propertyId:e,reservationData:t})}catch(s){throw console.error("SIBA submission error:",s),new Error(s.response?.data?.error||"SIBA submission failed")}},getBulkSibaDashboard:async()=>{try{return await Vt.get("/siba-manager/dashboard")}catch(e){throw console.error("Bulk SIBA dashboard error:",e),new Error(e.response?.data?.error||"Failed to fetch SIBA dashboard")}},getSibaStatus:async e=>{try{return await Vt.get(`/siba-manager/status/${e}`)}catch(t){throw console.error("SIBA status error:",t),new Error(t.response?.data?.error||"Failed to fetch SIBA status")}},bulkValidateSiba:async e=>{try{return await Vt.post("/siba-manager/bulk-validate",{reservations:e})}catch(t){throw console.error("Bulk SIBA validation error:",t),new Error(t.response?.data?.error||"Bulk SIBA validation failed")}},bulkSendSiba:async e=>{try{return await Vt.post("/siba-manager/bulk-send",{reservations:e})}catch(t){throw console.error("Bulk SIBA submission error:",t),new Error(t.response?.data?.error||"Bulk SIBA submission failed")}}},of=Pr("sibaManager/validateSubmission",async({propertyId:e,reservationData:t})=>(await Ld.validateSibaSubmission(e,t)).validation),lf=Pr("sibaManager/sendSubmission",async({propertyId:e,reservationData:t})=>await Ld.sendSibaSubmission(e,t)),lp=Pr("sibaManager/fetchBulkDashboard",async()=>await Ld.getBulkSibaDashboard()),v6=Pr("sibaManager/fetchSibaStatus",async e=>(await Ld.getSibaStatus(e)).status),cp=Pr("sibaManager/bulkValidate",async e=>(await Ld.bulkValidateSiba(e)).validations),dp=Pr("sibaManager/bulkSend",async e=>await Ld.bulkSendSiba(e)),b6={validation:{isLoading:!1,result:null,error:null},submission:{isLoading:!1,result:null,error:null},bulkDashboard:{isLoading:!1,data:[],summary:null,error:null},propertyStatuses:{},bulkOperations:{validation:{isLoading:!1,results:null,error:null},submission:{isLoading:!1,results:null,error:null}}},av=Ro({name:"sibaManager",initialState:b6,reducers:{clearValidation:e=>{e.validation={isLoading:!1,result:null,error:null}},clearSubmission:e=>{e.submission={isLoading:!1,result:null,error:null}},clearBulkDashboard:e=>{e.bulkDashboard={isLoading:!1,data:[],summary:null,error:null}},clearBulkOperations:e=>{e.bulkOperations={validation:{isLoading:!1,results:null,error:null},submission:{isLoading:!1,results:null,error:null}}}},extraReducers:e=>{e.addCase(of.pending,t=>{t.validation.isLoading=!0,t.validation.error=null}).addCase(of.fulfilled,(t,s)=>{t.validation.isLoading=!1,t.validation.result=s.payload}).addCase(of.rejected,(t,s)=>{t.validation.isLoading=!1,t.validation.error=s.error.message||"Validation failed"}),e.addCase(lf.pending,t=>{t.submission.isLoading=!0,t.submission.error=null}).addCase(lf.fulfilled,(t,s)=>{t.submission.isLoading=!1,t.submission.result=s.payload}).addCase(lf.rejected,(t,s)=>{t.submission.isLoading=!1,t.submission.error=s.error.message||"Submission failed"}),e.addCase(lp.pending,t=>{t.bulkDashboard.isLoading=!0,t.bulkDashboard.error=null}).addCase(lp.fulfilled,(t,s)=>{t.bulkDashboard.isLoading=!1,t.bulkDashboard.data=s.payload.data,t.bulkDashboard.summary=s.payload.summary}).addCase(lp.rejected,(t,s)=>{t.bulkDashboard.isLoading=!1,t.bulkDashboard.error=s.error.message||"Failed to fetch dashboard"}),e.addCase(v6.fulfilled,(t,s)=>{const a=s.meta?.arg;a&&(t.propertyStatuses[a]=s.payload)}),e.addCase(cp.pending,t=>{t.bulkOperations.validation.isLoading=!0,t.bulkOperations.validation.error=null}).addCase(cp.fulfilled,(t,s)=>{t.bulkOperations.validation.isLoading=!1,t.bulkOperations.validation.results=s.payload}).addCase(cp.rejected,(t,s)=>{t.bulkOperations.validation.isLoading=!1,t.bulkOperations.validation.error=s.error.message||"Bulk validation failed"}),e.addCase(dp.pending,t=>{t.bulkOperations.submission.isLoading=!0,t.bulkOperations.submission.error=null}).addCase(dp.fulfilled,(t,s)=>{t.bulkOperations.submission.isLoading=!1,t.bulkOperations.submission.results=s.payload}).addCase(dp.rejected,(t,s)=>{t.bulkOperations.submission.isLoading=!1,t.bulkOperations.submission.error=s.error.message||"Bulk submission failed"})}}),{clearValidation:w6,clearSubmission:N6,clearBulkDashboard:LA,clearBulkOperations:EA}=av.actions,j6=av.reducer,S6=({reservation:e,propertyId:t,onSibaSent:s})=>{const a=Ls(),{validation:o,submission:l}=Ot(k=>k.sibaManager),[d,u]=q.useState(!1),[h,g]=q.useState(!1),p=async()=>{a(w6()),await a(of({propertyId:t,reservationData:e})),u(!0)},b=async()=>{a(N6());const k=await a(lf({propertyId:t,reservationData:e}));k.payload?.success&&k.payload?.submissionId&&(s?.(k.payload.submissionId),g(!0))},j=k=>{switch(k){case"green":return r.jsx(Dn,{className:"h-5 w-5 text-green-600"});case"amber":return r.jsx(pd,{className:"h-5 w-5 text-yellow-600"});case"red":return r.jsx(En,{className:"h-5 w-5 text-red-600"});default:return r.jsx(Ma,{className:"h-5 w-5 text-gray-400"})}},y=k=>{switch(k){case"green":return"border-green-200 bg-green-50";case"amber":return"border-yellow-200 bg-yellow-50";case"red":return"border-red-200 bg-red-50";default:return"border-gray-200 bg-gray-50"}};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Ma,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"SIBA Manager Tools"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Validate and send SIBA submission for this reservation"})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:"text-xs text-gray-500",children:["Property ID: ",t]})})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:p,disabled:o.isLoading,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.isLoading?r.jsx(Dr,{className:"h-4 w-4 animate-spin"}):r.jsx(V2,{className:"h-4 w-4"}),r.jsx("span",{children:o.isLoading?"Validating...":"Validate SIBA"})]}),r.jsxs("button",{onClick:b,disabled:l.isLoading||!o.result?.isValid,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.isLoading?r.jsx(Dr,{className:"h-4 w-4 animate-spin"}):r.jsx(b3,{className:"h-4 w-4"}),r.jsx("span",{children:l.isLoading?"Sending...":"Send SIBA"})]})]}),d&&o.result&&r.jsxs("div",{className:`p-4 rounded-xl border-2 ${y(o.result.isValid?"green":"red")}`,children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[j(o.result.isValid?"green":"red"),r.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:["Validation ",o.result.isValid?"Successful":"Failed"]})]}),o.result.errors.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsx("h5",{className:"text-sm font-medium text-red-800 mb-2",children:"Errors:"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:o.result.errors.map((k,S)=>r.jsx("li",{className:"text-sm text-red-700",children:k},S))})]}),o.result.warnings.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsx("h5",{className:"text-sm font-medium text-blue-800 mb-2",children:"Information:"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:o.result.warnings.map((k,S)=>r.jsx("li",{className:"text-sm text-blue-700",children:k.includes("not found in Hostkit")?"This reservation is from a different booking system. SIBA submission will be recorded locally.":k.includes("Hostkit API unavailable")?"Hostkit system is temporarily unavailable. SIBA submission will be recorded locally.":k.includes("No reservation code")?"No reservation code available. SIBA submission will be recorded locally.":k},S))})]}),o.result.isValid&&r.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Dn,{className:"h-4 w-4 text-green-600"}),r.jsx("h5",{className:"text-sm font-medium text-green-800",children:"Ready for SIBA Submission"})]}),r.jsx("p",{className:"text-sm text-green-700",children:"All required information is valid. You can proceed with SIBA submission."})]}),o.result.isValid&&o.result.validationData&&r.jsxs("div",{className:"bg-white/50 p-3 rounded-lg",children:[r.jsx("h5",{className:"text-sm font-medium text-gray-800 mb-2",children:"Validation Data:"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Guest Count:"})," ",o.result.validationData.guestCount]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Nights:"})," ",o.result.validationData.nights]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Check-in:"})," ",new Date(o.result.validationData.checkIn).toLocaleDateString()]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Check-out:"})," ",new Date(o.result.validationData.checkOut).toLocaleDateString()]})]})]})]}),h&&l.result&&r.jsxs("div",{className:`p-4 rounded-xl border-2 ${y(l.result.success?"green":"red")}`,children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[j(l.result.success?"green":"red"),r.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:["SIBA Submission ",l.result.success?"Successful":"Failed"]})]}),l.result.success?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm text-green-700",children:[r.jsx("span",{className:"font-medium",children:"Submission ID:"})," ",l.result.submissionId]}),r.jsx("p",{className:"text-sm text-green-700",children:"SIBA submission has been successfully sent to the municipal authorities."})]}):r.jsxs("div",{children:[r.jsx("h5",{className:"text-sm font-medium text-red-800 mb-2",children:"Submission Errors:"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:l.result.errors?.map((k,S)=>r.jsx("li",{className:"text-sm text-red-700",children:k},S))})]})]}),o.error&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-700",children:o.error})}),l.error&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-700",children:l.error})})]})},k6=()=>{const[e,t]=Cd(),[s,a]=q.useState(""),[o,l]=q.useState(!1),[d,u]=q.useState(null),[h,g]=q.useState(!1),[p,b]=q.useState(null),[j,y]=q.useState({propertyId:null,status:"",startDate:"",endDate:"",platform:""}),k=Ls(),S=yi(),{bookings:C,isLoading:L,error:D,filters:_}=Ot(K=>K.bookings),{properties:F}=Ot(K=>K.properties),X=()=>{const K=new Date,V=K.getMonth(),Z=K.getFullYear(),pe=new Date(Z,V,1),we=new Date(Z,V+1,0),J=E=>{const R=E.getFullYear(),G=String(E.getMonth()+1).padStart(2,"0"),oe=String(E.getDate()).padStart(2,"0");return`${R}-${G}-${oe}`};return{startDate:J(pe),endDate:J(we)}};q.useEffect(()=>{const K=e.get("propertyId"),V=e.get("startDate"),Z=e.get("endDate"),pe=e.get("period");if(K||V||Z){if(y({propertyId:K?parseInt(K):null,startDate:V||"",endDate:Z||"",status:"",platform:""}),k(Rh({propertyId:K?parseInt(K):void 0,dateRange:V&&Z?{start:V,end:Z}:void 0,status:""})),K&&k(_n({propertyId:parseInt(K),startDate:V||void 0,endDate:Z||void 0})),pe){const we=pe==="thisMonth"?"this month":pe==="lastMonth"?"last month":pe;console.log(`Applied ${we} filters for property ${K}`),b({propertyId:K?parseInt(K):void 0,period:we,startDate:V||void 0,endDate:Z||void 0})}}else{const we=X();y(J=>({...J,startDate:we.startDate,endDate:we.endDate})),console.log("Auto-selected current month:",we)}},[e,k]),q.useEffect(()=>{if(j.startDate&&j.endDate&&!j.propertyId&&F.length>0){const K=F[0];K&&(y(V=>({...V,propertyId:K.id})),k(_n({propertyId:K.id,startDate:j.startDate,endDate:j.endDate})),console.log(`Auto-fetching bookings for property ${K.id} (${K.name}) for current month`))}},[j.startDate,j.endDate,j.propertyId,F,k]);const ue=K=>({392776:"Piece of Heaven",392777:"Lote 16 Pt 1 3-B",392778:"Lote 8 4-B",392779:"Lote 12 4-A",392780:"Lote 16 Pt1 4-B",392781:"Lote 7 3-A",414661:"Waterfront Pool Penthouse View"})[K]||`Property ${K}`,le=K=>new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}).format(K),ie=K=>new Date(K).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});q.useEffect(()=>{k(_n({propertyId:392776}))},[k]);const ee=(K,V)=>{y(Z=>({...Z,[K]:V}))},me=()=>{const K={propertyId:j.propertyId||void 0,status:j.status||void 0,dateRange:j.startDate&&j.endDate?{start:j.startDate,end:j.endDate}:void 0};k(Rh(K)),l(!1);const V=j.propertyId||392776;k(_n({propertyId:V,startDate:j.startDate,endDate:j.endDate}))},O=()=>{y({propertyId:null,status:"",startDate:"",endDate:"",platform:""}),k(Rh({})),k(_n({propertyId:392776}))},B=(K,V)=>{S(`/bookings/${K}?propertyId=${V}`)},te=()=>{g(!1),u(null)},H=C.map(K=>({id:K.id?.toString()||K.id,propertyId:K.propertyId,guestName:K.guestName||"Unknown Guest",bookingId:K.id?.toString()||"N/A",checkInDate:K.arrivalDate||K.checkIn,checkOutDate:K.departureDate||K.checkOut,totalAmount:K.totalPrice||0,status:K.status||"pending",paymentStatus:K.paymentStatus,platform:K.provider||K.platform||"Direct",guestEmail:K.guestEmail,guestPhone:K.guestPhone,nights:K.nights||1,adults:K.adults||1,children:K.children||0,specialRequests:"",createdAt:K.createdAt,updatedAt:K.updatedAt})).filter(K=>{const V=K.guestName?.toLowerCase().includes(s.toLowerCase())||K.propertyId?.toString().includes(s)||K.bookingId?.toLowerCase().includes(s.toLowerCase()),Z=!j.propertyId||K.propertyId===j.propertyId,pe=!j.status||K.paymentStatus?.toLowerCase()===j.status.toLowerCase()||K.status===j.status,we=!j.platform||K.platform===j.platform;return V&&Z&&pe&&we});return L?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Loading bookings..."})]})}):D?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(En,{className:"w-8 h-8 text-red-600"})}),r.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Error loading bookings"}),r.jsx("p",{className:"text-gray-600 mb-4",children:D}),r.jsx("button",{onClick:()=>k(_n({propertyId:392776})),className:"btn btn-primary",children:"Try Again"})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50/30",children:[r.jsx("div",{className:"bg-white/95 backdrop-blur-sm border-b border-gray-200/50 shadow-sm",children:r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Bookings"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Manage reservations and guest communications"}),p&&r.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("span",{className:"text-sm text-blue-700 font-medium",children:["Showing ",p.period," data",p.propertyId&&` for Property ${p.propertyId}`,p.startDate&&p.endDate&&` (${p.startDate} to ${p.endDate})`]})]}),r.jsx("button",{onClick:()=>{b(null),t({}),y({propertyId:null,status:"",startDate:"",endDate:"",platform:""}),k(Rh({propertyId:void 0,dateRange:void 0,status:""}))},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Clear Filters"})]})})]}),r.jsxs("div",{className:"flex gap-4 mt-6 lg:mt-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Property:"}),r.jsx(Ba,{selectedId:j.propertyId||392776,onChange:K=>{ee("propertyId",K),K&&k(_n({propertyId:K}))},properties:F})]}),r.jsxs("button",{onClick:()=>k(_n({propertyId:j.propertyId||392776})),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-2xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl flex items-center gap-2",children:[r.jsx(Dr,{className:"w-5 h-5"}),"Refresh"]})]})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl border border-white/30 p-8 shadow-2xl",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[r.jsx("div",{className:"flex-1 max-w-md",children:r.jsxs("div",{className:"relative",children:[r.jsx(O0,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search bookings, guests, properties...",value:s,onChange:K=>a(K.target.value),className:"w-full pl-12 pr-4 py-4 bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#5FFF56] focus:border-[#5FFF56] text-gray-900 placeholder-gray-500 shadow-lg"})]})}),r.jsxs("button",{onClick:()=>l(!o),className:`px-6 py-4 rounded-2xl font-semibold shadow-lg transition-all duration-300 flex items-center gap-2 ${o?"bg-gradient-to-r from-[#5FFF56] to-[#4FEF46] text-white hover:from-[#4FEF46] hover:to-[#5FFF56]":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:[r.jsx(Ru,{className:"w-5 h-5"}),"Filters"]})]}),o&&r.jsxs("div",{className:"mt-8 p-8 bg-gradient-to-r from-gray-50/80 to-white/80 rounded-2xl border border-gray-100/50 shadow-lg",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Property"}),r.jsx(Ba,{selectedId:j.propertyId,onChange:K=>ee("propertyId",K),properties:F})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:j.status,onChange:K=>ee("status",K.target.value),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#5FFF56] focus:border-[#5FFF56] text-gray-900 shadow-lg",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"failed",children:"Failed"}),r.jsx("option",{value:"refunded",children:"Refunded"}),r.jsx("option",{value:"confirmed",children:"Confirmed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"modified",children:"Modified"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Check-in From"}),r.jsx("input",{type:"date",value:j.startDate,onChange:K=>ee("startDate",K.target.value),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#5FFF56] focus:border-[#5FFF56] text-gray-900 shadow-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Check-in To"}),r.jsx("input",{type:"date",value:j.endDate,onChange:K=>ee("endDate",K.target.value),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#5FFF56] focus:border-[#5FFF56] text-gray-900 shadow-lg"})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-8",children:[r.jsx("button",{onClick:O,className:"px-6 py-3 bg-white text-gray-700 border border-gray-200 rounded-2xl hover:bg-gray-50 transition-all duration-300 font-semibold shadow-lg",children:"Clear All"}),r.jsx("button",{onClick:me,className:"px-6 py-3 bg-gradient-to-r from-[#5FFF56] to-[#4FEF46] text-white rounded-2xl hover:from-[#4FEF46] hover:to-[#5FFF56] transition-all duration-300 font-semibold shadow-lg hover:shadow-xl",children:"Apply Filters"})]})]})]}),r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl border border-white/30 shadow-2xl overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full table-auto",children:[r.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Guest"}),r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Property"}),r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Check-in"}),r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Check-out"}),r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:H.map((K,V)=>r.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-gray-50 hover:to-white transition-all duration-300 group",children:[r.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:r.jsx("span",{className:"text-lg font-bold text-white",children:K.guestName?.charAt(0)||"G"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-gray-900 text-lg group-hover:text-[#5FFF56] transition-colors",children:K.guestName||"Guest"}),r.jsxs("p",{className:"text-sm text-gray-500 font-medium",children:["ID: ",K.bookingId]})]})]})}),r.jsxs("td",{className:"px-8 py-6 whitespace-nowrap",children:[r.jsx("p",{className:"font-bold text-gray-900 text-lg",children:ue(K.propertyId||0)}),r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Algarve, Portugal"})]}),r.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:r.jsx("p",{className:"font-semibold text-gray-900",children:ie(K.checkInDate||"")})}),r.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:r.jsx("p",{className:"font-semibold text-gray-900",children:ie(K.checkOutDate||"")})}),r.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:r.jsx("span",{className:"font-bold text-gray-900 text-lg",children:le(K.totalAmount||0)})}),r.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-2xl text-sm font-bold shadow-lg ${K.paymentStatus==="Paid"?"bg-green-100 text-green-800":K.paymentStatus==="Pending"?"bg-yellow-100 text-yellow-800":K.paymentStatus==="Failed"?"bg-red-100 text-red-800":K.paymentStatus==="Refunded"?"bg-purple-100 text-purple-800":K.status==="confirmed"?"bg-green-100 text-green-800":K.status==="pending"?"bg-yellow-100 text-yellow-800":K.status==="cancelled"?"bg-red-100 text-red-800":K.status==="modified"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:K.status||K.paymentStatus||"Pending"})}),r.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:r.jsx("div",{className:"flex items-center space-x-3",children:r.jsx("button",{onClick:()=>B(K.id,K.propertyId||392776),className:"p-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-2xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl",title:"View Details",children:r.jsx(Oa,{className:"w-5 h-5"})})})})]},K.id))})]})})})]}),h&&d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Booking Details & SIBA Manager"}),r.jsx("button",{onClick:te,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Ln,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 border border-blue-200",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:r.jsx(Ns,{className:"h-5 w-5 text-blue-600"})}),"Booking Information"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Guest Name:"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:d.guestName})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Property:"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:ue(d.propertyId)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Check-in:"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:ie(d.checkInDate)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Check-out:"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:ie(d.checkOutDate)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Adults:"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:d.adults})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Children:"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:d.children})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Total Amount:"}),r.jsx("span",{className:"text-gray-900 font-semibold",children:le(d.totalAmount)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Status:"}),r.jsx("span",{className:`font-semibold ${d.paymentStatus==="Paid"?"text-green-600":d.paymentStatus==="Pending"?"text-yellow-600":"text-red-600"}`,children:d.status||d.paymentStatus})]})]})]})}),r.jsx("div",{className:"space-y-6",children:r.jsx(S6,{reservation:d,propertyId:d.propertyId,onSibaSent:K=>{console.log("SIBA submitted with ID:",K)}})})]})]})})})]})},u1=()=>{const{bookingId:e}=S0(),[t]=Cd(),s=t.get("propertyId"),a=yi(),[o,l]=q.useState(null),[d,u]=q.useState(!0),[h,g]=q.useState(null),{token:p}=Ot(y=>y.auth);q.useEffect(()=>{(async()=>{if(!e||!s||!p){g("Missing booking ID, property ID, or authentication token"),u(!1);return}try{u(!0),g(null);const k=await fetch(`/api/bookings/detail/${e}?propertyId=${s}`,{headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"}});if(!k.ok)throw new Error(`Failed to fetch booking details: ${k.statusText}`);const S=await k.json();l(S)}catch(k){console.error("Error fetching booking detail:",k),g(k.message||"Failed to fetch booking details")}finally{u(!1)}})()},[e,s,p]);const b=()=>{if(!o)return;const y=window.open("","_blank");if(!y){alert("Please allow popups to download PDF");return}const k=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Booking Detail Report - ${o.id}</title>
        <style>
          @media print {
            body { margin: 0; }
            .no-print { display: none; }
          }
          body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            line-height: 1.6;
            color: #333;
          }
          .header { 
            text-align: center; 
            border-bottom: 2px solid #333; 
            padding-bottom: 15px; 
            margin-bottom: 25px; 
          }
          .header h1 { 
            margin: 0; 
            color: #333; 
            font-size: 24px;
          }
          .header p { 
            margin: 5px 0 0 0; 
            color: #666; 
            font-size: 14px;
          }
          .section { 
            margin-bottom: 25px; 
            page-break-inside: avoid;
          }
          .section h3 { 
            color: #333; 
            border-bottom: 1px solid #ccc; 
            padding-bottom: 8px; 
            margin-bottom: 15px;
            font-size: 18px;
          }
          .info-row { 
            display: flex; 
            justify-content: space-between; 
            margin-bottom: 8px; 
            padding: 5px 0;
          }
          .label { 
            font-weight: bold; 
            color: #333;
            flex: 1;
          }
          .value { 
            color: #666; 
            flex: 1;
            text-align: right;
          }
          .financial { 
            background-color: #f8f9fa; 
            padding: 15px; 
            border-radius: 5px; 
            border: 1px solid #e9ecef;
          }
          .financial .info-row {
            border-bottom: 1px solid #e9ecef;
            padding: 8px 0;
          }
          .financial .info-row:last-child {
            border-bottom: none;
            font-weight: bold;
            font-size: 16px;
            color: #333;
          }
          .special-requests {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #007bff;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>Booking Detail Report</h1>
          <p>Generated on: ${new Date().toLocaleString()}</p>
        </div>
        
        <div class="section">
          <h3>Basic Information</h3>
          <div class="info-row">
            <span class="label">Hostaway Reservation ID:</span>
            <span class="value">${o.hostawayReservationId||o.id||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="label">Channel Reservation ID:</span>
            <span class="value">${o.channelReservationId||o.reservationId||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="label">Property:</span>
            <span class="value">${o.propertyName}</span>
          </div>
          <div class="info-row">
            <span class="label">Guest Name:</span>
            <span class="value">${o.guestName}</span>
          </div>
          <div class="info-row">
            <span class="label">Guest Email:</span>
            <span class="value">${o.guestEmail}</span>
          </div>
          <div class="info-row">
            <span class="label">Guest Phone:</span>
            <span class="value">${o.guestPhone||"Not provided"}</span>
          </div>
        </div>
        
        <div class="section">
          <h3>Dates & Duration</h3>
          <div class="info-row">
            <span class="label">Check-in:</span>
            <span class="value">${new Date(o.arrivalDate).toLocaleDateString()}</span>
          </div>
          <div class="info-row">
            <span class="label">Check-out:</span>
            <span class="value">${new Date(o.departureDate).toLocaleDateString()}</span>
          </div>
          <div class="info-row">
            <span class="label">Total Nights:</span>
            <span class="value">${o.nights}</span>
          </div>
          ${o.checkInTime?`
          <div class="info-row">
            <span class="label">Check-in Time:</span>
            <span class="value">${o.checkInTime}</span>
          </div>
          <div class="info-row">
            <span class="label">Check-out Time:</span>
            <span class="value">${o.checkOutTime}</span>
          </div>
          `:""}
        </div>
        
        <div class="section">
          <h3>Guest Information</h3>
          <div class="info-row">
            <span class="label">Adults:</span>
            <span class="value">${o.adults}</span>
          </div>
          <div class="info-row">
            <span class="label">Children:</span>
            <span class="value">${o.children}</span>
          </div>
          <div class="info-row">
            <span class="label">Total Guests:</span>
            <span class="value">${o.totalGuests}</span>
          </div>
        </div>
        
        <div class="section">
          <h3>Booking Details</h3>
          <div class="info-row">
            <span class="label">Platform:</span>
            <span class="value">${o.provider}</span>
          </div>
          <div class="info-row">
            <span class="label">Status:</span>
            <span class="value">${o.status}</span>
          </div>
          <div class="info-row">
            <span class="label">Payment Status:</span>
            <span class="value">${o.paymentStatus}</span>
          </div>
        </div>
        
        <div class="section">
          <h3>Financial Breakdown</h3>
          <div class="financial">
            <div class="info-row">
              <span class="label">Total Revenue:</span>
              <span class="value">${o.totalPrice?.toFixed(2)}</span>
            </div>
            <div class="info-row" style="background-color: #f8f9fa; padding: 8px; border-radius: 4px;">
              <span class="label" style="font-style: italic;">Note:</span>
              <span class="value" style="font-style: italic;">Final amount - includes all fees (cleaning, city tax, etc.)</span>
            </div>
            ${o.cityTax?`
            <div class="info-row">
              <span class="label">City Tax:</span>
              <span class="value">${o.cityTax?.toFixed(2)}</span>
            </div>
            `:""}
          </div>
        </div>
        
        ${o.specialRequests?`
        <div class="section">
          <h3>Special Requests</h3>
          <div class="special-requests">
            <p>${o.specialRequests}</p>
          </div>
        </div>
        `:""}
        
        <script>
          // Auto-print when window loads
          window.onload = function() {
            setTimeout(function() {
              window.print();
              // Close window after printing
              setTimeout(function() {
                window.close();
              }, 1000);
            }, 500);
          };
        <\/script>
      </body>
      </html>
    `;y.document.write(k),y.document.close()},j=()=>{if(!o)return;const y=`Hostaway Reservation ID,Channel Reservation ID,Property,Guest Name,Guest Email,Guest Phone,Check-in,Check-out,Nights,Adults,Children,Total Revenue (Final Amount),Platform,Status,Payment Status,Check-in Time,Check-out Time,Special Requests
"${o.hostawayReservationId||o.id||"N/A"}","${o.channelReservationId||o.reservationId||"N/A"}","${o.propertyName||"N/A"}","${o.guestName||"N/A"}","${o.guestEmail||"N/A"}","${o.guestPhone||"N/A"}","${o.arrivalDate||"N/A"}","${o.departureDate||"N/A"}","${o.nights||0}","${o.adults||0}","${o.children||0}","${o.totalPrice||0}","${o.provider||"N/A"}","${o.status||"N/A"}","${o.paymentStatus||"N/A"}","${o.checkInTime||"N/A"}","${o.checkOutTime||"N/A"}","${(o.specialRequests||"").replace(/"/g,'""')}"`,k=new Blob([y],{type:"text/csv;charset=utf-8;"}),S=window.URL.createObjectURL(k),C=document.createElement("a");C.href=S,C.download=`booking-${o.id}.csv`,document.body.appendChild(C),C.click(),window.URL.revokeObjectURL(S),document.body.removeChild(C)};return d?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dr,{className:"h-12 w-12 animate-spin text-primary-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading booking details..."})]})}):h?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(jl,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Booking"}),r.jsx("p",{className:"text-gray-600 mb-4",children:h}),r.jsx("button",{onClick:()=>a("/bookings"),className:"btn-primary",children:"Back to Bookings"})]})}):o?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("button",{onClick:()=>a("/bookings"),className:"btn-outline btn-sm mr-4",children:[r.jsx(jd,{className:"h-4 w-4 mr-2"}),"Back to Bookings"]}),r.jsxs("h1",{className:"text-xl font-semibold text-white",children:["Booking Details - ",o.id]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:b,className:"btn-outline btn-sm",children:[r.jsx(_l,{className:"h-4 w-4 mr-2"}),"Print PDF"]}),r.jsxs("button",{onClick:j,className:"btn-primary btn-sm",children:[r.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Download CSV"]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"})}),r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[r.jsx(Dn,{className:"h-4 w-4 text-green-500 mr-2"}),"Hostaway reservation ID"]}),r.jsx("input",{type:"text",value:o.hostawayReservationId||o.id||"N/A",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm font-mono"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[r.jsx(Dn,{className:"h-4 w-4 text-green-500 mr-2"}),"Channel reservation ID"]}),r.jsx("input",{type:"text",value:o.channelReservationId||o.reservationId||"N/A",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm font-mono"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Guest Name"}),r.jsx("p",{className:"text-sm text-gray-900",children:o.guestName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform"}),r.jsx("p",{className:"text-sm text-gray-900 capitalize",children:o.provider})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.status==="confirmed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})]})]})})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Dates & Duration"})}),r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ns,{className:"h-4 w-4 text-gray-400 mr-2"}),r.jsx("p",{className:"text-sm text-gray-900",children:new Date(o.arrivalDate).toLocaleDateString()})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ns,{className:"h-4 w-4 text-gray-400 mr-2"}),r.jsx("p",{className:"text-sm text-gray-900",children:new Date(o.departureDate).toLocaleDateString()})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Nights"}),r.jsx("p",{className:"text-2xl font-bold text-primary-600",children:o.nights})]})]})})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Guest Information"})}),r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Guest Email"}),r.jsx("p",{className:"text-sm text-gray-900",children:o.guestEmail})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Guest Phone"}),r.jsx("p",{className:"text-sm text-gray-900",children:o.guestPhone||"Not provided"})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adults"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(gi,{className:"h-4 w-4 text-gray-400 mr-2"}),r.jsx("p",{className:"text-sm text-gray-900",children:o.adults})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Children"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(gi,{className:"h-4 w-4 text-gray-400 mr-2"}),r.jsx("p",{className:"text-sm text-gray-900",children:o.children})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Guests"}),r.jsx("p",{className:"text-2xl font-bold text-primary-600",children:o.totalGuests})]})]}),o.specialRequests&&r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requests"}),r.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:o.specialRequests})]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[o.currentTaxFormatted&&r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tax Information"})}),r.jsxs("div",{className:"card-content space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Tax"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.currentTaxFormatted})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Tax"}),r.jsx("p",{className:"text-2xl font-bold text-success-600",children:o.estimatedTotalTaxFormatted})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax per Night"}),r.jsx("p",{className:"text-sm text-gray-900",children:o.estimatedTaxPerNightFormatted})]}),r.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Taxable Nights:"}),r.jsx("span",{className:"font-medium",children:o.taxableNights})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Exempt Nights:"}),r.jsx("span",{className:"font-medium",children:o.exemptNights})]})]})]})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Financial Information"})}),r.jsxs("div",{className:"card-content space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Revenue"}),r.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:["",o.totalPrice?.toFixed(2)]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Final amount - includes all fees (cleaning, city tax, etc.)"})]}),o.checkInTime&&r.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Check-in Time:"}),r.jsx("span",{className:"font-medium",children:o.checkInTime})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Check-out Time:"}),r.jsx("span",{className:"font-medium",children:o.checkOutTime})]})]})]})]}),o.taxImplemented!==void 0&&r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tax Status"})}),r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[o.taxImplemented?r.jsx(Dn,{className:"h-5 w-5 text-green-500 mr-2"}):r.jsx(jl,{className:"h-5 w-5 text-yellow-500 mr-2"}),r.jsx("span",{className:"text-sm font-medium",children:o.taxImplemented?"Tax Implemented":"Tax Not Implemented"})]})})]})]})]})})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(jl,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Booking Not Found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The requested booking could not be found."}),r.jsxs("button",{onClick:()=>a("/bookings"),className:"btn-primary",children:[r.jsx(jd,{className:"h-4 w-4 mr-2"}),"Back to Bookings"]})]})})},A6={invoices:[],isLoading:!1,error:null,summary:{totalAmount:0,paidAmount:0,pendingAmount:0,overdueAmount:0}},gd=Pr("invoices/fetchInvoices",async(e,{rejectWithValue:t})=>{try{const{invoicesAPI:s}=await Gi(async()=>{const{invoicesAPI:a}=await import("./invoices.api-dyAh00aR.js");return{invoicesAPI:a}},[]);return await s.getInvoices(e)}catch(s){return t(s.response?.data?.message||"Failed to fetch invoices")}}),iv=Ro({name:"invoices",initialState:A6,reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(gd.pending,t=>{t.isLoading=!0,t.error=null}).addCase(gd.fulfilled,(t,s)=>{t.isLoading=!1;const a=Array.isArray(s.payload)?s.payload:[],o=l=>({392776:"Piece of Heaven",392777:"Lote 16 Pt 1 3-B",392778:"Lote 8 4-B",392779:"Lote 12 4-A",392780:"Lote 16 Pt1 4-B",392781:"Lote 7 3-A",414661:"Waterfront Pool Penthouse View"})[l]||`Property ${l}`;t.invoices=a.map(l=>{const d=parseFloat(l.value||"0");return{id:l.id||"",propertyId:l.propertyId||0,propertyName:o(l.propertyId||0),guestName:l.name||l.guestName||"Unknown Guest",date:l.date||new Date().toISOString(),value:d,valueFormatted:`${d.toFixed(2)}`,vat:0,vatFormatted:"0.00",total:d,totalFormatted:`${d.toFixed(2)}`,status:l.closed?"paid":l.partial?"partial":"pending",invoiceUrl:l.invoice_url||"#",closed:l.closed||!1,partial:l.partial||!1}}),t.summary=t.invoices.reduce((l,d)=>(l.totalAmount+=d.total,d.status==="paid"?l.paidAmount+=d.total:d.status==="pending"||d.status==="partial"?l.pendingAmount+=d.total:d.status==="overdue"&&(l.overdueAmount+=d.total),l),{totalAmount:0,paidAmount:0,pendingAmount:0,overdueAmount:0})}).addCase(gd.rejected,(t,s)=>{t.isLoading=!1,t.error=s.payload})}}),{clearError:DA}=iv.actions,C6=iv.reducer,_6=()=>{const[e,t]=Cd(),[s,a]=q.useState(""),[o,l]=q.useState(!1),[d,u]=q.useState("30d"),h=Ls(),{invoices:g,isLoading:p,summary:b}=Ot(H=>H.invoices),{properties:j}=Ot(H=>H.properties),[y,k]=q.useState(null),[S,C]=q.useState(""),[L,D]=q.useState(""),_=()=>{const H=new Date,K=H.getMonth()===0?11:H.getMonth()-1,V=H.getMonth()===0?H.getFullYear()-1:H.getFullYear(),Z=new Date(V,K,1),pe=new Date(V,K+1,0),we=J=>{const E=J.getFullYear(),R=String(J.getMonth()+1).padStart(2,"0"),G=String(J.getDate()).padStart(2,"0");return`${E}-${R}-${G}`};return{startDate:we(Z),endDate:we(pe)}};q.useEffect(()=>{const H=e.get("propertyId"),K=e.get("startDate"),V=e.get("endDate"),Z=e.get("period");if(H||K||V)k(H?parseInt(H):null),C(K||""),D(V||""),H&&h(gd({propertyId:parseInt(H),startDate:K||void 0,endDate:V||void 0})),Z&&console.log(`Applied ${Z==="thisMonth"?"this month":Z==="lastMonth"?"last month":Z} filters for property ${H}`);else{const pe=_();C(pe.startDate),D(pe.endDate),console.log("Auto-selected last month:",pe)}},[e]),q.useEffect(()=>{if(S&&L&&!y&&j.length>0){const H=j[0];H&&(k(H.id),h(gd({propertyId:H.id,startDate:S,endDate:L})),console.log(`Auto-fetching invoices for property ${H.id} (${H.name}) for last month`))}},[S,L,y,j,h]);const F=()=>{y&&h(gd({propertyId:y,startDate:S||void 0,endDate:L||void 0}))},X=H=>{H.invoiceUrl&&H.invoiceUrl!=="#"?window.open(H.invoiceUrl,"_blank"):alert("Invoice URL not available")},[ue,le]=q.useState(!1),ie=async()=>{if(!y){alert("Please select a property first");return}le(!0);try{const H=localStorage.getItem("token"),K=`/api/invoices/${y}/export?startDate=${S}&endDate=${L}`,V=await fetch(K,{method:"GET",headers:{Authorization:`Bearer ${H}`,Accept:"application/zip"}});if(!V.ok){const R=await V.json();throw new Error(R.message||"Export failed")}const Z=await V.blob(),pe=window.URL.createObjectURL(Z),we=document.createElement("a");we.href=pe;const J=V.headers.get("content-disposition");let E="invoices_export.zip";if(J){const R=J.match(/filename="(.+)"/);R&&(E=R[1])}we.download=E,document.body.appendChild(we),we.click(),document.body.removeChild(we),window.URL.revokeObjectURL(pe),console.log("Export completed successfully")}catch(H){console.error("Export error:",H),alert(`Export failed: ${H.message}`)}finally{le(!1)}};q.useEffect(()=>{j.length>0&&!y&&k(j[0].id)},[j,y]),q.useEffect(()=>{y&&F()},[y]);const ee=H=>new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}).format(H),me=H=>new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),O=g.reduce((H,K)=>{const V=`${K.id}-${K.propertyId}`;return H.has(V)||H.set(V,K),H},new Map).values(),B=Array.from(O);console.log(`[INVOICE DEDUP] Removed ${g.length-B.length} duplicate invoices. Original: ${g.length}, Unique: ${B.length}`);const te=B.filter(H=>{const K=!y||H.propertyId===y;K||console.log(`[INVOICE FILTER] Filtering out invoice ${H.id} from property ${H.propertyId} (selected: ${y})`);const V=H.guestName.toLowerCase().includes(s.toLowerCase())||H.propertyName.toLowerCase().includes(s.toLowerCase())||H.id.toLowerCase().includes(s.toLowerCase());return K&&V});console.log(`[INVOICE FILTER] Final result: ${te.length} invoices for property ${y}`);const re={totalAmount:te.reduce((H,K)=>H+K.total,0),paidAmount:te.filter(H=>H.status==="paid").reduce((H,K)=>H+K.total,0),pendingAmount:te.filter(H=>H.status==="pending").reduce((H,K)=>H+K.total,0),overdueAmount:te.filter(H=>H.status==="overdue").reduce((H,K)=>H+K.total,0)};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50/30",children:[r.jsx("div",{className:"bg-white/95 backdrop-blur-sm border-b border-gray-200/50 shadow-sm",children:r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Invoices"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Manage guest invoices and billing"})]})})})}),r.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl border border-white/30 p-8 shadow-2xl hover:shadow-3xl transition-all duration-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-500 mb-2",children:"Total Amount"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:ee(re.totalAmount)})]}),r.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-lg",children:r.jsx(xa,{className:"h-8 w-8 text-white"})})]})}),r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl border border-white/30 p-8 shadow-2xl hover:shadow-3xl transition-all duration-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-500 mb-2",children:"Paid"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:ee(re.paidAmount)})]}),r.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl shadow-lg",children:r.jsx(Dn,{className:"h-8 w-8 text-white"})})]})}),r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl border border-white/30 p-8 shadow-2xl hover:shadow-3xl transition-all duration-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-500 mb-2",children:"Pending"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:ee(re.pendingAmount)})]}),r.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl shadow-lg",children:r.jsx(Do,{className:"h-8 w-8 text-white"})})]})}),r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl border border-white/30 p-8 shadow-2xl hover:shadow-3xl transition-all duration-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-500 mb-2",children:"Overdue"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:ee(re.overdueAmount)})]}),r.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl shadow-lg",children:r.jsx(En,{className:"h-8 w-8 text-white"})})]})})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl border border-white/30 p-8 shadow-2xl",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[r.jsx("div",{className:"flex-1 max-w-md",children:r.jsxs("div",{className:"relative",children:[r.jsx(O0,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search invoices, guests, properties...",value:s,onChange:H=>a(H.target.value),className:"w-full pl-12 pr-4 py-4 bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#5FFF56] focus:border-[#5FFF56] text-gray-900 placeholder-gray-500 shadow-lg"})]})}),r.jsxs("button",{onClick:()=>l(!o),className:`px-6 py-4 rounded-2xl font-semibold shadow-lg transition-all duration-300 flex items-center gap-2 ${o?"bg-gradient-to-r from-[#5FFF56] to-[#4FEF46] text-white hover:from-[#4FEF46] hover:to-[#5FFF56]":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:[r.jsx(Ru,{className:"w-5 h-5"}),"Filters"]})]}),o&&r.jsxs("div",{className:"mt-8 p-8 bg-gradient-to-r from-gray-50/80 to-white/80 rounded-2xl border border-gray-100/50 shadow-lg",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Property"}),r.jsx(Ba,{properties:j,selectedId:y,onChange:H=>k(H),placeholder:"Select Property"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date Range"}),r.jsxs("select",{value:d,onChange:H=>u(H.target.value),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#5FFF56] focus:border-[#5FFF56] text-gray-900 shadow-lg",children:[r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"90d",children:"Last 90 days"}),r.jsx("option",{value:"1y",children:"Last year"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"From Date"}),r.jsx("input",{type:"date",className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#5FFF56] focus:border-[#5FFF56] text-gray-900 shadow-lg",value:S,onChange:H=>C(H.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"To Date"}),r.jsx("input",{type:"date",className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#5FFF56] focus:border-[#5FFF56] text-gray-900 shadow-lg",value:L,onChange:H=>D(H.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#5FFF56] focus:border-[#5FFF56] text-gray-900 shadow-lg",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"overdue",children:"Overdue"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-6",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Amount Range"}),r.jsxs("select",{className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#5FFF56] focus:border-[#5FFF56] text-gray-900 shadow-lg",children:[r.jsx("option",{value:"",children:"All Amounts"}),r.jsx("option",{value:"0-100",children:"0 - 100"}),r.jsx("option",{value:"100-500",children:"100 - 500"}),r.jsx("option",{value:"500-1000",children:"500 - 1000"}),r.jsx("option",{value:"1000+",children:"1000+"})]})]})}),r.jsxs("div",{className:"flex items-center justify-between mt-8",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:F,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-2xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl flex items-center gap-2",disabled:!y||p,children:[r.jsx(Dr,{className:`w-5 h-5 ${p?"animate-spin":""}`}),p?"Loading...":"Refresh"]}),r.jsx("button",{onClick:ie,disabled:ue||!y,className:"px-6 py-3 bg-gradient-to-r from-[#5FFF56] to-[#4FEF46] text-white rounded-2xl hover:from-[#4FEF46] hover:to-[#5FFF56] transition-all duration-300 font-semibold shadow-lg hover:shadow-xl flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:y?"":"Please select a property first",children:ue?r.jsxs(r.Fragment,{children:[r.jsx(Dr,{className:"w-5 h-5 animate-spin"}),"Exporting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_l,{className:"w-5 h-5"}),"Export"]})})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>l(!1),className:"px-6 py-3 bg-white text-gray-700 border border-gray-200 rounded-2xl hover:bg-gray-50 transition-all duration-300 font-semibold shadow-lg",children:"Clear All"}),r.jsx("button",{onClick:F,className:"px-6 py-3 bg-gradient-to-r from-[#5FFF56] to-[#4FEF46] text-white rounded-2xl hover:from-[#4FEF46] hover:to-[#5FFF56] transition-all duration-300 font-semibold shadow-lg hover:shadow-xl",disabled:!y,children:"Apply Filters"})]})]})]})]}),r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl border border-white/30 shadow-2xl overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:p?r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dr,{className:"h-12 w-12 animate-spin text-[#5FFF56] mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Loading invoices..."})]})}):te.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx(Ki,{className:"h-16 w-16 mx-auto text-gray-400 mb-6"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No invoices found"}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"No invoices are currently available for this property."}),r.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-white border border-gray-200 rounded-2xl p-6 max-w-md mx-auto",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("strong",{children:"Note:"})," Invoices are fetched from the Hostkit API. If you need to create invoices, please use the Hostkit system directly."]})})]}):r.jsxs("table",{className:"w-full table-auto",children:[r.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Invoice"}),r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Guest"}),r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Property"}),r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-8 py-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:te.map((H,K)=>r.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-gray-50 hover:to-white transition-all duration-300 group",children:[r.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:r.jsx(Ki,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-gray-900 text-lg group-hover:text-[#5FFF56] transition-colors",children:H.id}),r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:H.closed?"Closed":"Open"})]})]})}),r.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:r.jsx("p",{className:"font-bold text-gray-900 text-lg",children:H.guestName})}),r.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:r.jsx("p",{className:"font-bold text-gray-900 text-lg",children:H.propertyName})}),r.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ns,{className:"h-5 w-5 text-gray-400 mr-2"}),r.jsx("span",{className:"font-semibold text-gray-900",children:me(H.date)})]})}),r.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:r.jsx("span",{className:"font-bold text-gray-900 text-lg",children:H.valueFormatted})}),r.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-2xl text-sm font-bold shadow-lg ${H.status==="paid"?"bg-green-100 text-green-800":H.status==="pending"?"bg-yellow-100 text-yellow-800":H.status==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:H.status})}),r.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:r.jsx("div",{className:"flex items-center space-x-3",children:r.jsx("button",{onClick:()=>X(H),className:"p-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-2xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl",title:"View Invoice",children:r.jsx(Oa,{className:"w-5 h-5"})})})})]},`${H.id}-${H.propertyId}-${K}`))})]})})})]})]})};function xr(e){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(e)}var xi=Uint8Array,ma=Uint16Array,V0=Int32Array,H0=new xi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),W0=new xi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),h1=new xi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ov=function(e,t){for(var s=new ma(31),a=0;a<31;++a)s[a]=t+=1<<e[a-1];for(var o=new V0(s[30]),a=1;a<30;++a)for(var l=s[a];l<s[a+1];++l)o[l]=l-s[a]<<5|a;return{b:s,r:o}},lv=ov(H0,2),P6=lv.b,i0=lv.r;P6[28]=258,i0[258]=28;var L6=ov(W0,0),f1=L6.r,o0=new ma(32768);for(var Fr=0;Fr<32768;++Fr){var gl=(Fr&43690)>>1|(Fr&21845)<<1;gl=(gl&52428)>>2|(gl&13107)<<2,gl=(gl&61680)>>4|(gl&3855)<<4,o0[Fr]=((gl&65280)>>8|(gl&255)<<8)>>1}var ku=(function(e,t,s){for(var a=e.length,o=0,l=new ma(t);o<a;++o)e[o]&&++l[e[o]-1];var d=new ma(t);for(o=1;o<t;++o)d[o]=d[o-1]+l[o-1]<<1;var u;if(s){u=new ma(1<<t);var h=15-t;for(o=0;o<a;++o)if(e[o])for(var g=o<<4|e[o],p=t-e[o],b=d[e[o]-1]++<<p,j=b|(1<<p)-1;b<=j;++b)u[o0[b]>>h]=g}else for(u=new ma(a),o=0;o<a;++o)e[o]&&(u[o]=o0[d[e[o]-1]++]>>15-e[o]);return u}),xc=new xi(288);for(var Fr=0;Fr<144;++Fr)xc[Fr]=8;for(var Fr=144;Fr<256;++Fr)xc[Fr]=9;for(var Fr=256;Fr<280;++Fr)xc[Fr]=7;for(var Fr=280;Fr<288;++Fr)xc[Fr]=8;var _f=new xi(32);for(var Fr=0;Fr<32;++Fr)_f[Fr]=5;var E6=ku(xc,9,0),D6=ku(_f,5,0),cv=function(e){return(e+7)/8|0},F6=function(e,t,s){return(s==null||s>e.length)&&(s=e.length),new xi(e.subarray(t,s))},Co=function(e,t,s){s<<=t&7;var a=t/8|0;e[a]|=s,e[a+1]|=s>>8},hu=function(e,t,s){s<<=t&7;var a=t/8|0;e[a]|=s,e[a+1]|=s>>8,e[a+2]|=s>>16},up=function(e,t){for(var s=[],a=0;a<e.length;++a)e[a]&&s.push({s:a,f:e[a]});var o=s.length,l=s.slice();if(!o)return{t:uv,l:0};if(o==1){var d=new xi(s[0].s+1);return d[s[0].s]=1,{t:d,l:1}}s.sort(function(X,ue){return X.f-ue.f}),s.push({s:-1,f:25001});var u=s[0],h=s[1],g=0,p=1,b=2;for(s[0]={s:-1,f:u.f+h.f,l:u,r:h};p!=o-1;)u=s[s[g].f<s[b].f?g++:b++],h=s[g!=p&&s[g].f<s[b].f?g++:b++],s[p++]={s:-1,f:u.f+h.f,l:u,r:h};for(var j=l[0].s,a=1;a<o;++a)l[a].s>j&&(j=l[a].s);var y=new ma(j+1),k=l0(s[p-1],y,0);if(k>t){var a=0,S=0,C=k-t,L=1<<C;for(l.sort(function(ue,le){return y[le.s]-y[ue.s]||ue.f-le.f});a<o;++a){var D=l[a].s;if(y[D]>t)S+=L-(1<<k-y[D]),y[D]=t;else break}for(S>>=C;S>0;){var _=l[a].s;y[_]<t?S-=1<<t-y[_]++-1:++a}for(;a>=0&&S;--a){var F=l[a].s;y[F]==t&&(--y[F],++S)}k=t}return{t:new xi(y),l:k}},l0=function(e,t,s){return e.s==-1?Math.max(l0(e.l,t,s+1),l0(e.r,t,s+1)):t[e.s]=s},m1=function(e){for(var t=e.length;t&&!e[--t];);for(var s=new ma(++t),a=0,o=e[0],l=1,d=function(h){s[a++]=h},u=1;u<=t;++u)if(e[u]==o&&u!=t)++l;else{if(!o&&l>2){for(;l>138;l-=138)d(32754);l>2&&(d(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(d(o),--l;l>6;l-=6)d(8304);l>2&&(d(l-3<<5|8208),l=0)}for(;l--;)d(o);l=1,o=e[u]}return{c:s.subarray(0,a),n:t}},fu=function(e,t){for(var s=0,a=0;a<t.length;++a)s+=e[a]*t[a];return s},dv=function(e,t,s){var a=s.length,o=cv(t+2);e[o]=a&255,e[o+1]=a>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var l=0;l<a;++l)e[o+l+4]=s[l];return(o+4+a)*8},p1=function(e,t,s,a,o,l,d,u,h,g,p){Co(t,p++,s),++o[256];for(var b=up(o,15),j=b.t,y=b.l,k=up(l,15),S=k.t,C=k.l,L=m1(j),D=L.c,_=L.n,F=m1(S),X=F.c,ue=F.n,le=new ma(19),ie=0;ie<D.length;++ie)++le[D[ie]&31];for(var ie=0;ie<X.length;++ie)++le[X[ie]&31];for(var ee=up(le,7),me=ee.t,O=ee.l,B=19;B>4&&!me[h1[B-1]];--B);var te=g+5<<3,re=fu(o,xc)+fu(l,_f)+d,H=fu(o,j)+fu(l,S)+d+14+3*B+fu(le,me)+2*le[16]+3*le[17]+7*le[18];if(h>=0&&te<=re&&te<=H)return dv(t,p,e.subarray(h,h+g));var K,V,Z,pe;if(Co(t,p,1+(H<re)),p+=2,H<re){K=ku(j,y,0),V=j,Z=ku(S,C,0),pe=S;var we=ku(me,O,0);Co(t,p,_-257),Co(t,p+5,ue-1),Co(t,p+10,B-4),p+=14;for(var ie=0;ie<B;++ie)Co(t,p+3*ie,me[h1[ie]]);p+=3*B;for(var J=[D,X],E=0;E<2;++E)for(var R=J[E],ie=0;ie<R.length;++ie){var G=R[ie]&31;Co(t,p,we[G]),p+=me[G],G>15&&(Co(t,p,R[ie]>>5&127),p+=R[ie]>>12)}}else K=E6,V=xc,Z=D6,pe=_f;for(var ie=0;ie<u;++ie){var oe=a[ie];if(oe>255){var G=oe>>18&31;hu(t,p,K[G+257]),p+=V[G+257],G>7&&(Co(t,p,oe>>23&31),p+=H0[G]);var $=oe&31;hu(t,p,Z[$]),p+=pe[$],$>3&&(hu(t,p,oe>>5&8191),p+=W0[$])}else hu(t,p,K[oe]),p+=V[oe]}return hu(t,p,K[256]),p+V[256]},I6=new V0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uv=new xi(0),T6=function(e,t,s,a,o,l){var d=l.z||e.length,u=new xi(a+d+5*(1+Math.ceil(d/7e3))+o),h=u.subarray(a,u.length-o),g=l.l,p=(l.r||0)&7;if(t){p&&(h[0]=l.r>>3);for(var b=I6[t-1],j=b>>13,y=b&8191,k=(1<<s)-1,S=l.p||new ma(32768),C=l.h||new ma(k+1),L=Math.ceil(s/3),D=2*L,_=function(Oe){return(e[Oe]^e[Oe+1]<<L^e[Oe+2]<<D)&k},F=new V0(25e3),X=new ma(288),ue=new ma(32),le=0,ie=0,ee=l.i||0,me=0,O=l.w||0,B=0;ee+2<d;++ee){var te=_(ee),re=ee&32767,H=C[te];if(S[re]=H,C[te]=re,O<=ee){var K=d-ee;if((le>7e3||me>24576)&&(K>423||!g)){p=p1(e,h,0,F,X,ue,ie,me,B,ee-B,p),me=le=ie=0,B=ee;for(var V=0;V<286;++V)X[V]=0;for(var V=0;V<30;++V)ue[V]=0}var Z=2,pe=0,we=y,J=re-H&32767;if(K>2&&te==_(ee-J))for(var E=Math.min(j,K)-1,R=Math.min(32767,ee),G=Math.min(258,K);J<=R&&--we&&re!=H;){if(e[ee+Z]==e[ee+Z-J]){for(var oe=0;oe<G&&e[ee+oe]==e[ee+oe-J];++oe);if(oe>Z){if(Z=oe,pe=J,oe>E)break;for(var $=Math.min(J,oe-2),fe=0,V=0;V<$;++V){var ke=ee-J+V&32767,Se=S[ke],Te=ke-Se&32767;Te>fe&&(fe=Te,H=ke)}}}re=H,H=S[re],J+=re-H&32767}if(pe){F[me++]=268435456|i0[Z]<<18|f1[pe];var ge=i0[Z]&31,De=f1[pe]&31;ie+=H0[ge]+W0[De],++X[257+ge],++ue[De],O=ee+Z,++le}else F[me++]=e[ee],++X[e[ee]]}}for(ee=Math.max(ee,O);ee<d;++ee)F[me++]=e[ee],++X[e[ee]];p=p1(e,h,g,F,X,ue,ie,me,B,ee-B,p),g||(l.r=p&7|h[p/8|0]<<3,p-=7,l.h=C,l.p=S,l.i=ee,l.w=O)}else{for(var ee=l.w||0;ee<d+g;ee+=65535){var Xe=ee+65535;Xe>=d&&(h[p/8|0]=g,Xe=d),p=dv(h,p+1,e.subarray(ee,Xe))}l.i=d}return F6(u,0,a+cv(p)+o)},hv=function(){var e=1,t=0;return{p:function(s){for(var a=e,o=t,l=s.length|0,d=0;d!=l;){for(var u=Math.min(d+2655,l);d<u;++d)o+=a+=s[d];a=(a&65535)+15*(a>>16),o=(o&65535)+15*(o>>16)}e=a,t=o},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},R6=function(e,t,s,a,o){if(!o&&(o={l:1},t.dictionary)){var l=t.dictionary.subarray(-32768),d=new xi(l.length+e.length);d.set(l),d.set(e,l.length),e=d,o.w=l.length}return T6(e,t.level==null?6:t.level,t.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,s,a,o)},fv=function(e,t,s){for(;s;++t)e[t]=s,s>>>=8},O6=function(e,t){var s=t.level,a=s==0?0:s<6?1:s==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var o=hv();o.p(t.dictionary),fv(e,2,o.d())}};function c0(e,t){t||(t={});var s=hv();s.p(e);var a=R6(e,t,t.dictionary?6:2,4);return O6(a,t),fv(a,a.length-4,s.d()),a}var M6=typeof TextDecoder<"u"&&new TextDecoder,B6=0;try{M6.decode(uv,{stream:!0}),B6=1}catch{}function U6(e){if(Array.isArray(e))return e}function z6(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,o,l,d,u=[],h=!0,g=!1;try{if(l=(s=s.call(e)).next,t!==0)for(;!(h=(a=l.call(s)).done)&&(u.push(a.value),u.length!==t);h=!0);}catch(p){g=!0,o=p}finally{try{if(!h&&s.return!=null&&(d=s.return(),Object(d)!==d))return}finally{if(g)throw o}}return u}}function g1(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}function q6(e,t){if(e){if(typeof e=="string")return g1(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?g1(e,t):void 0}}function $6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x1(e,t){return U6(e)||z6(e,t)||q6(e,t)||$6()}function y1(e,t="utf8"){return new TextDecoder(t).decode(e)}const V6=new TextEncoder;function H6(e){return V6.encode(e)}const W6=1024*8,G6=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),hp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class G0{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=W6,s={}){let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const o=s.offset?s.offset>>>0:0,l=t.byteLength-o;let d=o;(ArrayBuffer.isView(t)||t instanceof G0)&&(t.byteLength!==t.buffer.byteLength&&(d=t.byteOffset+o),t=t.buffer),a?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=t,this.length=l,this.byteLength=l,this.byteOffset=d,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,d,l),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,o=new Uint8Array(a);o.set(new Uint8Array(this.buffer)),this.buffer=o.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,s){const a=hp[s].BYTES_PER_ELEMENT*t,o=this.byteOffset+this.offset,l=this.buffer.slice(o,o+a);if(this.littleEndian===G6&&s!=="uint8"&&s!=="int8"){const u=new Uint8Array(this.buffer.slice(o,o+a));u.reverse();const h=new hp[s](u.buffer);return this.offset+=a,h.reverse(),h}const d=new hp[s](l);return this.offset+=a,d}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let s="";for(let a=0;a<t;a++)s+=this.readChar();return s}readUtf8(t=1){return y1(this.readBytes(t))}decodeText(t=1,s="utf8"){return y1(this.readBytes(t),s)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let s=0;s<t.length;s++)this._data.setUint8(this.offset++,t[s]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let s=0;s<t.length;s++)this.writeUint8(t.charCodeAt(s));return this}writeUtf8(t){return this.writeBytes(H6(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ed(e){let t=e.length;for(;--t>=0;)e[t]=0}const K6=3,Y6=258,mv=29,J6=256,Q6=J6+1+mv,pv=30,X6=512,Z6=new Array((Q6+2)*2);Ed(Z6);const eS=new Array(pv*2);Ed(eS);const tS=new Array(X6);Ed(tS);const rS=new Array(Y6-K6+1);Ed(rS);const sS=new Array(mv);Ed(sS);const nS=new Array(pv);Ed(nS);const aS=(e,t,s,a)=>{let o=e&65535|0,l=e>>>16&65535|0,d=0;for(;s!==0;){d=s>2e3?2e3:s,s-=d;do o=o+t[a++]|0,l=l+o|0;while(--d);o%=65521,l%=65521}return o|l<<16|0};var d0=aS;const iS=()=>{let e,t=[];for(var s=0;s<256;s++){e=s;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[s]=e}return t},oS=new Uint32Array(iS()),lS=(e,t,s,a)=>{const o=oS,l=a+s;e^=-1;for(let d=a;d<l;d++)e=e>>>8^o[(e^t[d])&255];return e^-1};var zi=lS,u0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},gv={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const cS=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var dS=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const s=t.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(const a in s)cS(s,a)&&(e[a]=s[a])}}return e},uS=e=>{let t=0;for(let a=0,o=e.length;a<o;a++)t+=e[a].length;const s=new Uint8Array(t);for(let a=0,o=0,l=e.length;a<l;a++){let d=e[a];s.set(d,o),o+=d.length}return s},xv={assign:dS,flattenChunks:uS};let yv=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{yv=!1}const Ou=new Uint8Array(256);for(let e=0;e<256;e++)Ou[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ou[254]=Ou[254]=1;var hS=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,s,a,o,l,d=e.length,u=0;for(o=0;o<d;o++)s=e.charCodeAt(o),(s&64512)===55296&&o+1<d&&(a=e.charCodeAt(o+1),(a&64512)===56320&&(s=65536+(s-55296<<10)+(a-56320),o++)),u+=s<128?1:s<2048?2:s<65536?3:4;for(t=new Uint8Array(u),l=0,o=0;l<u;o++)s=e.charCodeAt(o),(s&64512)===55296&&o+1<d&&(a=e.charCodeAt(o+1),(a&64512)===56320&&(s=65536+(s-55296<<10)+(a-56320),o++)),s<128?t[l++]=s:s<2048?(t[l++]=192|s>>>6,t[l++]=128|s&63):s<65536?(t[l++]=224|s>>>12,t[l++]=128|s>>>6&63,t[l++]=128|s&63):(t[l++]=240|s>>>18,t[l++]=128|s>>>12&63,t[l++]=128|s>>>6&63,t[l++]=128|s&63);return t};const fS=(e,t)=>{if(t<65534&&e.subarray&&yv)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let s="";for(let a=0;a<t;a++)s+=String.fromCharCode(e[a]);return s};var mS=(e,t)=>{const s=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,o;const l=new Array(s*2);for(o=0,a=0;a<s;){let d=e[a++];if(d<128){l[o++]=d;continue}let u=Ou[d];if(u>4){l[o++]=65533,a+=u-1;continue}for(d&=u===2?31:u===3?15:7;u>1&&a<s;)d=d<<6|e[a++]&63,u--;if(u>1){l[o++]=65533;continue}d<65536?l[o++]=d:(d-=65536,l[o++]=55296|d>>10&1023,l[o++]=56320|d&1023)}return fS(l,o)},pS=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let s=t-1;for(;s>=0&&(e[s]&192)===128;)s--;return s<0||s===0?t:s+Ou[e[s]]>t?s:t},h0={string2buf:hS,buf2string:mS,utf8border:pS};function gS(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var xS=gS;const Oh=16209,yS=16191;var vS=function(t,s){let a,o,l,d,u,h,g,p,b,j,y,k,S,C,L,D,_,F,X,ue,le,ie,ee,me;const O=t.state;a=t.next_in,ee=t.input,o=a+(t.avail_in-5),l=t.next_out,me=t.output,d=l-(s-t.avail_out),u=l+(t.avail_out-257),h=O.dmax,g=O.wsize,p=O.whave,b=O.wnext,j=O.window,y=O.hold,k=O.bits,S=O.lencode,C=O.distcode,L=(1<<O.lenbits)-1,D=(1<<O.distbits)-1;e:do{k<15&&(y+=ee[a++]<<k,k+=8,y+=ee[a++]<<k,k+=8),_=S[y&L];t:for(;;){if(F=_>>>24,y>>>=F,k-=F,F=_>>>16&255,F===0)me[l++]=_&65535;else if(F&16){X=_&65535,F&=15,F&&(k<F&&(y+=ee[a++]<<k,k+=8),X+=y&(1<<F)-1,y>>>=F,k-=F),k<15&&(y+=ee[a++]<<k,k+=8,y+=ee[a++]<<k,k+=8),_=C[y&D];r:for(;;){if(F=_>>>24,y>>>=F,k-=F,F=_>>>16&255,F&16){if(ue=_&65535,F&=15,k<F&&(y+=ee[a++]<<k,k+=8,k<F&&(y+=ee[a++]<<k,k+=8)),ue+=y&(1<<F)-1,ue>h){t.msg="invalid distance too far back",O.mode=Oh;break e}if(y>>>=F,k-=F,F=l-d,ue>F){if(F=ue-F,F>p&&O.sane){t.msg="invalid distance too far back",O.mode=Oh;break e}if(le=0,ie=j,b===0){if(le+=g-F,F<X){X-=F;do me[l++]=j[le++];while(--F);le=l-ue,ie=me}}else if(b<F){if(le+=g+b-F,F-=b,F<X){X-=F;do me[l++]=j[le++];while(--F);if(le=0,b<X){F=b,X-=F;do me[l++]=j[le++];while(--F);le=l-ue,ie=me}}}else if(le+=b-F,F<X){X-=F;do me[l++]=j[le++];while(--F);le=l-ue,ie=me}for(;X>2;)me[l++]=ie[le++],me[l++]=ie[le++],me[l++]=ie[le++],X-=3;X&&(me[l++]=ie[le++],X>1&&(me[l++]=ie[le++]))}else{le=l-ue;do me[l++]=me[le++],me[l++]=me[le++],me[l++]=me[le++],X-=3;while(X>2);X&&(me[l++]=me[le++],X>1&&(me[l++]=me[le++]))}}else if((F&64)===0){_=C[(_&65535)+(y&(1<<F)-1)];continue r}else{t.msg="invalid distance code",O.mode=Oh;break e}break}}else if((F&64)===0){_=S[(_&65535)+(y&(1<<F)-1)];continue t}else if(F&32){O.mode=yS;break e}else{t.msg="invalid literal/length code",O.mode=Oh;break e}break}}while(a<o&&l<u);X=k>>3,a-=X,k-=X<<3,y&=(1<<k)-1,t.next_in=a,t.next_out=l,t.avail_in=a<o?5+(o-a):5-(a-o),t.avail_out=l<u?257+(u-l):257-(l-u),O.hold=y,O.bits=k};const od=15,v1=852,b1=592,w1=0,fp=1,N1=2,bS=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),wS=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),NS=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jS=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),SS=(e,t,s,a,o,l,d,u)=>{const h=u.bits;let g=0,p=0,b=0,j=0,y=0,k=0,S=0,C=0,L=0,D=0,_,F,X,ue,le,ie=null,ee;const me=new Uint16Array(od+1),O=new Uint16Array(od+1);let B=null,te,re,H;for(g=0;g<=od;g++)me[g]=0;for(p=0;p<a;p++)me[t[s+p]]++;for(y=h,j=od;j>=1&&me[j]===0;j--);if(y>j&&(y=j),j===0)return o[l++]=1<<24|64<<16|0,o[l++]=1<<24|64<<16|0,u.bits=1,0;for(b=1;b<j&&me[b]===0;b++);for(y<b&&(y=b),C=1,g=1;g<=od;g++)if(C<<=1,C-=me[g],C<0)return-1;if(C>0&&(e===w1||j!==1))return-1;for(O[1]=0,g=1;g<od;g++)O[g+1]=O[g]+me[g];for(p=0;p<a;p++)t[s+p]!==0&&(d[O[t[s+p]]++]=p);if(e===w1?(ie=B=d,ee=20):e===fp?(ie=bS,B=wS,ee=257):(ie=NS,B=jS,ee=0),D=0,p=0,g=b,le=l,k=y,S=0,X=-1,L=1<<y,ue=L-1,e===fp&&L>v1||e===N1&&L>b1)return 1;for(;;){te=g-S,d[p]+1<ee?(re=0,H=d[p]):d[p]>=ee?(re=B[d[p]-ee],H=ie[d[p]-ee]):(re=96,H=0),_=1<<g-S,F=1<<k,b=F;do F-=_,o[le+(D>>S)+F]=te<<24|re<<16|H|0;while(F!==0);for(_=1<<g-1;D&_;)_>>=1;if(_!==0?(D&=_-1,D+=_):D=0,p++,--me[g]===0){if(g===j)break;g=t[s+d[p]]}if(g>y&&(D&ue)!==X){for(S===0&&(S=y),le+=b,k=g-S,C=1<<k;k+S<j&&(C-=me[k+S],!(C<=0));)k++,C<<=1;if(L+=1<<k,e===fp&&L>v1||e===N1&&L>b1)return 1;X=D&ue,o[X]=y<<24|k<<16|le-l|0}}return D!==0&&(o[le+D]=g-S<<24|64<<16|0),u.bits=y,0};var Au=SS;const kS=0,vv=1,bv=2,{Z_FINISH:j1,Z_BLOCK:AS,Z_TREES:Mh,Z_OK:yc,Z_STREAM_END:CS,Z_NEED_DICT:_S,Z_STREAM_ERROR:Ua,Z_DATA_ERROR:wv,Z_MEM_ERROR:Nv,Z_BUF_ERROR:PS,Z_DEFLATED:S1}=gv,Jf=16180,k1=16181,A1=16182,C1=16183,_1=16184,P1=16185,L1=16186,E1=16187,D1=16188,F1=16189,Pf=16190,_o=16191,mp=16192,I1=16193,pp=16194,T1=16195,R1=16196,O1=16197,M1=16198,Bh=16199,Uh=16200,B1=16201,U1=16202,z1=16203,q1=16204,$1=16205,gp=16206,V1=16207,H1=16208,Mr=16209,jv=16210,Sv=16211,LS=852,ES=592,DS=15,FS=DS,W1=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function IS(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Jf||t.mode>Sv?1:0},kv=e=>{if(wc(e))return Ua;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Jf,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(LS),t.distcode=t.distdyn=new Int32Array(ES),t.sane=1,t.back=-1,yc},Av=e=>{if(wc(e))return Ua;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,kv(e)},Cv=(e,t)=>{let s;if(wc(e))return Ua;const a=e.state;return t<0?(s=0,t=-t):(s=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ua:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=s,a.wbits=t,Av(e))},_v=(e,t)=>{if(!e)return Ua;const s=new IS;e.state=s,s.strm=e,s.window=null,s.mode=Jf;const a=Cv(e,t);return a!==yc&&(e.state=null),a},TS=e=>_v(e,FS);let G1=!0,xp,yp;const RS=e=>{if(G1){xp=new Int32Array(512),yp=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Au(vv,e.lens,0,288,xp,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Au(bv,e.lens,0,32,yp,0,e.work,{bits:5}),G1=!1}e.lencode=xp,e.lenbits=9,e.distcode=yp,e.distbits=5},Pv=(e,t,s,a)=>{let o;const l=e.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),a>=l.wsize?(l.window.set(t.subarray(s-l.wsize,s),0),l.wnext=0,l.whave=l.wsize):(o=l.wsize-l.wnext,o>a&&(o=a),l.window.set(t.subarray(s-a,s-a+o),l.wnext),a-=o,a?(l.window.set(t.subarray(s-a,s),0),l.wnext=a,l.whave=l.wsize):(l.wnext+=o,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=o))),0},OS=(e,t)=>{let s,a,o,l,d,u,h,g,p,b,j,y,k,S,C=0,L,D,_,F,X,ue,le,ie;const ee=new Uint8Array(4);let me,O;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wc(e)||!e.output||!e.input&&e.avail_in!==0)return Ua;s=e.state,s.mode===_o&&(s.mode=mp),d=e.next_out,o=e.output,h=e.avail_out,l=e.next_in,a=e.input,u=e.avail_in,g=s.hold,p=s.bits,b=u,j=h,ie=yc;e:for(;;)switch(s.mode){case Jf:if(s.wrap===0){s.mode=mp;break}for(;p<16;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}if(s.wrap&2&&g===35615){s.wbits===0&&(s.wbits=15),s.check=0,ee[0]=g&255,ee[1]=g>>>8&255,s.check=zi(s.check,ee,2,0),g=0,p=0,s.mode=k1;break}if(s.head&&(s.head.done=!1),!(s.wrap&1)||(((g&255)<<8)+(g>>8))%31){e.msg="incorrect header check",s.mode=Mr;break}if((g&15)!==S1){e.msg="unknown compression method",s.mode=Mr;break}if(g>>>=4,p-=4,le=(g&15)+8,s.wbits===0&&(s.wbits=le),le>15||le>s.wbits){e.msg="invalid window size",s.mode=Mr;break}s.dmax=1<<s.wbits,s.flags=0,e.adler=s.check=1,s.mode=g&512?F1:_o,g=0,p=0;break;case k1:for(;p<16;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}if(s.flags=g,(s.flags&255)!==S1){e.msg="unknown compression method",s.mode=Mr;break}if(s.flags&57344){e.msg="unknown header flags set",s.mode=Mr;break}s.head&&(s.head.text=g>>8&1),s.flags&512&&s.wrap&4&&(ee[0]=g&255,ee[1]=g>>>8&255,s.check=zi(s.check,ee,2,0)),g=0,p=0,s.mode=A1;case A1:for(;p<32;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}s.head&&(s.head.time=g),s.flags&512&&s.wrap&4&&(ee[0]=g&255,ee[1]=g>>>8&255,ee[2]=g>>>16&255,ee[3]=g>>>24&255,s.check=zi(s.check,ee,4,0)),g=0,p=0,s.mode=C1;case C1:for(;p<16;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}s.head&&(s.head.xflags=g&255,s.head.os=g>>8),s.flags&512&&s.wrap&4&&(ee[0]=g&255,ee[1]=g>>>8&255,s.check=zi(s.check,ee,2,0)),g=0,p=0,s.mode=_1;case _1:if(s.flags&1024){for(;p<16;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}s.length=g,s.head&&(s.head.extra_len=g),s.flags&512&&s.wrap&4&&(ee[0]=g&255,ee[1]=g>>>8&255,s.check=zi(s.check,ee,2,0)),g=0,p=0}else s.head&&(s.head.extra=null);s.mode=P1;case P1:if(s.flags&1024&&(y=s.length,y>u&&(y=u),y&&(s.head&&(le=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Uint8Array(s.head.extra_len)),s.head.extra.set(a.subarray(l,l+y),le)),s.flags&512&&s.wrap&4&&(s.check=zi(s.check,a,y,l)),u-=y,l+=y,s.length-=y),s.length))break e;s.length=0,s.mode=L1;case L1:if(s.flags&2048){if(u===0)break e;y=0;do le=a[l+y++],s.head&&le&&s.length<65536&&(s.head.name+=String.fromCharCode(le));while(le&&y<u);if(s.flags&512&&s.wrap&4&&(s.check=zi(s.check,a,y,l)),u-=y,l+=y,le)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=E1;case E1:if(s.flags&4096){if(u===0)break e;y=0;do le=a[l+y++],s.head&&le&&s.length<65536&&(s.head.comment+=String.fromCharCode(le));while(le&&y<u);if(s.flags&512&&s.wrap&4&&(s.check=zi(s.check,a,y,l)),u-=y,l+=y,le)break e}else s.head&&(s.head.comment=null);s.mode=D1;case D1:if(s.flags&512){for(;p<16;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}if(s.wrap&4&&g!==(s.check&65535)){e.msg="header crc mismatch",s.mode=Mr;break}g=0,p=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),e.adler=s.check=0,s.mode=_o;break;case F1:for(;p<32;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}e.adler=s.check=W1(g),g=0,p=0,s.mode=Pf;case Pf:if(s.havedict===0)return e.next_out=d,e.avail_out=h,e.next_in=l,e.avail_in=u,s.hold=g,s.bits=p,_S;e.adler=s.check=1,s.mode=_o;case _o:if(t===AS||t===Mh)break e;case mp:if(s.last){g>>>=p&7,p-=p&7,s.mode=gp;break}for(;p<3;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}switch(s.last=g&1,g>>>=1,p-=1,g&3){case 0:s.mode=I1;break;case 1:if(RS(s),s.mode=Bh,t===Mh){g>>>=2,p-=2;break e}break;case 2:s.mode=R1;break;case 3:e.msg="invalid block type",s.mode=Mr}g>>>=2,p-=2;break;case I1:for(g>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}if((g&65535)!==(g>>>16^65535)){e.msg="invalid stored block lengths",s.mode=Mr;break}if(s.length=g&65535,g=0,p=0,s.mode=pp,t===Mh)break e;case pp:s.mode=T1;case T1:if(y=s.length,y){if(y>u&&(y=u),y>h&&(y=h),y===0)break e;o.set(a.subarray(l,l+y),d),u-=y,l+=y,h-=y,d+=y,s.length-=y;break}s.mode=_o;break;case R1:for(;p<14;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}if(s.nlen=(g&31)+257,g>>>=5,p-=5,s.ndist=(g&31)+1,g>>>=5,p-=5,s.ncode=(g&15)+4,g>>>=4,p-=4,s.nlen>286||s.ndist>30){e.msg="too many length or distance symbols",s.mode=Mr;break}s.have=0,s.mode=O1;case O1:for(;s.have<s.ncode;){for(;p<3;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}s.lens[B[s.have++]]=g&7,g>>>=3,p-=3}for(;s.have<19;)s.lens[B[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,me={bits:s.lenbits},ie=Au(kS,s.lens,0,19,s.lencode,0,s.work,me),s.lenbits=me.bits,ie){e.msg="invalid code lengths set",s.mode=Mr;break}s.have=0,s.mode=M1;case M1:for(;s.have<s.nlen+s.ndist;){for(;C=s.lencode[g&(1<<s.lenbits)-1],L=C>>>24,D=C>>>16&255,_=C&65535,!(L<=p);){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}if(_<16)g>>>=L,p-=L,s.lens[s.have++]=_;else{if(_===16){for(O=L+2;p<O;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}if(g>>>=L,p-=L,s.have===0){e.msg="invalid bit length repeat",s.mode=Mr;break}le=s.lens[s.have-1],y=3+(g&3),g>>>=2,p-=2}else if(_===17){for(O=L+3;p<O;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}g>>>=L,p-=L,le=0,y=3+(g&7),g>>>=3,p-=3}else{for(O=L+7;p<O;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}g>>>=L,p-=L,le=0,y=11+(g&127),g>>>=7,p-=7}if(s.have+y>s.nlen+s.ndist){e.msg="invalid bit length repeat",s.mode=Mr;break}for(;y--;)s.lens[s.have++]=le}}if(s.mode===Mr)break;if(s.lens[256]===0){e.msg="invalid code -- missing end-of-block",s.mode=Mr;break}if(s.lenbits=9,me={bits:s.lenbits},ie=Au(vv,s.lens,0,s.nlen,s.lencode,0,s.work,me),s.lenbits=me.bits,ie){e.msg="invalid literal/lengths set",s.mode=Mr;break}if(s.distbits=6,s.distcode=s.distdyn,me={bits:s.distbits},ie=Au(bv,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,me),s.distbits=me.bits,ie){e.msg="invalid distances set",s.mode=Mr;break}if(s.mode=Bh,t===Mh)break e;case Bh:s.mode=Uh;case Uh:if(u>=6&&h>=258){e.next_out=d,e.avail_out=h,e.next_in=l,e.avail_in=u,s.hold=g,s.bits=p,vS(e,j),d=e.next_out,o=e.output,h=e.avail_out,l=e.next_in,a=e.input,u=e.avail_in,g=s.hold,p=s.bits,s.mode===_o&&(s.back=-1);break}for(s.back=0;C=s.lencode[g&(1<<s.lenbits)-1],L=C>>>24,D=C>>>16&255,_=C&65535,!(L<=p);){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}if(D&&(D&240)===0){for(F=L,X=D,ue=_;C=s.lencode[ue+((g&(1<<F+X)-1)>>F)],L=C>>>24,D=C>>>16&255,_=C&65535,!(F+L<=p);){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}g>>>=F,p-=F,s.back+=F}if(g>>>=L,p-=L,s.back+=L,s.length=_,D===0){s.mode=$1;break}if(D&32){s.back=-1,s.mode=_o;break}if(D&64){e.msg="invalid literal/length code",s.mode=Mr;break}s.extra=D&15,s.mode=B1;case B1:if(s.extra){for(O=s.extra;p<O;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}s.length+=g&(1<<s.extra)-1,g>>>=s.extra,p-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=U1;case U1:for(;C=s.distcode[g&(1<<s.distbits)-1],L=C>>>24,D=C>>>16&255,_=C&65535,!(L<=p);){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}if((D&240)===0){for(F=L,X=D,ue=_;C=s.distcode[ue+((g&(1<<F+X)-1)>>F)],L=C>>>24,D=C>>>16&255,_=C&65535,!(F+L<=p);){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}g>>>=F,p-=F,s.back+=F}if(g>>>=L,p-=L,s.back+=L,D&64){e.msg="invalid distance code",s.mode=Mr;break}s.offset=_,s.extra=D&15,s.mode=z1;case z1:if(s.extra){for(O=s.extra;p<O;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}s.offset+=g&(1<<s.extra)-1,g>>>=s.extra,p-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){e.msg="invalid distance too far back",s.mode=Mr;break}s.mode=q1;case q1:if(h===0)break e;if(y=j-h,s.offset>y){if(y=s.offset-y,y>s.whave&&s.sane){e.msg="invalid distance too far back",s.mode=Mr;break}y>s.wnext?(y-=s.wnext,k=s.wsize-y):k=s.wnext-y,y>s.length&&(y=s.length),S=s.window}else S=o,k=d-s.offset,y=s.length;y>h&&(y=h),h-=y,s.length-=y;do o[d++]=S[k++];while(--y);s.length===0&&(s.mode=Uh);break;case $1:if(h===0)break e;o[d++]=s.length,h--,s.mode=Uh;break;case gp:if(s.wrap){for(;p<32;){if(u===0)break e;u--,g|=a[l++]<<p,p+=8}if(j-=h,e.total_out+=j,s.total+=j,s.wrap&4&&j&&(e.adler=s.check=s.flags?zi(s.check,o,j,d-j):d0(s.check,o,j,d-j)),j=h,s.wrap&4&&(s.flags?g:W1(g))!==s.check){e.msg="incorrect data check",s.mode=Mr;break}g=0,p=0}s.mode=V1;case V1:if(s.wrap&&s.flags){for(;p<32;){if(u===0)break e;u--,g+=a[l++]<<p,p+=8}if(s.wrap&4&&g!==(s.total&4294967295)){e.msg="incorrect length check",s.mode=Mr;break}g=0,p=0}s.mode=H1;case H1:ie=CS;break e;case Mr:ie=wv;break e;case jv:return Nv;case Sv:default:return Ua}return e.next_out=d,e.avail_out=h,e.next_in=l,e.avail_in=u,s.hold=g,s.bits=p,(s.wsize||j!==e.avail_out&&s.mode<Mr&&(s.mode<gp||t!==j1))&&Pv(e,e.output,e.next_out,j-e.avail_out),b-=e.avail_in,j-=e.avail_out,e.total_in+=b,e.total_out+=j,s.total+=j,s.wrap&4&&j&&(e.adler=s.check=s.flags?zi(s.check,o,j,e.next_out-j):d0(s.check,o,j,e.next_out-j)),e.data_type=s.bits+(s.last?64:0)+(s.mode===_o?128:0)+(s.mode===Bh||s.mode===pp?256:0),(b===0&&j===0||t===j1)&&ie===yc&&(ie=PS),ie},MS=e=>{if(wc(e))return Ua;let t=e.state;return t.window&&(t.window=null),e.state=null,yc},BS=(e,t)=>{if(wc(e))return Ua;const s=e.state;return(s.wrap&2)===0?Ua:(s.head=t,t.done=!1,yc)},US=(e,t)=>{const s=t.length;let a,o,l;return wc(e)||(a=e.state,a.wrap!==0&&a.mode!==Pf)?Ua:a.mode===Pf&&(o=1,o=d0(o,t,s,0),o!==a.check)?wv:(l=Pv(e,t,s,s),l?(a.mode=jv,Nv):(a.havedict=1,yc))};var zS=Av,qS=Cv,$S=kv,VS=TS,HS=_v,WS=OS,GS=MS,KS=BS,YS=US,JS="pako inflate (from Nodeca project)",Po={inflateReset:zS,inflateReset2:qS,inflateResetKeep:$S,inflateInit:VS,inflateInit2:HS,inflate:WS,inflateEnd:GS,inflateGetHeader:KS,inflateSetDictionary:YS,inflateInfo:JS};function QS(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var XS=QS;const Lv=Object.prototype.toString,{Z_NO_FLUSH:ZS,Z_FINISH:ek,Z_OK:Mu,Z_STREAM_END:vp,Z_NEED_DICT:bp,Z_STREAM_ERROR:tk,Z_DATA_ERROR:K1,Z_MEM_ERROR:rk}=gv;function Wu(e){this.options=xv.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xS,this.strm.avail_out=0;let s=Po.inflateInit2(this.strm,t.windowBits);if(s!==Mu)throw new Error(u0[s]);if(this.header=new XS,Po.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=h0.string2buf(t.dictionary):Lv.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(s=Po.inflateSetDictionary(this.strm,t.dictionary),s!==Mu)))throw new Error(u0[s])}Wu.prototype.push=function(e,t){const s=this.strm,a=this.options.chunkSize,o=this.options.dictionary;let l,d,u;if(this.ended)return!1;for(t===~~t?d=t:d=t===!0?ek:ZS,Lv.call(e)==="[object ArrayBuffer]"?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;;){for(s.avail_out===0&&(s.output=new Uint8Array(a),s.next_out=0,s.avail_out=a),l=Po.inflate(s,d),l===bp&&o&&(l=Po.inflateSetDictionary(s,o),l===Mu?l=Po.inflate(s,d):l===K1&&(l=bp));s.avail_in>0&&l===vp&&s.state.wrap>0&&e[s.next_in]!==0;)Po.inflateReset(s),l=Po.inflate(s,d);switch(l){case tk:case K1:case bp:case rk:return this.onEnd(l),this.ended=!0,!1}if(u=s.avail_out,s.next_out&&(s.avail_out===0||l===vp))if(this.options.to==="string"){let h=h0.utf8border(s.output,s.next_out),g=s.next_out-h,p=h0.buf2string(s.output,h);s.next_out=g,s.avail_out=a-g,g&&s.output.set(s.output.subarray(h,h+g),0),this.onData(p)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(!(l===Mu&&u===0)){if(l===vp)return l=Po.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(s.avail_in===0)break}}return!0};Wu.prototype.onData=function(e){this.chunks.push(e)};Wu.prototype.onEnd=function(e){e===Mu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function sk(e,t){const s=new Wu(t);if(s.push(e),s.err)throw s.msg||u0[s.err];return s.result}var nk=Wu,ak=sk,ik={Inflate:nk,inflate:ak};const{Inflate:ok,inflate:lk}=ik;var Y1=ok,ck=lk;const Ev=[];for(let e=0;e<256;e++){let t=e;for(let s=0;s<8;s++)t&1?t=3988292384^t>>>1:t=t>>>1;Ev[e]=t}const J1=4294967295;function dk(e,t,s){let a=e;for(let o=0;o<s;o++)a=Ev[(a^t[o])&255]^a>>>8;return a}function uk(e,t){return(dk(J1,e,t)^J1)>>>0}function Q1(e,t,s){const a=e.readUint32(),o=uk(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(o!==a)throw new Error(`CRC mismatch for chunk ${s}. Expected ${a}, found ${o}`)}function Dv(e,t,s){for(let a=0;a<s;a++)t[a]=e[a]}function Fv(e,t,s,a){let o=0;for(;o<a;o++)t[o]=e[o];for(;o<s;o++)t[o]=e[o]+t[o-a]&255}function Iv(e,t,s,a){let o=0;if(s.length===0)for(;o<a;o++)t[o]=e[o];else for(;o<a;o++)t[o]=e[o]+s[o]&255}function Tv(e,t,s,a,o){let l=0;if(s.length===0){for(;l<o;l++)t[l]=e[l];for(;l<a;l++)t[l]=e[l]+(t[l-o]>>1)&255}else{for(;l<o;l++)t[l]=e[l]+(s[l]>>1)&255;for(;l<a;l++)t[l]=e[l]+(t[l-o]+s[l]>>1)&255}}function Rv(e,t,s,a,o){let l=0;if(s.length===0){for(;l<o;l++)t[l]=e[l];for(;l<a;l++)t[l]=e[l]+t[l-o]&255}else{for(;l<o;l++)t[l]=e[l]+s[l]&255;for(;l<a;l++)t[l]=e[l]+hk(t[l-o],s[l],s[l-o])&255}}function hk(e,t,s){const a=e+t-s,o=Math.abs(a-e),l=Math.abs(a-t),d=Math.abs(a-s);return o<=l&&o<=d?e:l<=d?t:s}function fk(e,t,s,a,o,l){switch(e){case 0:Dv(t,s,o);break;case 1:Fv(t,s,o,l);break;case 2:Iv(t,s,a,o);break;case 3:Tv(t,s,a,o,l);break;case 4:Rv(t,s,a,o,l);break;default:throw new Error(`Unsupported filter: ${e}`)}}const mk=new Uint16Array([255]),pk=new Uint8Array(mk.buffer),gk=pk[0]===255;function xk(e){const{data:t,width:s,height:a,channels:o,depth:l}=e,d=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(l/8)*o,h=new Uint8Array(a*s*u);let g=0;for(let p=0;p<7;p++){const b=d[p],j=Math.ceil((s-b.x)/b.xStep),y=Math.ceil((a-b.y)/b.yStep);if(j<=0||y<=0)continue;const k=j*u,S=new Uint8Array(k);for(let C=0;C<y;C++){const L=t[g++],D=t.subarray(g,g+k);g+=k;const _=new Uint8Array(k);fk(L,D,_,S,k,u),S.set(_);for(let F=0;F<j;F++){const X=b.x+F*b.xStep,ue=b.y+C*b.yStep;if(!(X>=s||ue>=a))for(let le=0;le<u;le++)h[(ue*s+X)*u+le]=_[F*u+le]}}}if(l===16){const p=new Uint16Array(h.buffer);if(gk)for(let b=0;b<p.length;b++)p[b]=yk(p[b]);return p}else return h}function yk(e){return(e&255)<<8|e>>8&255}const vk=new Uint16Array([255]),bk=new Uint8Array(vk.buffer),wk=bk[0]===255,Nk=new Uint8Array(0);function X1(e){const{data:t,width:s,height:a,channels:o,depth:l}=e,d=Math.ceil(l/8)*o,u=Math.ceil(l/8*o*s),h=new Uint8Array(a*u);let g=Nk,p=0,b,j;for(let y=0;y<a;y++){switch(b=t.subarray(p+1,p+1+u),j=h.subarray(y*u,(y+1)*u),t[p]){case 0:Dv(b,j,u);break;case 1:Fv(b,j,u,d);break;case 2:Iv(b,j,g,u);break;case 3:Tv(b,j,g,u,d);break;case 4:Rv(b,j,g,u,d);break;default:throw new Error(`Unsupported filter: ${t[p]}`)}g=j,p+=u+1}if(l===16){const y=new Uint16Array(h.buffer);if(wk)for(let k=0;k<y.length;k++)y[k]=jk(y[k]);return y}else return h}function jk(e){return(e&255)<<8|e>>8&255}const cf=Uint8Array.of(137,80,78,71,13,10,26,10);function Z1(e){if(!Sk(e.readBytes(cf.length)))throw new Error("wrong PNG signature")}function Sk(e){if(e.length<cf.length)return!1;for(let t=0;t<cf.length;t++)if(e[t]!==cf[t])return!1;return!0}const kk="tEXt",Ak=0,Ov=new TextDecoder("latin1");function Ck(e){if(Pk(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const _k=/^[\u0000-\u00FF]*$/;function Pk(e){if(!_k.test(e))throw new Error("invalid latin1 text")}function Lk(e,t,s){const a=Mv(t);e[a]=Ek(t,s-a.length-1)}function Mv(e){for(e.mark();e.readByte()!==Ak;);const t=e.offset;e.reset();const s=Ov.decode(e.readBytes(t-e.offset-1));return e.skip(1),Ck(s),s}function Ek(e,t){return Ov.decode(e.readBytes(t))}const fa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},wp={UNKNOWN:-1,DEFLATE:0},ey={UNKNOWN:-1,ADAPTIVE:0},Np={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},zh={NONE:0,BACKGROUND:1,PREVIOUS:2},jp={SOURCE:0,OVER:1};class Dk extends G0{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,s={}){super(t);const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new Y1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=wp.UNKNOWN,this._filterMethod=ey.UNKNOWN,this._interlaceMethod=Np.UNKNOWN,this._colorType=fa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Z1(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeChunk(t,s)}return this.decodeImage(),this._png}decodeApng(){for(Z1(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(t,s)}return this.decodeApngImage(),this._apng}decodeChunk(t,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case kk:Lk(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?Q1(this,t+4,s):this.skip(4)}decodeApngChunk(t,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,s),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?Q1(this,t+4,s):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Fk(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case fa.GREYSCALE:a=1;break;case fa.TRUECOLOUR:a=3;break;case fa.INDEXED_COLOUR:a=1;break;case fa.GREYSCALE_ALPHA:a=2;break;case fa.TRUECOLOUR_ALPHA:a=4;break;case fa.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==wp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const s=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<s;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const s=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let s=t,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case fa.GREYSCALE:case fa.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let s=0;s<t/2;s++)this._transparency[s]=this.readUint16();break}case fa.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let s=0;for(;s<t;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case fa.UNKNOWN:case fa.GREYSCALE_ALPHA:case fa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const s=Mv(this),a=this.readUint8();if(a!==wp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(t-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:ck(o)}}decodepHYs(){const t=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const s={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=X1({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(a,o,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(t,s,a){switch(t.disposeOp){case zh.NONE:break;case zh.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let l=0;l<this._png.width;l++){const d=(o*t.width+l)*this._png.channels;for(let u=0;u<this._png.channels;u++)a.data[d+u]=0}break;case zh.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,s){const a=1<<this._png.depth,o=(l,d)=>{const u=((l+s.yOffset)*this._png.width+s.xOffset+d)*this._png.channels,h=(l*s.width+d)*this._png.channels;return{index:u,frameIndex:h}};switch(s.blendOp){case jp.SOURCE:for(let l=0;l<s.height;l++)for(let d=0;d<s.width;d++){const{index:u,frameIndex:h}=o(l,d);for(let g=0;g<this._png.channels;g++)t.data[u+g]=s.data[h+g]}break;case jp.OVER:for(let l=0;l<s.height;l++)for(let d=0;d<s.width;d++){const{index:u,frameIndex:h}=o(l,d);for(let g=0;g<this._png.channels;g++){const p=s.data[h+this._png.channels-1]/a,b=g%(this._png.channels-1)===0?1:s.data[h+g],j=Math.floor(p*b+(1-p)*t.data[u+g]);t.data[u+g]+=j}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==ey.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Np.NO_INTERLACE)this._png.data=X1({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Np.ADAM7)this._png.data=xk({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,s=this._frames.at(-1);s?s.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:zh.NONE,blendOp:jp.SOURCE,data:t}),this._inflator=new Y1,this._writingDataChunks=!1}}function Fk(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var ty;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(ty||(ty={}));function Ik(e,t){return new Dk(e,t).decode()}var Rt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Sp(){Rt.console&&typeof Rt.console.log=="function"&&Rt.console.log.apply(Rt.console,arguments)}var Sr={log:Sp,warn:function(e){Rt.console&&(typeof Rt.console.warn=="function"?Rt.console.warn.apply(Rt.console,arguments):Sp.call(null,arguments))},error:function(e){Rt.console&&(typeof Rt.console.error=="function"?Rt.console.error.apply(Rt.console,arguments):Sp(e))}};function kp(e,t,s){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){sc(a.response,t,s)},a.onerror=function(){Sr.error("could not download file")},a.send()}function ry(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function qh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var sc=Rt.saveAs||((typeof window>"u"?"undefined":xr(window))!=="object"||window!==Rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,s){var a=Rt.URL||Rt.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener",typeof e=="string"?(o.href=e,o.origin!==location.origin?ry(o.href)?kp(e,t,s):qh(o,o.target="_blank"):qh(o)):(o.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(o.href)},4e4),setTimeout(function(){qh(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,s){if(t=t||e.name||"download",typeof e=="string")if(ry(e))kp(e,t,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){qh(a)})}else navigator.msSaveOrOpenBlob((function(o,l){return l===void 0?l={autoBom:!1}:xr(l)!=="object"&&(Sr.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o})(e,s),t)}:function(e,t,s,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return kp(e,t,s);var o=e.type==="application/octet-stream",l=/constructor/i.test(Rt.HTMLElement)||Rt.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||o&&l)&&(typeof FileReader>"u"?"undefined":xr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=d?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=p:location=p,a=null},u.readAsDataURL(e)}else{var h=Rt.URL||Rt.webkitURL,g=h.createObjectURL(e);a?a.location=g:location.href=g,a=null,setTimeout(function(){h.revokeObjectURL(g)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Bv(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],a=0;a<s.length;a++){var o=s[a].re,l=s[a].process,d=o.exec(e);d&&(t=l(d),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),g=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),g.length==1&&(g="0"+g),"#"+u+h+g}}var df=Rt.atob.bind(Rt),sy=Rt.btoa.bind(Rt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ap(e,t){var s=e[0],a=e[1],o=e[2],l=e[3];s=un(s,a,o,l,t[0],7,-680876936),l=un(l,s,a,o,t[1],12,-389564586),o=un(o,l,s,a,t[2],17,606105819),a=un(a,o,l,s,t[3],22,-1044525330),s=un(s,a,o,l,t[4],7,-176418897),l=un(l,s,a,o,t[5],12,1200080426),o=un(o,l,s,a,t[6],17,-1473231341),a=un(a,o,l,s,t[7],22,-45705983),s=un(s,a,o,l,t[8],7,1770035416),l=un(l,s,a,o,t[9],12,-1958414417),o=un(o,l,s,a,t[10],17,-42063),a=un(a,o,l,s,t[11],22,-1990404162),s=un(s,a,o,l,t[12],7,1804603682),l=un(l,s,a,o,t[13],12,-40341101),o=un(o,l,s,a,t[14],17,-1502002290),s=hn(s,a=un(a,o,l,s,t[15],22,1236535329),o,l,t[1],5,-165796510),l=hn(l,s,a,o,t[6],9,-1069501632),o=hn(o,l,s,a,t[11],14,643717713),a=hn(a,o,l,s,t[0],20,-373897302),s=hn(s,a,o,l,t[5],5,-701558691),l=hn(l,s,a,o,t[10],9,38016083),o=hn(o,l,s,a,t[15],14,-660478335),a=hn(a,o,l,s,t[4],20,-405537848),s=hn(s,a,o,l,t[9],5,568446438),l=hn(l,s,a,o,t[14],9,-1019803690),o=hn(o,l,s,a,t[3],14,-187363961),a=hn(a,o,l,s,t[8],20,1163531501),s=hn(s,a,o,l,t[13],5,-1444681467),l=hn(l,s,a,o,t[2],9,-51403784),o=hn(o,l,s,a,t[7],14,1735328473),s=fn(s,a=hn(a,o,l,s,t[12],20,-1926607734),o,l,t[5],4,-378558),l=fn(l,s,a,o,t[8],11,-2022574463),o=fn(o,l,s,a,t[11],16,1839030562),a=fn(a,o,l,s,t[14],23,-35309556),s=fn(s,a,o,l,t[1],4,-1530992060),l=fn(l,s,a,o,t[4],11,1272893353),o=fn(o,l,s,a,t[7],16,-155497632),a=fn(a,o,l,s,t[10],23,-1094730640),s=fn(s,a,o,l,t[13],4,681279174),l=fn(l,s,a,o,t[0],11,-358537222),o=fn(o,l,s,a,t[3],16,-722521979),a=fn(a,o,l,s,t[6],23,76029189),s=fn(s,a,o,l,t[9],4,-640364487),l=fn(l,s,a,o,t[12],11,-421815835),o=fn(o,l,s,a,t[15],16,530742520),s=mn(s,a=fn(a,o,l,s,t[2],23,-995338651),o,l,t[0],6,-198630844),l=mn(l,s,a,o,t[7],10,1126891415),o=mn(o,l,s,a,t[14],15,-1416354905),a=mn(a,o,l,s,t[5],21,-57434055),s=mn(s,a,o,l,t[12],6,1700485571),l=mn(l,s,a,o,t[3],10,-1894986606),o=mn(o,l,s,a,t[10],15,-1051523),a=mn(a,o,l,s,t[1],21,-2054922799),s=mn(s,a,o,l,t[8],6,1873313359),l=mn(l,s,a,o,t[15],10,-30611744),o=mn(o,l,s,a,t[6],15,-1560198380),a=mn(a,o,l,s,t[13],21,1309151649),s=mn(s,a,o,l,t[4],6,-145523070),l=mn(l,s,a,o,t[11],10,-1120210379),o=mn(o,l,s,a,t[2],15,718787259),a=mn(a,o,l,s,t[9],21,-343485551),e[0]=wl(s,e[0]),e[1]=wl(a,e[1]),e[2]=wl(o,e[2]),e[3]=wl(l,e[3])}function Qf(e,t,s,a,o,l){return t=wl(wl(t,e),wl(a,l)),wl(t<<o|t>>>32-o,s)}function un(e,t,s,a,o,l,d){return Qf(t&s|~t&a,e,t,o,l,d)}function hn(e,t,s,a,o,l,d){return Qf(t&a|s&~a,e,t,o,l,d)}function fn(e,t,s,a,o,l,d){return Qf(t^s^a,e,t,o,l,d)}function mn(e,t,s,a,o,l,d){return Qf(s^(t|~a),e,t,o,l,d)}function Uv(e){var t,s=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ap(a,Tk(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(Ap(a,o),t=0;t<16;t++)o[t]=0;return o[14]=8*s,Ap(a,o),a}function Tk(e){var t,s=[];for(t=0;t<64;t+=4)s[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return s}var ny="0123456789abcdef".split("");function Rk(e){for(var t="",s=0;s<4;s++)t+=ny[e>>8*s+4&15]+ny[e>>8*s&15];return t}function Ok(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function f0(e){return Uv(e).map(Ok).join("")}var Mk=(function(e){for(var t=0;t<e.length;t++)e[t]=Rk(e[t]);return e.join("")})(Uv("hello"))!="5d41402abc4b2a76b9719d911017c592";function wl(e,t){if(Mk){var s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function m0(e,t){var s,a,o,l;if(e!==s){for(var d=(o=e,l=1+(256/e.length|0),new Array(l+1).join(o)),u=[],h=0;h<256;h++)u[h]=h;var g=0;for(h=0;h<256;h++){var p=u[h];g=(g+p+d.charCodeAt(h))%256,u[h]=u[g],u[g]=p}s=e,a=u}else u=a;var b=t.length,j=0,y=0,k="";for(h=0;h<b;h++)y=(y+(p=u[j=(j+1)%256]))%256,u[j]=u[y],u[y]=p,d=u[(u[j]+u[y])%256],k+=String.fromCharCode(t.charCodeAt(h)^d);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ay={print:4,modify:8,copy:16,"annot-forms":32};function dd(e,t,s,a){this.v=1,this.r=2;var o=192;e.forEach(function(u){if(ay.perm!==void 0)throw new Error("Invalid permission: "+u);o+=ay[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(t+this.padding).substr(0,32),d=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,d),this.P=-(1+(255^o)),this.encryptionKey=f0(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=m0(this.encryptionKey,this.padding)}function ud(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",s=e.length,a=0;a<s;a++){var o=e.charCodeAt(a);t+=o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?"#"+("0"+o.toString(16)).slice(-2):e[a]}return t}function iy(e){if(xr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(s,a,o){if(o=o||!1,typeof s!="string"||typeof a!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(s)||(t[s]={});var l=Math.random().toString(35);return t[s][l]=[a,!!o],l},this.unsubscribe=function(s){for(var a in t)if(t[a][s])return delete t[a][s],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(s){if(t.hasOwnProperty(s)){var a=Array.prototype.slice.call(arguments,1),o=[];for(var l in t[s]){var d=t[s][l];try{d[0].apply(e,a)}catch(u){Rt.console&&Sr.error("jsPDF PubSub Error",u.message,u)}d[1]&&o.push(l)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Lf(e){if(!(this instanceof Lf))return new Lf(e);var t="opacity,stroke-opacity".split(",");for(var s in e)e.hasOwnProperty(s)&&t.indexOf(s)>=0&&(this[s]=e[s]);this.id="",this.objectNumber=-1}function zv(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function nc(e,t,s,a,o){if(!(this instanceof nc))return new nc(e,t,s,a,o);this.type=e==="axial"?2:3,this.coords=t,this.colors=s,zv.call(this,a,o)}function fd(e,t,s,a,o){if(!(this instanceof fd))return new fd(e,t,s,a,o);this.boundingBox=e,this.xStep=t,this.yStep=s,this.stream="",this.cloneIndex=0,zv.call(this,a,o)}function jt(e){var t,s=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],o=arguments[2],l=arguments[3],d=[],u=1,h=16,g="S",p=null;xr(e=e||{})==="object"&&(s=e.orientation,a=e.unit||a,o=e.format||o,l=e.compress||e.compressPdf||l,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(h=e.floatPrecision),g=e.defaultPathOperation||"S"),d=e.filters||(l===!0?["FlateEncode"]:d),a=a||"mm",s=(""+(s||"P")).toLowerCase();var b=e.putOnlyUsedFonts||!1,j={},y={internal:{},__private__:{}};y.__private__.PubSub=iy;var k="1.3",S=y.__private__.getPdfVersion=function(){return k};y.__private__.setPdfVersion=function(w){k=w};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return C};var L=y.__private__.getPageFormat=function(w){return C[w]};o=o||"a4";var D="compat",_="advanced",F=D;function X(){this.saveGraphicsState(),ce(new kt(ft,0,0,-ft,0,Fs()*ft).toString()+" cm"),this.setFontSize(this.getFontSize()/ft),g="n",F=_}function ue(){this.restoreGraphicsState(),g="S",F=D}var le=y.__private__.combineFontStyleAndFontWeight=function(w,I){if(w=="bold"&&I=="normal"||w=="bold"&&I==400||w=="normal"&&I=="italic"||w=="bold"&&I=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return I&&(w=I==400||I==="normal"?w==="italic"?"italic":"normal":I!=700&&I!=="bold"||w!=="normal"?(I==700?"bold":I)+""+w:"bold"),w};y.advancedAPI=function(w){var I=F===D;return I&&X.call(this),typeof w!="function"||(w(this),I&&ue.call(this)),this},y.compatAPI=function(w){var I=F===_;return I&&ue.call(this),typeof w!="function"||(w(this),I&&X.call(this)),this},y.isAdvancedAPI=function(){return F===_};var ie,ee=function(w){if(F!==_)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},me=y.roundToPrecision=y.__private__.roundToPrecision=function(w,I){var ae=t||I;if(isNaN(w)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(ae).replace(/0+$/,"")};ie=y.hpf=y.__private__.hpf=typeof h=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return me(w,h)}:h==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return me(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return me(w,16)};var O=y.f2=y.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return me(w,2)},B=y.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return me(w,3)},te=y.scale=y.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return F===D?w*ft:F===_?w:void 0},re=function(w){return te((function(I){return F===D?Fs()-I:F===_?I:void 0})(w))};y.__private__.setPrecision=y.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var H,K="00000000000000000000000000000000",V=y.__private__.getFileId=function(){return K},Z=y.__private__.setFileId=function(w){return K=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(zr=new dd(p.userPermissions,p.userPassword,p.ownerPassword,K)),K};y.setFileId=function(w){return Z(w),this},y.getFileId=function(){return V()};var pe=y.__private__.convertDateToPDFDate=function(w){var I=w.getTimezoneOffset(),ae=I<0?"+":"-",xe=Math.floor(Math.abs(I/60)),Ae=Math.abs(I%60),We=[ae,G(xe),"'",G(Ae),"'"].join("");return["D:",w.getFullYear(),G(w.getMonth()+1),G(w.getDate()),G(w.getHours()),G(w.getMinutes()),G(w.getSeconds()),We].join("")},we=y.__private__.convertPDFDateToDate=function(w){var I=parseInt(w.substr(2,4),10),ae=parseInt(w.substr(6,2),10)-1,xe=parseInt(w.substr(8,2),10),Ae=parseInt(w.substr(10,2),10),We=parseInt(w.substr(12,2),10),Ye=parseInt(w.substr(14,2),10);return new Date(I,ae,xe,Ae,We,Ye,0)},J=y.__private__.setCreationDate=function(w){var I;if(w===void 0&&(w=new Date),w instanceof Date)I=pe(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");I=w}return H=I},E=y.__private__.getCreationDate=function(w){var I=H;return w==="jsDate"&&(I=we(H)),I};y.setCreationDate=function(w){return J(w),this},y.getCreationDate=function(w){return E(w)};var R,G=y.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},oe=y.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},$=0,fe=[],ke=[],Se=0,Te=[],ge=[],De=!1,Xe=ke;y.__private__.setCustomOutputDestination=function(w){De=!0,Xe=w};var Oe=function(w){De||(Xe=w)};y.__private__.resetCustomOutputDestination=function(){De=!1,Xe=ke};var ce=y.__private__.out=function(w){return w=w.toString(),Se+=w.length+1,Xe.push(w),Xe},Ht=y.__private__.write=function(w){return ce(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},Et=y.__private__.getArrayBuffer=function(w){for(var I=w.length,ae=new ArrayBuffer(I),xe=new Uint8Array(ae);I--;)xe[I]=w.charCodeAt(I);return ae},Be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Be};var Ue=e.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(w){return Ue=F===_?w/ft:w,this};var Q,de=y.__private__.getFontSize=y.getFontSize=function(){return F===D?Ue:Ue*ft},Ne=e.R2L||!1;y.__private__.setR2L=y.setR2L=function(w){return Ne=w,this},y.__private__.getR2L=y.getR2L=function(){return Ne};var Ce,Me=y.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))Q=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');Q=w}else Q=parseInt(w,10)};y.__private__.getZoomMode=function(){return Q};var Ie,Ve=y.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');Ce=w};y.__private__.getPageMode=function(){return Ce};var at=y.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Ie=w};y.__private__.getLayoutMode=function(){return Ie},y.__private__.setDisplayMode=y.setDisplayMode=function(w,I,ae){return Me(w),at(I),Ve(ae),this};var et={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(w){if(Object.keys(et).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return et[w]},y.__private__.getDocumentProperties=function(){return et},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(w){for(var I in et)et.hasOwnProperty(I)&&w[I]&&(et[I]=w[I]);return this},y.__private__.setDocumentProperty=function(w,I){if(Object.keys(et).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return et[w]=I};var rt,ft,it,er,zt,nt={},St={},Mt=[],ot={},It={},At={},dr={},tr=null,Xt=0,Ft=[],rr=new iy(y),Ni=e.hotfixes||[],js={},ya={},Fn=[],kt=function w(I,ae,xe,Ae,We,Ye){if(!(this instanceof w))return new w(I,ae,xe,Ae,We,Ye);isNaN(I)&&(I=1),isNaN(ae)&&(ae=0),isNaN(xe)&&(xe=0),isNaN(Ae)&&(Ae=1),isNaN(We)&&(We=0),isNaN(Ye)&&(Ye=0),this._matrix=[I,ae,xe,Ae,We,Ye]};Object.defineProperty(kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),kt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ie).join(w)},kt.prototype.multiply=function(w){var I=w.sx*this.sx+w.shy*this.shx,ae=w.sx*this.shy+w.shy*this.sy,xe=w.shx*this.sx+w.sy*this.shx,Ae=w.shx*this.shy+w.sy*this.sy,We=w.tx*this.sx+w.ty*this.shx+this.tx,Ye=w.tx*this.shy+w.ty*this.sy+this.ty;return new kt(I,ae,xe,Ae,We,Ye)},kt.prototype.decompose=function(){var w=this.sx,I=this.shy,ae=this.shx,xe=this.sy,Ae=this.tx,We=this.ty,Ye=Math.sqrt(w*w+I*I),ht=(w/=Ye)*ae+(I/=Ye)*xe;ae-=w*ht,xe-=I*ht;var pt=Math.sqrt(ae*ae+xe*xe);return ht/=pt,w*(xe/=pt)<I*(ae/=pt)&&(w=-w,I=-I,ht=-ht,Ye=-Ye),{scale:new kt(Ye,0,0,pt,0,0),translate:new kt(1,0,0,1,Ae,We),rotate:new kt(w,I,-I,w,0,0),skew:new kt(1,0,ht,1,0,0)}},kt.prototype.toString=function(w){return this.join(" ")},kt.prototype.inversed=function(){var w=this.sx,I=this.shy,ae=this.shx,xe=this.sy,Ae=this.tx,We=this.ty,Ye=1/(w*xe-I*ae),ht=xe*Ye,pt=-I*Ye,Ct=-ae*Ye,Bt=w*Ye;return new kt(ht,pt,Ct,Bt,-ht*Ae-Ct*We,-pt*Ae-Bt*We)},kt.prototype.applyToPoint=function(w){var I=w.x*this.sx+w.y*this.shx+this.tx,ae=w.x*this.shy+w.y*this.sy+this.ty;return new Sa(I,ae)},kt.prototype.applyToRectangle=function(w){var I=this.applyToPoint(w),ae=this.applyToPoint(new Sa(w.x+w.w,w.y+w.h));return new oo(I.x,I.y,ae.x-I.x,ae.y-I.y)},kt.prototype.clone=function(){var w=this.sx,I=this.shy,ae=this.shx,xe=this.sy,Ae=this.tx,We=this.ty;return new kt(w,I,ae,xe,Ae,We)},y.Matrix=kt;var gn=y.matrixMult=function(w,I){return I.multiply(w)},Xn=new kt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Xn;var Es=function(w,I){if(!It[w]){var ae=(I instanceof nc?"Sh":"P")+(Object.keys(ot).length+1).toString(10);I.id=ae,It[w]=ae,ot[ae]=I,rr.publish("addPattern",I)}};y.ShadingPattern=nc,y.TilingPattern=fd,y.addShadingPattern=function(w,I){return ee("addShadingPattern()"),Es(w,I),this},y.beginTilingPattern=function(w){ee("beginTilingPattern()"),Mn(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},y.endTilingPattern=function(w,I){ee("endTilingPattern()"),I.stream=ge[R].join(`
`),Es(w,I),rr.publish("endTilingPattern",I),Fn.pop().restore()};var In,yr=y.__private__.newObject=function(){var w=Ur();return Yr(w,!0),w},Ur=y.__private__.newObjectDeferred=function(){return $++,fe[$]=function(){return Se},$},Yr=function(w,I){return I=typeof I=="boolean"&&I,fe[w]=Se,I&&ce(w+" 0 obj"),w},za=y.__private__.newAdditionalObject=function(){var w={objId:Ur(),content:""};return Te.push(w),w},ji=Ur(),Zn=Ur(),va=y.__private__.decodeColorString=function(w){var I=w.split(" ");if(I.length!==2||I[1]!=="g"&&I[1]!=="G")I.length!==5||I[4]!=="k"&&I[4]!=="K"||(I=[(1-I[0])*(1-I[3]),(1-I[1])*(1-I[3]),(1-I[2])*(1-I[3]),"r"]);else{var ae=parseFloat(I[0]);I=[ae,ae,ae,"r"]}for(var xe="#",Ae=0;Ae<3;Ae++)xe+=("0"+Math.floor(255*parseFloat(I[Ae])).toString(16)).slice(-2);return xe},Ss=y.__private__.encodeColorString=function(w){var I;typeof w=="string"&&(w={ch1:w});var ae=w.ch1,xe=w.ch2,Ae=w.ch3,We=w.ch4,Ye=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var ht=new Bv(ae);if(ht.ok)ae=ht.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var pt=parseInt(ae.substr(1),16);ae=pt>>16&255,xe=pt>>8&255,Ae=255&pt}if(xe===void 0||We===void 0&&ae===xe&&xe===Ae)I=typeof ae=="string"?ae+" "+Ye[0]:w.precision===2?O(ae/255)+" "+Ye[0]:B(ae/255)+" "+Ye[0];else if(We===void 0||xr(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return["1.","1.","1.",Ye[1]].join(" ");I=typeof ae=="string"?[ae,xe,Ae,Ye[1]].join(" "):w.precision===2?[O(ae/255),O(xe/255),O(Ae/255),Ye[1]].join(" "):[B(ae/255),B(xe/255),B(Ae/255),Ye[1]].join(" ")}else I=typeof ae=="string"?[ae,xe,Ae,We,Ye[2]].join(" "):w.precision===2?[O(ae),O(xe),O(Ae),O(We),Ye[2]].join(" "):[B(ae),B(xe),B(Ae),B(We),Ye[2]].join(" ");return I},Tn=y.__private__.getFilters=function(){return d},xn=y.__private__.putStream=function(w){var I=(w=w||{}).data||"",ae=w.filters||Tn(),xe=w.alreadyAppliedFilters||[],Ae=w.addLength1||!1,We=I.length,Ye=w.objectId,ht=function(ns){return ns};if(p!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ht=zr.encryptor(Ye,0));var pt={};ae===!0&&(ae=["FlateEncode"]);var Ct=w.additionalKeyValues||[],Bt=(pt=jt.API.processDataByFilters!==void 0?jt.API.processDataByFilters(I,ae):{data:I,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(pt.data.length!==0&&(Ct.push({key:"Length",value:pt.data.length}),Ae===!0&&Ct.push({key:"Length1",value:We})),Bt.length!=0)if(Bt.split("/").length-1==1)Ct.push({key:"Filter",value:Bt});else{Ct.push({key:"Filter",value:"["+Bt+"]"});for(var sr=0;sr<Ct.length;sr+=1)if(Ct[sr].key==="DecodeParms"){for(var Lr=[],Qr=0;Qr<pt.reverseChain.split("/").length-1;Qr+=1)Lr.push("null");Lr.push(Ct[sr].value),Ct[sr].value="["+Lr.join(" ")+"]"}}ce("<<");for(var or=0;or<Ct.length;or++)ce("/"+Ct[or].key+" "+Ct[or].value);ce(">>"),pt.data.length!==0&&(ce("stream"),ce(ht(pt.data)),ce("endstream"))},Qi=y.__private__.putPage=function(w){var I=w.number,ae=w.data,xe=w.objId,Ae=w.contentsObjId;Yr(xe,!0),ce("<</Type /Page"),ce("/Parent "+w.rootDictionaryObjId+" 0 R"),ce("/Resources "+w.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(ie(w.mediaBox.bottomLeftX))+" "+parseFloat(ie(w.mediaBox.bottomLeftY))+" "+ie(w.mediaBox.topRightX)+" "+ie(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&ce("/CropBox ["+ie(w.cropBox.bottomLeftX)+" "+ie(w.cropBox.bottomLeftY)+" "+ie(w.cropBox.topRightX)+" "+ie(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&ce("/BleedBox ["+ie(w.bleedBox.bottomLeftX)+" "+ie(w.bleedBox.bottomLeftY)+" "+ie(w.bleedBox.topRightX)+" "+ie(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&ce("/TrimBox ["+ie(w.trimBox.bottomLeftX)+" "+ie(w.trimBox.bottomLeftY)+" "+ie(w.trimBox.topRightX)+" "+ie(w.trimBox.topRightY)+"]"),w.artBox!==null&&ce("/ArtBox ["+ie(w.artBox.bottomLeftX)+" "+ie(w.artBox.bottomLeftY)+" "+ie(w.artBox.topRightX)+" "+ie(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&ce("/UserUnit "+w.userUnit),rr.publish("putPage",{objId:xe,pageContext:Ft[I],pageNumber:I,page:ae}),ce("/Contents "+Ae+" 0 R"),ce(">>"),ce("endobj");var We=ae.join(`
`);return F===_&&(We+=`
Q`),Yr(Ae,!0),xn({data:We,filters:Tn(),objectId:Ae}),ce("endobj"),xe},ea=y.__private__.putPages=function(){var w,I,ae=[];for(w=1;w<=Xt;w++)Ft[w].objId=Ur(),Ft[w].contentsObjId=Ur();for(w=1;w<=Xt;w++)ae.push(Qi({number:w,data:ge[w],objId:Ft[w].objId,contentsObjId:Ft[w].contentsObjId,mediaBox:Ft[w].mediaBox,cropBox:Ft[w].cropBox,bleedBox:Ft[w].bleedBox,trimBox:Ft[w].trimBox,artBox:Ft[w].artBox,userUnit:Ft[w].userUnit,rootDictionaryObjId:ji,resourceDictionaryObjId:Zn}));Yr(ji,!0),ce("<</Type /Pages");var xe="/Kids [";for(I=0;I<Xt;I++)xe+=ae[I]+" 0 R ";ce(xe+"]"),ce("/Count "+Xt),ce(">>"),ce("endobj"),rr.publish("postPutPages")},Si=function(w){rr.publish("putFont",{font:w,out:ce,newObject:yr,putStream:xn}),w.isAlreadyPutted!==!0&&(w.objectNumber=yr(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+ud(w.postScriptName)),ce("/Subtype /Type1"),typeof w.encoding=="string"&&ce("/Encoding /"+w.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},Xi=function(w){w.objectNumber=yr();var I=[];I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Form"}),I.push({key:"BBox",value:"["+[ie(w.x),ie(w.y),ie(w.x+w.width),ie(w.y+w.height)].join(" ")+"]"}),I.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var ae=w.pages[1].join(`
`);xn({data:ae,additionalKeyValues:I,objectId:w.objectNumber}),ce("endobj")},Zi=function(w,I){I||(I=21);var ae=yr(),xe=(function(Ye,ht){var pt,Ct=[],Bt=1/(ht-1);for(pt=0;pt<1;pt+=Bt)Ct.push(pt);if(Ct.push(1),Ye[0].offset!=0){var sr={offset:0,color:Ye[0].color};Ye.unshift(sr)}if(Ye[Ye.length-1].offset!=1){var Lr={offset:1,color:Ye[Ye.length-1].color};Ye.push(Lr)}for(var Qr="",or=0,ns=0;ns<Ct.length;ns++){for(pt=Ct[ns];pt>Ye[or+1].offset;)or++;var Xr=Ye[or].offset,ks=(pt-Xr)/(Ye[or+1].offset-Xr),Ga=Ye[or].color,Ci=Ye[or+1].color;Qr+=oe(Math.round((1-ks)*Ga[0]+ks*Ci[0]).toString(16))+oe(Math.round((1-ks)*Ga[1]+ks*Ci[1]).toString(16))+oe(Math.round((1-ks)*Ga[2]+ks*Ci[2]).toString(16))}return Qr.trim()})(w.colors,I),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+I+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xn({data:xe,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),ce("endobj"),w.objectNumber=yr(),ce("<< /ShadingType "+w.type),ce("/ColorSpace /DeviceRGB");var We="/Coords ["+ie(parseFloat(w.coords[0]))+" "+ie(parseFloat(w.coords[1]))+" ";w.type===2?We+=ie(parseFloat(w.coords[2]))+" "+ie(parseFloat(w.coords[3])):We+=ie(parseFloat(w.coords[2]))+" "+ie(parseFloat(w.coords[3]))+" "+ie(parseFloat(w.coords[4]))+" "+ie(parseFloat(w.coords[5])),ce(We+="]"),w.matrix&&ce("/Matrix ["+w.matrix.toString()+"]"),ce("/Function "+ae+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},Oo=function(w,I){var ae=Ur(),xe=yr();I.push({resourcesOid:ae,objectOid:xe}),w.objectNumber=xe;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+w.boundingBox.map(ie).join(" ")+"]"}),Ae.push({key:"XStep",value:ie(w.xStep)}),Ae.push({key:"YStep",value:ie(w.yStep)}),Ae.push({key:"Resources",value:ae+" 0 R"}),w.matrix&&Ae.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),xn({data:w.stream,additionalKeyValues:Ae,objectId:w.objectNumber}),ce("endobj")},Dd=function(w){for(var I in w.objectNumber=yr(),ce("<<"),w)switch(I){case"opacity":ce("/ca "+O(w[I]));break;case"stroke-opacity":ce("/CA "+O(w[I]))}ce(">>"),ce("endobj")},Nr=function(w){Yr(w.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var I in ce("/Font <<"),nt)nt.hasOwnProperty(I)&&(b===!1||b===!0&&j.hasOwnProperty(I))&&ce("/"+I+" "+nt[I].objectNumber+" 0 R");ce(">>")})(),(function(){if(Object.keys(ot).length>0){for(var I in ce("/Shading <<"),ot)ot.hasOwnProperty(I)&&ot[I]instanceof nc&&ot[I].objectNumber>=0&&ce("/"+I+" "+ot[I].objectNumber+" 0 R");rr.publish("putShadingPatternDict"),ce(">>")}})(),(function(I){if(Object.keys(ot).length>0){for(var ae in ce("/Pattern <<"),ot)ot.hasOwnProperty(ae)&&ot[ae]instanceof y.TilingPattern&&ot[ae].objectNumber>=0&&ot[ae].objectNumber<I&&ce("/"+ae+" "+ot[ae].objectNumber+" 0 R");rr.publish("putTilingPatternDict"),ce(">>")}})(w.objectOid),(function(){if(Object.keys(At).length>0){var I;for(I in ce("/ExtGState <<"),At)At.hasOwnProperty(I)&&At[I].objectNumber>=0&&ce("/"+I+" "+At[I].objectNumber+" 0 R");rr.publish("putGStateDict"),ce(">>")}})(),(function(){for(var I in ce("/XObject <<"),js)js.hasOwnProperty(I)&&js[I].objectNumber>=0&&ce("/"+I+" "+js[I].objectNumber+" 0 R");rr.publish("putXobjectDict"),ce(">>")})(),ce(">>"),ce("endobj")},jc=function(w){St[w.fontName]=St[w.fontName]||{},St[w.fontName][w.fontStyle]=w.id},Mo=function(w,I,ae,xe,Ae){var We={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:w,fontName:I,fontStyle:ae,encoding:xe,isStandardFont:Ae||!1,metadata:{}};return rr.publish("addFont",{font:We,instance:this}),nt[We.id]=We,jc(We),We.id},yn=y.__private__.pdfEscape=y.pdfEscape=function(w,I){return(function(ae,xe){var Ae,We,Ye,ht,pt,Ct,Bt,sr,Lr;if(Ye=(xe=xe||{}).sourceEncoding||"Unicode",pt=xe.outputEncoding,(xe.autoencode||pt)&&nt[rt].metadata&&nt[rt].metadata[Ye]&&nt[rt].metadata[Ye].encoding&&(ht=nt[rt].metadata[Ye].encoding,!pt&&nt[rt].encoding&&(pt=nt[rt].encoding),!pt&&ht.codePages&&(pt=ht.codePages[0]),typeof pt=="string"&&(pt=ht[pt]),pt)){for(Bt=!1,Ct=[],Ae=0,We=ae.length;Ae<We;Ae++)(sr=pt[ae.charCodeAt(Ae)])?Ct.push(String.fromCharCode(sr)):Ct.push(ae[Ae]),Ct[Ae].charCodeAt(0)>>8&&(Bt=!0);ae=Ct.join("")}for(Ae=ae.length;Bt===void 0&&Ae!==0;)ae.charCodeAt(Ae-1)>>8&&(Bt=!0),Ae--;if(!Bt)return ae;for(Ct=xe.noBOM?[]:[254,255],Ae=0,We=ae.length;Ae<We;Ae++){if((Lr=(sr=ae.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ct.push(Lr),Ct.push(sr-(Lr<<8))}return String.fromCharCode.apply(void 0,Ct)})(w,I).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ki=y.__private__.beginPage=function(w){ge[++Xt]=[],Ft[Xt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},eo(Xt),Oe(ge[R])},Sc=function(w,I){var ae,xe,Ae;switch(s=I||s,typeof w=="string"&&(ae=L(w.toLowerCase()),Array.isArray(ae)&&(xe=ae[0],Ae=ae[1])),Array.isArray(w)&&(xe=w[0]*ft,Ae=w[1]*ft),isNaN(xe)&&(xe=o[0],Ae=o[1]),(xe>14400||Ae>14400)&&(Sr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Ae=Math.min(14400,Ae)),o=[xe,Ae],s.substr(0,1)){case"l":Ae>xe&&(o=[Ae,xe]);break;case"p":xe>Ae&&(o=[Ae,xe])}ki(o),ao(On),ce(io),Dl!==0&&ce(Dl+" J"),Fl!==0&&ce(Fl+" j"),rr.publish("addPage",{pageNumber:Xt})},Bo=function(w){w>0&&w<=Xt&&(ge.splice(w,1),Ft.splice(w,1),Xt--,R>Xt&&(R=Xt),this.setPage(R))},eo=function(w){w>0&&w<=Xt&&(R=w)},vn=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return ge.length-1},kc=function(w,I,ae){var xe,Ae=void 0;return ae=ae||{},w=w!==void 0?w:nt[rt].fontName,I=I!==void 0?I:nt[rt].fontStyle,xe=w.toLowerCase(),St[xe]!==void 0&&St[xe][I]!==void 0?Ae=St[xe][I]:St[w]!==void 0&&St[w][I]!==void 0?Ae=St[w][I]:ae.disableWarning===!1&&Sr.warn("Unable to look up font label for font '"+w+"', '"+I+"'. Refer to getFontList() for available fonts."),Ae||ae.noFallback||(Ae=St.times[I])==null&&(Ae=St.times.normal),Ae},Ds=y.__private__.putInfo=function(){var w=yr(),I=function(xe){return xe};for(var ae in p!==null&&(I=zr.encryptor(w,0)),ce("<<"),ce("/Producer ("+yn(I("jsPDF "+jt.version))+")"),et)et.hasOwnProperty(ae)&&et[ae]&&ce("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+yn(I(et[ae]))+")");ce("/CreationDate ("+yn(I(H))+")"),ce(">>"),ce("endobj")},Fd=y.__private__.putCatalog=function(w){var I=(w=w||{}).rootDictionaryObjId||ji;switch(yr(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+I+" 0 R"),Q||(Q="fullwidth"),Q){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+Q;ae.substr(ae.length-1)==="%"&&(Q=parseInt(Q)/100),typeof Q=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+O(Q)+"]")}switch(Ie||(Ie="continuous"),Ie){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}Ce&&ce("/PageMode /"+Ce),rr.publish("putCatalog"),ce(">>"),ce("endobj")},Jr=y.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+($+1)),ce("/Root "+$+" 0 R"),ce("/Info "+($-1)+" 0 R"),p!==null&&ce("/Encrypt "+zr.oid+" 0 R"),ce("/ID [ <"+K+"> <"+K+"> ]"),ce(">>")},Ac=y.__private__.putHeader=function(){ce("%PDF-"+k),ce("%")},to=y.__private__.putXRef=function(){var w="0000000000";ce("xref"),ce("0 "+($+1)),ce("0000000000 65535 f ");for(var I=1;I<=$;I++)typeof fe[I]=="function"?ce((w+fe[I]()).slice(-10)+" 00000 n "):fe[I]!==void 0?ce((w+fe[I]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},Rn=y.__private__.buildDocument=function(){var w;$=0,Se=0,ke=[],fe=[],Te=[],ji=Ur(),Zn=Ur(),Oe(ke),rr.publish("buildDocument"),Ac(),ea(),(function(){rr.publish("putAdditionalObjects");for(var ae=0;ae<Te.length;ae++){var xe=Te[ae];Yr(xe.objId,!0),ce(xe.content),ce("endobj")}rr.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var ae in nt)nt.hasOwnProperty(ae)&&(b===!1||b===!0&&j.hasOwnProperty(ae))&&Si(nt[ae])})(),(function(){var ae;for(ae in At)At.hasOwnProperty(ae)&&Dd(At[ae])})(),(function(){for(var ae in js)js.hasOwnProperty(ae)&&Xi(js[ae])})(),(function(ae){var xe;for(xe in ot)ot.hasOwnProperty(xe)&&(ot[xe]instanceof nc?Zi(ot[xe]):ot[xe]instanceof fd&&Oo(ot[xe],ae))})(w),rr.publish("putResources"),w.forEach(Nr),Nr({resourcesOid:Zn,objectOid:Number.MAX_SAFE_INTEGER}),rr.publish("postPutResources"),p!==null&&(zr.oid=yr(),ce("<<"),ce("/Filter /Standard"),ce("/V "+zr.v),ce("/R "+zr.r),ce("/U <"+zr.toHexString(zr.U)+">"),ce("/O <"+zr.toHexString(zr.O)+">"),ce("/P "+zr.P),ce(">>"),ce("endobj")),Ds(),Fd();var I=Se;return to(),Jr(),ce("startxref"),ce(""+I),ce("%%EOF"),Oe(ge[R]),ke.join(`
`)},ta=y.__private__.getBlob=function(w){return new Blob([Et(w)],{type:"application/pdf"})},Qs=y.output=y.__private__.output=(In=function(w,I){switch(typeof(I=I||{})=="string"?I={filename:I}:I.filename=I.filename||"generated.pdf",w){case void 0:return Rn();case"save":y.save(I.filename);break;case"arraybuffer":return Et(Rn());case"blob":return ta(Rn());case"bloburi":case"bloburl":if(Rt.URL!==void 0&&typeof Rt.URL.createObjectURL=="function")return Rt.URL&&Rt.URL.createObjectURL(ta(Rn()))||void 0;Sr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",xe=Rn();try{ae=sy(xe)}catch{ae=sy(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+I.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Rt)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';I.pdfObjectUrl&&(Ae=I.pdfObjectUrl,We="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(I)+");<\/script></body></html>",ht=Rt.open();return ht!==null&&ht.document.write(Ye),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Rt)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(I.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+I.filename+'" width="500px" height="400px" /></body></html>',Ct=Rt.open();if(Ct!==null){Ct.document.write(pt);var Bt=this;Ct.document.documentElement.querySelector("#pdfViewer").onload=function(){Ct.document.title=I.filename,Ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Bt.output("bloburl"))}}return Ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",I)+'"></iframe></body></html>',Lr=Rt.open();if(Lr!==null&&(Lr.document.write(sr),Lr.document.title=I.filename),Lr||typeof safari>"u")return Lr;break;case"datauri":case"dataurl":return Rt.document.location.href=this.output("datauristring",I);default:return null}},In.foo=function(){try{return In.apply(this,arguments)}catch(ae){var w=ae.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var I="Error in function "+w.split(`
`)[0].split("<")[0]+": "+ae.message;if(!Rt.console)throw new Error(I);Rt.console.error(I,ae),Rt.alert&&alert(I)}},In.foo.bar=In,In.foo),ro=function(w){return Array.isArray(Ni)===!0&&Ni.indexOf(w)>-1};switch(a){case"pt":ft=1;break;case"mm":ft=72/25.4;break;case"cm":ft=72/2.54;break;case"in":ft=72;break;case"px":ft=ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":ft=12;break;case"ex":ft=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);ft=a}var zr=null;J(),Z();var so=y.__private__.getPageInfo=y.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[w].objId,pageNumber:w,pageContext:Ft[w]}},Cc=y.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var I in Ft)if(Ft[I].objId===w)break;return so(I)},Pl=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Ft[R].objId,pageNumber:R,pageContext:Ft[R]}};y.addPage=function(){return Sc.apply(this,arguments),this},y.setPage=function(){return eo.apply(this,arguments),Oe.call(this,ge[R]),this},y.insertPage=function(w){return this.addPage(),this.movePage(R,w),this},y.movePage=function(w,I){var ae,xe;if(w>I){ae=ge[w],xe=Ft[w];for(var Ae=w;Ae>I;Ae--)ge[Ae]=ge[Ae-1],Ft[Ae]=Ft[Ae-1];ge[I]=ae,Ft[I]=xe,this.setPage(I)}else if(w<I){ae=ge[w],xe=Ft[w];for(var We=w;We<I;We++)ge[We]=ge[We+1],Ft[We]=Ft[We+1];ge[I]=ae,Ft[I]=xe,this.setPage(I)}return this},y.deletePage=function(){return Bo.apply(this,arguments),this},y.__private__.text=y.text=function(w,I,ae,xe,Ae){var We,Ye,ht,pt,Ct,Bt,sr,Lr,Qr,or=(xe=xe||{}).scope||this;if(typeof w=="number"&&typeof I=="number"&&(typeof ae=="string"||Array.isArray(ae))){var ns=ae;ae=I,I=w,w=ns}if(arguments[3]instanceof kt==0?(ht=arguments[4],pt=arguments[5],xr(sr=arguments[3])==="object"&&sr!==null||(typeof ht=="string"&&(pt=ht,ht=null),typeof sr=="string"&&(pt=sr,sr=null),typeof sr=="number"&&(ht=sr,sr=null),xe={flags:sr,angle:ht,align:pt})):(ee("The transform parameter of text() with a Matrix value"),Qr=Ae),isNaN(I)||isNaN(ae)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return or;var Xr,ks="",Ga=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:Xs,Ci=or.internal.scaleFactor;function Dc(vr){return vr=vr.split("	").join(Array(xe.TabLen||9).join(" ")),yn(vr,sr)}function Fc(vr){for(var br,qr=vr.concat(),$r=[],is=qr.length;is--;)typeof(br=qr.shift())=="string"?$r.push(br):Array.isArray(vr)&&(br.length===1||br[1]===void 0&&br[2]===void 0)?$r.push(br[0]):$r.push([br[0],br[1],br[2]]);return $r}function co(vr,br){var qr;if(typeof vr=="string")qr=br(vr)[0];else if(Array.isArray(vr)){for(var $r,is,_a=vr.concat(),ia=[],Qo=_a.length;Qo--;)typeof($r=_a.shift())=="string"?ia.push(br($r)[0]):Array.isArray($r)&&typeof $r[0]=="string"&&(is=br($r[0],$r[1],$r[2]),ia.push([is[0],is[1],is[2]]));qr=ia}return qr}var aa=!1,Il=!0;if(typeof w=="string")aa=!0;else if(Array.isArray(w)){var _i=w.concat();Ye=[];for(var Pi,ps=_i.length;ps--;)(typeof(Pi=_i.shift())!="string"||Array.isArray(Pi)&&typeof Pi[0]!="string")&&(Il=!1);aa=Il}if(aa===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Ka=Ue/or.internal.scaleFactor,ka=Ka*(Ga-1);switch(xe.baseline){case"bottom":ae-=ka;break;case"top":ae+=Ka-ka;break;case"hanging":ae+=Ka-2*ka;break;case"middle":ae+=Ka/2-ka}if((Bt=xe.maxWidth||0)>0&&(typeof w=="string"?w=or.splitTextToSize(w,Bt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(vr,br){return vr.concat(or.splitTextToSize(br,Bt))},[]))),We={text:w,x:I,y:ae,options:xe,mutex:{pdfEscape:yn,activeFontKey:rt,fonts:nt,activeFontSize:Ue}},rr.publish("preProcessText",We),w=We.text,ht=(xe=We.options).angle,Qr instanceof kt==0&&ht&&typeof ht=="number"){ht*=Math.PI/180,xe.rotationDirection===0&&(ht=-ht),F===_&&(ht=-ht);var Wo=Math.cos(ht),Tl=Math.sin(ht);Qr=new kt(Wo,Tl,-Tl,Wo,0,0)}else ht&&ht instanceof kt&&(Qr=ht);F!==_||Qr||(Qr=Xn),(Ct=xe.charSpace||na)!==void 0&&(ks+=ie(te(Ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Lr=xe.horizontalScale)!==void 0&&(ks+=ie(100*Lr)+` Tz
`),xe.lang;var qs=-1,Ic=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,Go=or.internal.getCurrentPageInfo().pageContext;switch(Ic){case 0:case!1:case"fill":qs=0;break;case 1:case!0:case"stroke":qs=1;break;case 2:case"fillThenStroke":qs=2;break;case 3:case"invisible":qs=3;break;case 4:case"fillAndAddForClipping":qs=4;break;case 5:case"strokeAndAddPathForClipping":qs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qs=6;break;case 7:case"addToPathForClipping":qs=7}var Tc=Go.usedRenderingMode!==void 0?Go.usedRenderingMode:-1;qs!==-1?ks+=qs+` Tr
`:Tc!==-1&&(ks+=`0 Tr
`),qs!==-1&&(Go.usedRenderingMode=qs),pt=xe.align||"left";var as,Zs=Ue*Ga,Ya=or.internal.pageSize.getWidth(),Rl=nt[rt];Ct=xe.charSpace||na,Bt=xe.maxWidth||0,sr=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var Ja=[],uo=function(vr){return or.getStringUnitWidth(vr,{font:Rl,charSpace:Ct,fontSize:Ue,doKerning:!1})*Ue/Ci};if(Object.prototype.toString.call(w)==="[object Array]"){var $s;Ye=Fc(w),pt!=="left"&&(as=Ye.map(uo));var Vs,Li=0;if(pt==="right"){I-=as[0],w=[],ps=Ye.length;for(var Hs=0;Hs<ps;Hs++)Hs===0?(Vs=bn(I),$s=Va(ae)):(Vs=te(Li-as[Hs]),$s=-Zs),w.push([Ye[Hs],Vs,$s]),Li=as[Hs]}else if(pt==="center"){I-=as[0]/2,w=[],ps=Ye.length;for(var Ei=0;Ei<ps;Ei++)Ei===0?(Vs=bn(I),$s=Va(ae)):(Vs=te((Li-as[Ei])/2),$s=-Zs),w.push([Ye[Ei],Vs,$s]),Li=as[Ei]}else if(pt==="left"){w=[],ps=Ye.length;for(var Ol=0;Ol<ps;Ol++)w.push(Ye[Ol])}else if(pt==="justify"&&Rl.encoding==="Identity-H"){w=[],ps=Ye.length,Bt=Bt!==0?Bt:Ya;for(var Di=0,Ir=0;Ir<ps;Ir++)if($s=Ir===0?Va(ae):-Zs,Vs=Ir===0?bn(I):Di,Ir<ps-1){var Rc=te((Bt-as[Ir])/(Ye[Ir].split(" ").length-1)),en=Ye[Ir].split(" ");w.push([en[0]+" ",Vs,$s]),Di=0;for(var tn=1;tn<en.length;tn++){var Ko=(uo(en[tn-1]+" "+en[tn])-uo(en[tn]))*Ci+Rc;tn==en.length-1?w.push([en[tn],Ko,0]):w.push([en[tn]+" ",Ko,0]),Di-=Ko}}else w.push([Ye[Ir],Vs,$s]);w.push(["",Di,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],ps=Ye.length,Bt=Bt!==0?Bt:Ya,Ir=0;Ir<ps;Ir++)$s=Ir===0?Va(ae):-Zs,Vs=Ir===0?bn(I):0,Ir<ps-1?Ja.push(ie(te((Bt-as[Ir])/(Ye[Ir].split(" ").length-1)))):Ja.push(0),w.push([Ye[Ir],Vs,$s])}}(typeof xe.R2L=="boolean"?xe.R2L:Ne)===!0&&(w=co(w,function(vr,br,qr){return[vr.split("").reverse().join(""),br,qr]})),We={text:w,x:I,y:ae,options:xe,mutex:{pdfEscape:yn,activeFontKey:rt,fonts:nt,activeFontSize:Ue}},rr.publish("postProcessText",We),w=We.text,Xr=We.mutex.isHex||!1;var Fi=nt[rt].encoding;Fi!=="WinAnsiEncoding"&&Fi!=="StandardEncoding"||(w=co(w,function(vr,br,qr){return[Dc(vr),br,qr]})),Ye=Fc(w),w=[];for(var Yo,ho,Qa,Xa=Array.isArray(Ye[0])?1:0,Aa="",Jo=function(vr,br,qr){var $r="";return qr instanceof kt?(qr=typeof xe.angle=="number"?gn(qr,new kt(1,0,0,1,vr,br)):gn(new kt(1,0,0,1,vr,br),qr),F===_&&(qr=gn(new kt(1,0,0,-1,0,0),qr)),$r=qr.join(" ")+` Tm
`):$r=ie(vr)+" "+ie(br)+` Td
`,$r},rn=0;rn<Ye.length;rn++){switch(Aa="",Xa){case 1:Qa=(Xr?"<":"(")+Ye[rn][0]+(Xr?">":")"),Yo=parseFloat(Ye[rn][1]),ho=parseFloat(Ye[rn][2]);break;case 0:Qa=(Xr?"<":"(")+Ye[rn]+(Xr?">":")"),Yo=bn(I),ho=Va(ae)}Ja!==void 0&&Ja[rn]!==void 0&&(Aa=Ja[rn]+` Tw
`),rn===0?w.push(Aa+Jo(Yo,ho,Qr)+Qa):Xa===0?w.push(Aa+Qa):Xa===1&&w.push(Aa+Jo(Yo,ho,Qr)+Qa)}w=Xa===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Ca=`BT
/`;return Ca+=rt+" "+Ue+` Tf
`,Ca+=ie(Ue*Ga)+` TL
`,Ca+=sa+`
`,Ca+=ks,Ca+=w,ce(Ca+="ET"),j[rt]=!0,or};var no=y.__private__.clip=y.clip=function(w){return ce(w==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return no("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ce("n"),this};var ba=y.__private__.isValidStyle=function(w){var I=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(I=!0),I};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(w){return ba(w)&&(g=w),this};var Uo=y.__private__.getStyle=y.getStyle=function(w){var I=g;switch(w){case"D":case"S":I="S";break;case"F":I="f";break;case"FD":case"DF":I="B";break;case"f":case"f*":case"B":case"B*":I=w}return I},Zt=y.close=function(){return ce("h"),this};y.stroke=function(){return ce("S"),this},y.fill=function(w){return qa("f",w),this},y.fillEvenOdd=function(w){return qa("f*",w),this},y.fillStroke=function(w){return qa("B",w),this},y.fillStrokeEvenOdd=function(w){return qa("B*",w),this};var qa=function(w,I){xr(I)==="object"?_c(I,w):ce(w)},zo=function(w){w===null||F===_&&w===void 0||(w=Uo(w),ce(w))};function Ll(w,I,ae,xe,Ae){var We=new fd(I||this.boundingBox,ae||this.xStep,xe||this.yStep,this.gState,Ae||this.matrix);We.stream=this.stream;var Ye=w+"$$"+this.cloneIndex+++"$$";return Es(Ye,We),We}var _c=function(w,I){var ae=It[w.key],xe=ot[ae];if(xe instanceof nc)ce("q"),ce(Pc(I)),xe.gState&&y.setGState(xe.gState),ce(w.matrix.toString()+" cm"),ce("/"+ae+" sh"),ce("Q");else if(xe instanceof fd){var Ae=new kt(1,0,0,-1,0,Fs());w.matrix&&(Ae=Ae.multiply(w.matrix||Xn),ae=Ll.call(xe,w.key,w.boundingBox,w.xStep,w.yStep,Ae).id),ce("q"),ce("/Pattern cs"),ce("/"+ae+" scn"),xe.gState&&y.setGState(xe.gState),ce(I),ce("Q")}},Pc=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},qo=y.moveTo=function(w,I){return ce(ie(te(w))+" "+ie(re(I))+" m"),this},$a=y.lineTo=function(w,I){return ce(ie(te(w))+" "+ie(re(I))+" l"),this},ra=y.curveTo=function(w,I,ae,xe,Ae,We){return ce([ie(te(w)),ie(re(I)),ie(te(ae)),ie(re(xe)),ie(te(Ae)),ie(re(We)),"c"].join(" ")),this};y.__private__.line=y.line=function(w,I,ae,xe,Ae){if(isNaN(w)||isNaN(I)||isNaN(ae)||isNaN(xe)||!ba(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return F===D?this.lines([[ae-w,xe-I]],w,I,[1,1],Ae||"S"):this.lines([[ae-w,xe-I]],w,I,[1,1]).stroke()},y.__private__.lines=y.lines=function(w,I,ae,xe,Ae,We){var Ye,ht,pt,Ct,Bt,sr,Lr,Qr,or,ns,Xr,ks;if(typeof w=="number"&&(ks=ae,ae=I,I=w,w=ks),xe=xe||[1,1],We=We||!1,isNaN(I)||isNaN(ae)||!Array.isArray(w)||!Array.isArray(xe)||!ba(Ae)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(qo(I,ae),Ye=xe[0],ht=xe[1],Ct=w.length,ns=I,Xr=ae,pt=0;pt<Ct;pt++)(Bt=w[pt]).length===2?(ns=Bt[0]*Ye+ns,Xr=Bt[1]*ht+Xr,$a(ns,Xr)):(sr=Bt[0]*Ye+ns,Lr=Bt[1]*ht+Xr,Qr=Bt[2]*Ye+ns,or=Bt[3]*ht+Xr,ns=Bt[4]*Ye+ns,Xr=Bt[5]*ht+Xr,ra(sr,Lr,Qr,or,ns,Xr));return We&&Zt(),zo(Ae),this},y.path=function(w){for(var I=0;I<w.length;I++){var ae=w[I],xe=ae.c;switch(ae.op){case"m":qo(xe[0],xe[1]);break;case"l":$a(xe[0],xe[1]);break;case"c":ra.apply(this,xe);break;case"h":Zt()}}return this},y.__private__.rect=y.rect=function(w,I,ae,xe,Ae){if(isNaN(w)||isNaN(I)||isNaN(ae)||isNaN(xe)||!ba(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return F===D&&(xe=-xe),ce([ie(te(w)),ie(re(I)),ie(te(ae)),ie(te(xe)),"re"].join(" ")),zo(Ae),this},y.__private__.triangle=y.triangle=function(w,I,ae,xe,Ae,We,Ye){if(isNaN(w)||isNaN(I)||isNaN(ae)||isNaN(xe)||isNaN(Ae)||isNaN(We)||!ba(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-w,xe-I],[Ae-ae,We-xe],[w-Ae,I-We]],w,I,[1,1],Ye,!0),this},y.__private__.roundedRect=y.roundedRect=function(w,I,ae,xe,Ae,We,Ye){if(isNaN(w)||isNaN(I)||isNaN(ae)||isNaN(xe)||isNaN(Ae)||isNaN(We)||!ba(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*ae),We=Math.min(We,.5*xe),this.lines([[ae-2*Ae,0],[Ae*ht,0,Ae,We-We*ht,Ae,We],[0,xe-2*We],[0,We*ht,-Ae*ht,We,-Ae,We],[2*Ae-ae,0],[-Ae*ht,0,-Ae,-We*ht,-Ae,-We],[0,2*We-xe],[0,-We*ht,Ae*ht,-We,Ae,-We]],w+Ae,I,[1,1],Ye,!0),this},y.__private__.ellipse=y.ellipse=function(w,I,ae,xe,Ae){if(isNaN(w)||isNaN(I)||isNaN(ae)||isNaN(xe)||!ba(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*ae,Ye=4/3*(Math.SQRT2-1)*xe;return qo(w+ae,I),ra(w+ae,I-Ye,w+We,I-xe,w,I-xe),ra(w-We,I-xe,w-ae,I-Ye,w-ae,I),ra(w-ae,I+Ye,w-We,I+xe,w,I+xe),ra(w+We,I+xe,w+ae,I+Ye,w+ae,I),zo(Ae),this},y.__private__.circle=y.circle=function(w,I,ae,xe){if(isNaN(w)||isNaN(I)||isNaN(ae)||!ba(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,I,ae,ae,xe)},y.setFont=function(w,I,ae){return ae&&(I=le(I,ae)),rt=kc(w,I,{disableWarning:!1}),this};var wa=y.__private__.getFont=y.getFont=function(){return nt[kc.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var w,I,ae={};for(w in St)if(St.hasOwnProperty(w))for(I in ae[w]=[],St[w])St[w].hasOwnProperty(I)&&ae[w].push(I);return ae},y.addFont=function(w,I,ae,xe,Ae){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(ae=le(ae,xe)),Mo.call(this,w,I,ae,Ae=Ae||"Identity-H")};var Xs,On=e.lineWidth||.200025,Lt=y.__private__.getLineWidth=y.getLineWidth=function(){return On},ao=y.__private__.setLineWidth=y.setLineWidth=function(w){return On=w,ce(ie(te(w))+" w"),this};y.__private__.setLineDash=jt.API.setLineDash=jt.API.setLineDashPattern=function(w,I){if(w=w||[],I=I||0,isNaN(I)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(ae){return ie(te(ae))}).join(" "),I=ie(te(I)),ce("["+w+"] "+I+" d"),this};var Na=y.__private__.getLineHeight=y.getLineHeight=function(){return Ue*Xs};y.__private__.getLineHeight=y.getLineHeight=function(){return Ue*Xs};var Id=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(Xs=w),this},Lc=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Xs};Id(e.lineHeight);var bn=y.__private__.getHorizontalCoordinate=function(w){return te(w)},Va=y.__private__.getVerticalCoordinate=function(w){return F===_?w:Ft[R].mediaBox.topRightY-Ft[R].mediaBox.bottomLeftY-te(w)},Ec=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(w){return ie(bn(w))},$o=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(w){return ie(Va(w))},io=e.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return va(io)},y.__private__.setStrokeColor=y.setDrawColor=function(w,I,ae,xe){return io=Ss({ch1:w,ch2:I,ch3:ae,ch4:xe,pdfColorType:"draw",precision:2}),ce(io),this};var El=e.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return va(El)},y.__private__.setFillColor=y.setFillColor=function(w,I,ae,xe){return El=Ss({ch1:w,ch2:I,ch3:ae,ch4:xe,pdfColorType:"fill",precision:2}),ce(El),this};var sa=e.textColor||"0 g",ja=y.__private__.getTextColor=y.getTextColor=function(){return va(sa)};y.__private__.setTextColor=y.setTextColor=function(w,I,ae,xe){return sa=Ss({ch1:w,ch2:I,ch3:ae,ch4:xe,pdfColorType:"text",precision:3}),this};var na=e.charSpace,Vo=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(na||0)};y.__private__.setCharSpace=y.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return na=w,this};var Dl=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(w){var I=y.CapJoinStyles[w];if(I===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dl=I,ce(I+" J"),this};var Fl=0;y.__private__.setLineJoin=y.setLineJoin=function(w){var I=y.CapJoinStyles[w];if(I===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fl=I,ce(I+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(ie(te(w))+" M"),this},y.GState=Lf,y.setGState=function(w){(w=typeof w=="string"?At[dr[w]]:Ha(null,w)).equals(tr)||(ce("/"+w.id+" gs"),tr=w)};var Ha=function(w,I){if(!w||!dr[w]){var ae=!1;for(var xe in At)if(At.hasOwnProperty(xe)&&At[xe].equals(I)){ae=!0;break}if(ae)I=At[xe];else{var Ae="GS"+(Object.keys(At).length+1).toString(10);At[Ae]=I,I.id=Ae}return w&&(dr[w]=I.id),rr.publish("addGState",I),I}};y.addGState=function(w,I){return Ha(w,I),this},y.saveGraphicsState=function(){return ce("q"),Mt.push({key:rt,size:Ue,color:sa}),this},y.restoreGraphicsState=function(){ce("Q");var w=Mt.pop();return rt=w.key,Ue=w.size,sa=w.color,tr=null,this},y.setCurrentTransformationMatrix=function(w){return ce(w.toString()+" cm"),this},y.comment=function(w){return ce("#"+w),this};var Sa=function(w,I){var ae=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(We){isNaN(We)||(ae=parseFloat(We))}});var xe=I||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(We){isNaN(We)||(xe=parseFloat(We))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(We){Ae=We.toString()}}),this},oo=function(w,I,ae,xe){Sa.call(this,w,I),this.type="rect";var Ae=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Ye){isNaN(Ye)||(Ae=parseFloat(Ye))}});var We=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(Ye){isNaN(Ye)||(We=parseFloat(Ye))}}),this},lo=function(){this.page=Xt,this.currentPage=R,this.pages=ge.slice(0),this.pagesContext=Ft.slice(0),this.x=it,this.y=er,this.matrix=zt,this.width=Ai(R),this.height=Fs(R),this.outputDestination=Xe,this.id="",this.objectNumber=-1};lo.prototype.restore=function(){Xt=this.page,R=this.currentPage,Ft=this.pagesContext,ge=this.pages,it=this.x,er=this.y,zt=this.matrix,Ho(R,this.width),wn(R,this.height),Xe=this.outputDestination};var Mn=function(w,I,ae,xe,Ae){Fn.push(new lo),Xt=R=0,ge=[],it=w,er=I,zt=Ae,ki([ae,xe])};for(var Wa in y.beginFormObject=function(w,I,ae,xe,Ae){return Mn(w,I,ae,xe,Ae),this},y.endFormObject=function(w){return(function(I){if(ya[I])Fn.pop().restore();else{var ae=new lo,xe="Xo"+(Object.keys(js).length+1).toString(10);ae.id=xe,ya[I]=xe,js[xe]=ae,rr.publish("addFormObject",ae),Fn.pop().restore()}})(w),this},y.doFormObject=function(w,I){var ae=js[ya[w]];return ce("q"),ce(I.toString()+" cm"),ce("/"+ae.id+" Do"),ce("Q"),this},y.getFormObject=function(w){var I=js[ya[w]];return{x:I.x,y:I.y,width:I.width,height:I.height,matrix:I.matrix}},y.save=function(w,I){return w=w||"generated.pdf",(I=I||{}).returnPromise=I.returnPromise||!1,I.returnPromise===!1?(sc(ta(Rn()),w),typeof sc.unload=="function"&&Rt.setTimeout&&setTimeout(sc.unload,911),this):new Promise(function(ae,xe){try{var Ae=sc(ta(Rn()),w);typeof sc.unload=="function"&&Rt.setTimeout&&setTimeout(sc.unload,911),ae(Ae)}catch(We){xe(We.message)}})},jt.API)jt.API.hasOwnProperty(Wa)&&(Wa==="events"&&jt.API.events.length?(function(w,I){var ae,xe,Ae;for(Ae=I.length-1;Ae!==-1;Ae--)ae=I[Ae][0],xe=I[Ae][1],w.subscribe.apply(w,[ae].concat(typeof xe=="function"?[xe]:xe))})(rr,jt.API.events):y[Wa]=jt.API[Wa]);var Ai=y.getPageWidth=function(w){return(Ft[w=w||R].mediaBox.topRightX-Ft[w].mediaBox.bottomLeftX)/ft},Ho=y.setPageWidth=function(w,I){Ft[w].mediaBox.topRightX=I*ft+Ft[w].mediaBox.bottomLeftX},Fs=y.getPageHeight=function(w){return(Ft[w=w||R].mediaBox.topRightY-Ft[w].mediaBox.bottomLeftY)/ft},wn=y.setPageHeight=function(w,I){Ft[w].mediaBox.topRightY=I*ft+Ft[w].mediaBox.bottomLeftY};return y.internal={pdfEscape:yn,getStyle:Uo,getFont:wa,getFontSize:de,getCharSpace:Vo,getTextColor:ja,getLineHeight:Na,getLineHeightFactor:Lc,getLineWidth:Lt,write:Ht,getHorizontalCoordinate:bn,getVerticalCoordinate:Va,getCoordinateString:Ec,getVerticalCoordinateString:$o,collections:{},newObject:yr,newAdditionalObject:za,newObjectDeferred:Ur,newObjectDeferredBegin:Yr,getFilters:Tn,putStream:xn,events:rr,scaleFactor:ft,pageSize:{getWidth:function(){return Ai(R)},setWidth:function(w){Ho(R,w)},getHeight:function(){return Fs(R)},setHeight:function(w){wn(R,w)}},encryptionOptions:p,encryption:zr,getEncryptor:function(w){return p!==null?zr.encryptor(w,0):function(I){return I}},output:Qs,getNumberOfPages:vn,pages:ge,out:ce,f2:O,f3:B,getPageInfo:so,getPageInfoByObjId:Cc,getCurrentPageInfo:Pl,getPDFVersion:S,Point:Sa,Rectangle:oo,Matrix:kt,hasHotfix:ro},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Ai(R)},set:function(w){Ho(R,w)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Fs(R)},set:function(w){wn(R,w)},enumerable:!0,configurable:!0}),(function(w){for(var I=0,ae=Be.length;I<ae;I++){var xe=Mo.call(this,w[I][0],w[I][1],w[I][2],Be[I][3],!0);b===!1&&(j[xe]=!0);var Ae=w[I][0].split("-");jc({id:xe,fontName:Ae[0],fontStyle:Ae[1]||""})}rr.publish("addFonts",{fonts:nt,dictionary:St})}).call(y,Be),rt="F1",Sc(o,s),rr.publish("initialized"),y}dd.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},dd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},dd.prototype.hexToBytes=function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(String.fromCharCode(parseInt(e.substr(s,2),16)));return t.join("")},dd.prototype.processOwnerPassword=function(e,t){return m0(f0(t).substr(0,5),e)},dd.prototype.encryptor=function(e,t){var s=f0(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return m0(s,a)}},Lf.prototype.equals=function(e){var t,s="id,objectNumber,equals";if(!e||xr(e)!==xr(this))return!1;var a=0;for(t in this)if(!(s.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&s.indexOf(t)<0&&a--;return a===0},jt.API={events:[]},jt.version="3.0.2";var ss=jt.API,K0=1,Nc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ld=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$t=function(e){return e.toFixed(2)},xl=function(e){return e.toFixed(5)};ss.__acroform__={};var Qn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},oy=function(e){return e*K0},qi=function(e){var t=new $v,s=yt.internal.getHeight(e)||0,a=yt.internal.getWidth(e)||0;return t.BBox=[0,0,Number($t(a)),Number($t(s))],t},Bk=ss.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Uk=ss.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},zk=ss.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ds=ss.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return zk(e,t-1)},us=ss.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Bk(e,t-1)},hs=ss.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Uk(e,t-1)},qk=ss.__acroform__.calculateCoordinates=function(e,t){var s=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,o=e[0],l=e[1],d=e[2],u=e[3],h={};return h.lowerLeft_X=s(o)||0,h.lowerLeft_Y=a(l+u)||0,h.upperRight_X=s(o+d)||0,h.upperRight_Y=a(l)||0,[Number($t(h.lowerLeft_X)),Number($t(h.lowerLeft_Y)),Number($t(h.upperRight_X)),Number($t(h.upperRight_Y))]},$k=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],s=e._V||e.DV,a=p0(e,s),o=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+o+" "+$t(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var l=qi(e);return l.scope=e.scope,l.stream=t.join(`
`),l}},p0=function(e,t){var s=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},o=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");o=e.multiline?o.map(function(O){return O.split(`
`)}):o.map(function(O){return[O]});var l=s,d=yt.internal.getHeight(e)||0;d=d<0?-d:d;var u=yt.internal.getWidth(e)||0;u=u<0?-u:u;var h=function(O,B,te){if(O+1<o.length){var re=B+" "+o[O+1][0];return $h(re,e,te).width<=u-4}return!1};l++;e:for(;l>0;){t="",l--;var g,p,b=$h("3",e,l).height,j=e.multiline?d-l:(d-b)/2,y=j+=2,k=0,S=0,C=0;if(l<=0){t=`(...) Tj
`,t+="% Width of Text: "+$h(t,e,l=12).width+", FieldWidth:"+u+`
`;break}for(var L="",D=0,_=0;_<o.length;_++)if(o.hasOwnProperty(_)){var F=!1;if(o[_].length!==1&&C!==o[_].length-1){if((b+2)*(D+2)+2>d)continue e;L+=o[_][C],F=!0,S=_,_--}else{L=(L+=o[_][C]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var X=parseInt(_),ue=h(X,L,l),le=_>=o.length-1;if(ue&&!le){L+=" ",C=0;continue}if(ue||le){if(le)S=X;else if(e.multiline&&(b+2)*(D+2)+2>d)continue e}else{if(!e.multiline||(b+2)*(D+2)+2>d)continue e;S=X}}for(var ie="",ee=k;ee<=S;ee++){var me=o[ee];if(e.multiline){if(ee===S){ie+=me[C]+" ",C=(C+1)%me.length;continue}if(ee===k){ie+=me[me.length-1]+" ";continue}}ie+=me[0]+" "}switch(ie=ie.substr(ie.length-1)==" "?ie.substr(0,ie.length-1):ie,p=$h(ie,e,l).width,e.textAlign){case"right":g=u-p-2;break;case"center":g=(u-p)/2;break;default:g=2}t+=$t(g)+" "+$t(y)+` Td
`,t+="("+Nc(ie)+`) Tj
`,t+=-$t(g)+` 0 Td
`,y=-(l+2),p=0,k=F?S:S+1,D++,L=""}break}return a.text=t,a.fontSize=l,a},$h=function(e,t,s){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),o=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:o}},Vk={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Hk=function(e,t){var s={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===s.type&&a.object===s.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(s)},Wk=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(bi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Vk)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");K0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Vv,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];l.objId=void 0,l.hasAnnotation&&Hk(l,s)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(s){(function(a,o){var l=!a;for(var d in a||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(d)){var u=a[d],h=[],g=u.Rect;if(u.Rect&&(u.Rect=qk(u.Rect,o)),o.internal.newObjectDeferredBegin(u.objId,!0),u.DA=yt.createDefaultAppearanceStream(u),xr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=g,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=$k(u);h.push({key:"AP",value:"<</N "+p+">>"}),o.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var b="";for(var j in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(j)){var y=u.appearanceStreamContent[j];if(b+="/"+j+" ",b+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var d in y)if(y.hasOwnProperty(d)){var k=y[d];typeof k=="function"&&(k=k.call(o,u)),b+="/"+d+" "+k+" ",o.internal.acroformPlugin.xForms.indexOf(k)>=0||o.internal.acroformPlugin.xForms.push(k)}}else typeof(k=y)=="function"&&(k=k.call(o,u)),b+="/"+d+" "+k,o.internal.acroformPlugin.xForms.indexOf(k)>=0||o.internal.acroformPlugin.xForms.push(k);b+=">>"}h.push({key:"AP",value:`<<
`+b+">>"})}o.internal.putStream({additionalKeyValues:h,objectId:u.objId}),o.internal.out("endobj")}l&&(function(S,C){for(var L in S)if(S.hasOwnProperty(L)){var D=L,_=S[L];C.internal.newObjectDeferredBegin(_.objId,!0),xr(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete S[D]}})(o.internal.acroformPlugin.xForms,o)})(s,e)}),e.internal.acroformPlugin.isInitialized=!0}},qv=ss.__acroform__.arrayToPdfArray=function(e,t,s){var a=function(d){return d};if(Array.isArray(e)){for(var o="[",l=0;l<e.length;l++)switch(l!==0&&(o+=" "),xr(e[l])){case"boolean":case"number":case"object":o+=e[l].toString();break;case"string":e[l].substr(0,1)!=="/"?(t!==void 0&&s&&(a=s.internal.getEncryptor(t)),o+="("+Nc(a(e[l].toString()))+")"):o+=e[l].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Cp=function(e,t,s){var a=function(o){return o};return t!==void 0&&s&&(a=s.internal.getEncryptor(t)),(e=e||"").toString(),"("+Nc(a(e))+")"},Wi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wi.prototype.toString=function(){return this.objId+" 0 R"},Wi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Wi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var s in t)if(Object.getOwnPropertyDescriptor(this,t[s]).configurable===!1){var a=t[s],o=this[a];o&&(Array.isArray(o)?e.push({key:a,value:qv(o,this.objId,this.scope)}):o instanceof Wi?(o.scope=this.scope,e.push({key:a,value:o.objId+" 0 R"})):typeof o!="function"&&e.push({key:a,value:o}))}return e};var $v=function(){Wi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){e=s.trim()},get:function(){return e||null}})};Qn($v,Wi);var Vv=function(){Wi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var s=function(a){return a};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+Nc(s(e))+")"}},set:function(s){e=s}})};Qn(Vv,Wi);var bi=function e(){Wi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');t=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ds(t,3)},set:function(L){L?this.F=us(t,3):this.F=hs(t,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');s=L}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(L){a=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(L){a[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(L){a[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(L){a[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(L){a[3]=L}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Ef)return;l="FieldObject"+e.FieldNum++}var L=function(D){return D};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+Nc(L(l))+")"},set:function(L){l=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(L){l=L}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(L){d=L}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(L){u=L}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(L){h=L}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/K0:g},set:function(L){g=L}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(L){p=L}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof Ef||this instanceof dc))return Cp(b,this.objId,this.scope)},set:function(L){L=L.toString(),b=L}});var j=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(j)return this instanceof zs==0?Cp(j,this.objId,this.scope):j},set:function(L){L=L.toString(),j=this instanceof zs==0?L.substr(0,1)==="("?ld(L.substr(1,L.length-2)):ld(L):L}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zs==1?ld(j.substr(1,j.length-1)):j},set:function(L){L=L.toString(),j=this instanceof zs==1?"/"+L:L}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof zs==0?Cp(y,this.objId,this.scope):y},set:function(L){L=L.toString(),y=this instanceof zs==0?L.substr(0,1)==="("?ld(L.substr(1,L.length-2)):ld(L):L}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zs==1?ld(y.substr(1,y.length-1)):y},set:function(L){L=L.toString(),y=this instanceof zs==1?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(L){L=!!L,S=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(L){k=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,1)},set:function(L){L?this.Ff=us(this.Ff,1):this.Ff=hs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,2)},set:function(L){L?this.Ff=us(this.Ff,2):this.Ff=hs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,3)},set:function(L){L?this.Ff=us(this.Ff,3):this.Ff=hs(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');C=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(C){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};Qn(bi,Wi);var xd=function(){bi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(s){e=s}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qv(t,this.objId,this.scope)},set:function(s){var a,o;o=[],typeof(a=s)=="string"&&(o=(function(l,d,u){u||(u=1);for(var h,g=[];h=d.exec(l);)g.push(h[u]);return g})(a,/\((.*?)\)/g)),t=o}}),this.getOptions=function(){return t},this.setOptions=function(s){t=s,this.sort&&t.sort()},this.addOption=function(s){s=(s=s||"").toString(),t.push(s),this.sort&&t.sort()},this.removeOption=function(s,a){for(a=a||!1,s=(s=s||"").toString();t.indexOf(s)!==-1&&(t.splice(t.indexOf(s),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,18)},set:function(s){s?this.Ff=us(this.Ff,18):this.Ff=hs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=us(this.Ff,19):this.Ff=hs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,20)},set:function(s){s?(this.Ff=us(this.Ff,20),t.sort()):this.Ff=hs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,22)},set:function(s){s?this.Ff=us(this.Ff,22):this.Ff=hs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,23)},set:function(s){s?this.Ff=us(this.Ff,23):this.Ff=hs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,27)},set:function(s){s?this.Ff=us(this.Ff,27):this.Ff=hs(this.Ff,27)}}),this.hasAppearanceStream=!1};Qn(xd,bi);var yd=function(){xd.call(this),this.fontName="helvetica",this.combo=!1};Qn(yd,xd);var vd=function(){yd.call(this),this.combo=!0};Qn(vd,yd);var uf=function(){vd.call(this),this.edit=!0};Qn(uf,vd);var zs=function(){bi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,15)},set:function(s){s?this.Ff=us(this.Ff,15):this.Ff=hs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,16)},set:function(s){s?this.Ff=us(this.Ff,16):this.Ff=hs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,17)},set:function(s){s?this.Ff=us(this.Ff,17):this.Ff=hs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,26)},set:function(s){s?this.Ff=us(this.Ff,26):this.Ff=hs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,o=[];for(a in o.push("<<"),t)o.push("/"+a+" ("+Nc(s(t[a]))+")");return o.push(">>"),o.join(`
`)}},set:function(s){xr(s)==="object"&&(t=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(s){typeof s=="string"&&(t.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}})};Qn(zs,bi);var hf=function(){zs.call(this),this.pushButton=!0};Qn(hf,zs);var bd=function(){zs.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Qn(bd,zs);var Ef=function(){var e,t;bi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(o){e=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(o){t=o}});var s,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(u){return u};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var l,d=[];for(l in d.push("<<"),a)d.push("/"+l+" ("+Nc(o(a[l]))+")");return d.push(">>"),d.join(`
`)},set:function(o){xr(o)==="object"&&(a=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(o){typeof o=="string"&&(a.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(o){s="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qn(Ef,bi),bd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var s=this.Kids[t];s.appearanceStreamContent=e.createAppearanceStream(s.optionName),s.caption=e.getCA()}},bd.prototype.createOption=function(e){var t=new Ef;return t.Parent=this,t.optionName=e,this.Kids.push(t),Gk.call(this.scope,t),t};var ff=function(){zs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yt.CheckBox.createAppearanceStream()};Qn(ff,zs);var dc=function(){bi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,13)},set:function(t){t?this.Ff=us(this.Ff,13):this.Ff=hs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,21)},set:function(t){t?this.Ff=us(this.Ff,21):this.Ff=hs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,23)},set:function(t){t?this.Ff=us(this.Ff,23):this.Ff=hs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,24)},set:function(t){t?this.Ff=us(this.Ff,24):this.Ff=hs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,25)},set:function(t){t?this.Ff=us(this.Ff,25):this.Ff=hs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,26)},set:function(t){t?this.Ff=us(this.Ff,26):this.Ff=hs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qn(dc,bi);var mf=function(){dc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,14)},set:function(e){e?this.Ff=us(this.Ff,14):this.Ff=hs(this.Ff,14)}}),this.password=!0};Qn(mf,dc);var yt={CheckBox:{createAppearanceStream:function(){return{N:{On:yt.CheckBox.YesNormal},D:{On:yt.CheckBox.YesPushDown,Off:yt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=qi(e);t.scope=e.scope;var s=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,o=e.scope.__private__.encodeColorString(e.color),l=p0(e,e.caption);return s.push("0.749023 g"),s.push("0 0 "+$t(yt.internal.getWidth(e))+" "+$t(yt.internal.getHeight(e))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+a+" "+$t(l.fontSize)+" Tf "+o),s.push("BT"),s.push(l.text),s.push("ET"),s.push("Q"),s.push("EMC"),t.stream=s.join(`
`),t},YesNormal:function(e){var t=qi(e);t.scope=e.scope;var s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),o=[],l=yt.internal.getHeight(e),d=yt.internal.getWidth(e),u=p0(e,e.caption);return o.push("1 g"),o.push("0 0 "+$t(d)+" "+$t(l)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+$t(d-1)+" "+$t(l-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+s+" "+$t(u.fontSize)+" Tf "+a),o.push(u.text),o.push("ET"),o.push("Q"),t.stream=o.join(`
`),t},OffPushDown:function(e){var t=qi(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+$t(yt.internal.getWidth(e))+" "+$t(yt.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:yt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=yt.RadioButton.Circle.YesNormal,t.D[e]=yt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=qi(e);t.scope=e.scope;var s=[],a=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var o=yt.internal.Bezier_C,l=Number((a*o).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+xl(yt.internal.getWidth(e)/2)+" "+xl(yt.internal.getHeight(e)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),s.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),s.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),s.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=qi(e);t.scope=e.scope;var s=[],a=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var o=Number((2*a).toFixed(5)),l=Number((o*yt.internal.Bezier_C).toFixed(5)),d=Number((a*yt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+xl(yt.internal.getWidth(e)/2)+" "+xl(yt.internal.getHeight(e)/2)+" cm"),s.push(o+" 0 m"),s.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),s.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),s.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),s.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+xl(yt.internal.getWidth(e)/2)+" "+xl(yt.internal.getHeight(e)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+d+" "+d+" "+a+" 0 "+a+" c"),s.push("-"+d+" "+a+" -"+a+" "+d+" -"+a+" 0 c"),s.push("-"+a+" -"+d+" -"+d+" -"+a+" 0 -"+a+" c"),s.push(d+" -"+a+" "+a+" -"+d+" "+a+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=qi(e);t.scope=e.scope;var s=[],a=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var o=Number((2*a).toFixed(5)),l=Number((o*yt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+xl(yt.internal.getWidth(e)/2)+" "+xl(yt.internal.getHeight(e)/2)+" cm"),s.push(o+" 0 m"),s.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),s.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),s.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),s.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:yt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=yt.RadioButton.Cross.YesNormal,t.D[e]=yt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=qi(e);t.scope=e.scope;var s=[],a=yt.internal.calculateCross(e);return s.push("q"),s.push("1 1 "+$t(yt.internal.getWidth(e)-2)+" "+$t(yt.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push($t(a.x1.x)+" "+$t(a.x1.y)+" m"),s.push($t(a.x2.x)+" "+$t(a.x2.y)+" l"),s.push($t(a.x4.x)+" "+$t(a.x4.y)+" m"),s.push($t(a.x3.x)+" "+$t(a.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=qi(e);t.scope=e.scope;var s=yt.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+$t(yt.internal.getWidth(e))+" "+$t(yt.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+$t(yt.internal.getWidth(e)-2)+" "+$t(yt.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push($t(s.x1.x)+" "+$t(s.x1.y)+" m"),a.push($t(s.x2.x)+" "+$t(s.x2.y)+" l"),a.push($t(s.x4.x)+" "+$t(s.x4.y)+" m"),a.push($t(s.x3.x)+" "+$t(s.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=qi(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+$t(yt.internal.getWidth(e))+" "+$t(yt.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+s}};yt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=yt.internal.getWidth(e),s=yt.internal.getHeight(e),a=Math.min(t,s);return{x1:{x:(t-a)/2,y:(s-a)/2+a},x2:{x:(t-a)/2+a,y:(s-a)/2},x3:{x:(t-a)/2,y:(s-a)/2},x4:{x:(t-a)/2+a,y:(s-a)/2+a}}}},yt.internal.getWidth=function(e){var t=0;return xr(e)==="object"&&(t=oy(e.Rect[2])),t},yt.internal.getHeight=function(e){var t=0;return xr(e)==="object"&&(t=oy(e.Rect[3])),t};var Gk=ss.addField=function(e){if(Wk(this,e),!(e instanceof bi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ss.AcroFormChoiceField=xd,ss.AcroFormListBox=yd,ss.AcroFormComboBox=vd,ss.AcroFormEditBox=uf,ss.AcroFormButton=zs,ss.AcroFormPushButton=hf,ss.AcroFormRadioButton=bd,ss.AcroFormCheckBox=ff,ss.AcroFormTextField=dc,ss.AcroFormPasswordField=mf,ss.AcroFormAppearance=yt,ss.AcroForm={ChoiceField:xd,ListBox:yd,ComboBox:vd,EditBox:uf,Button:zs,PushButton:hf,RadioButton:bd,CheckBox:ff,TextField:dc,PasswordField:mf,Appearance:yt},jt.AcroForm={ChoiceField:xd,ListBox:yd,ComboBox:vd,EditBox:uf,Button:zs,PushButton:hf,RadioButton:bd,CheckBox:ff,TextField:dc,PasswordField:mf,Appearance:yt};jt.AcroForm;function Hv(e){return e.reduce(function(t,s,a){return t[s]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var s="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=e.__addimage__.getImageFileTypeByImageData=function(O,B){var te,re,H,K,V,Z=s;if((B=B||s)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(ue(O))for(V in a)for(H=a[V],te=0;te<H.length;te+=1){for(K=!0,re=0;re<H[te].length;re+=1)if(H[te][re]!==void 0&&H[te][re]!==O[re]){K=!1;break}if(K===!0){Z=V;break}}else for(V in a)for(H=a[V],te=0;te<H.length;te+=1){for(K=!0,re=0;re<H[te].length;re+=1)if(H[te][re]!==void 0&&H[te][re]!==O.charCodeAt(re)){K=!1;break}if(K===!0){Z=V;break}}return Z===s&&B!==s&&(Z=B),Z},l=function O(B){for(var te=this.internal.write,re=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:B.width}),K.push({key:"Height",value:B.height}),B.colorSpace===L.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===L.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)){for(var V="",Z=0,pe=B.transparency.length;Z<pe;Z++)V+=B.transparency[Z]+" "+B.transparency[Z]+" ";K.push({key:"Mask",value:"["+V+"]"})}B.sMask!==void 0&&K.push({key:"SMask",value:B.objectId+1+" 0 R"});var we=B.filter!==void 0?["/"+B.filter]:void 0;if(re({data:B.data,additionalKeyValues:K,alreadyAppliedFilters:we,objectId:B.objectId}),te("endobj"),"sMask"in B&&B.sMask!==void 0){var J=(B.predictor!=null?"/Predictor "+B.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+B.width,E={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:B.bitsPerComponent,decodeParameters:J,data:B.sMask};"filter"in B&&(E.filter=B.filter),O.call(this,E)}if(B.colorSpace===L.INDEXED){var R=this.internal.newObject();re({data:ie(new Uint8Array(B.palette)),objectId:R}),te("endobj")}},d=function(){var O=this.internal.collections[t+"images"];for(var B in O)l.call(this,O[B])},u=function(){var O,B=this.internal.collections[t+"images"],te=this.internal.write;for(var re in B)te("/I"+(O=B[re]).index,O.objectId,"0","R")},h=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",u))},g=function(){var O=this.internal.collections[t+"images"];return h.call(this),O},p=function(){return Object.keys(this.internal.collections[t+"images"]).length},b=function(O){return typeof e["process"+O.toUpperCase()]=="function"},j=function(O){return xr(O)==="object"&&O.nodeType===1},y=function(O,B){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var te=""+O.getAttribute("src");if(te.indexOf("data:image/")===0)return df(unescape(te).split("base64,").pop());var re=e.loadFile(te,!0);if(re!==void 0)return re}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var H;switch(B){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;default:H="image/jpeg"}return df(O.toDataURL(H,1).split("base64,").pop())}},k=function(O){var B=this.internal.collections[t+"images"];if(B){for(var te in B)if(O===B[te].alias)return B[te]}},S=function(O,B,te){return O||B||(O=-96,B=-96),O<0&&(O=-1*te.width*72/O/this.internal.scaleFactor),B<0&&(B=-1*te.height*72/B/this.internal.scaleFactor),O===0&&(O=B*te.width/te.height),B===0&&(B=O*te.height/te.width),[O,B]},C=function(O,B,te,re,H,K){var V=S.call(this,te,re,H),Z=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,we=g.call(this);if(te=V[0],re=V[1],we[H.index]=H,K){K*=Math.PI/180;var J=Math.cos(K),E=Math.sin(K),R=function(oe){return oe.toFixed(4)},G=[R(J),R(E),R(-1*E),R(J),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,Z(O),pe(B+re),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([Z(te),"0","0",Z(re),"0","0","cm"].join(" "))):this.internal.write([Z(te),"0","0",Z(re),Z(O),pe(B+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},L=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(O){var B,te,re=0;if(typeof O=="string")for(te=O.length,B=0;B<te;B++)re=(re<<5)-re+O.charCodeAt(B),re|=0;else if(ue(O))for(te=O.byteLength/2,B=0;B<te;B++)re=(re<<5)-re+O[B],re|=0;return re},F=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var B=!0;return O.length===0&&(B=!1),O.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(B=!1),B},X=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var B=O.indexOf(",");return B<0?null:O.substring(0,B).trim().endsWith("base64")?O.substring(B+1):null};e.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var ue=e.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},le=e.__addimage__.binaryStringToUint8Array=function(O){for(var B=O.length,te=new Uint8Array(B),re=0;re<B;re++)te[re]=O.charCodeAt(re);return te},ie=e.__addimage__.arrayBufferToBinaryString=function(O){for(var B="",te=ue(O)?O:new Uint8Array(O),re=0;re<te.length;re+=8192)B+=String.fromCharCode.apply(null,te.subarray(re,re+8192));return B};e.addImage=function(){var O,B,te,re,H,K,V,Z,pe;if(typeof arguments[1]=="number"?(B=s,te=arguments[1],re=arguments[2],H=arguments[3],K=arguments[4],V=arguments[5],Z=arguments[6],pe=arguments[7]):(B=arguments[1],te=arguments[2],re=arguments[3],H=arguments[4],K=arguments[5],V=arguments[6],Z=arguments[7],pe=arguments[8]),xr(O=arguments[0])==="object"&&!j(O)&&"imageData"in O){var we=O;O=we.imageData,B=we.format||B||s,te=we.x||te||0,re=we.y||re||0,H=we.w||we.width||H,K=we.h||we.height||K,V=we.alias||V,Z=we.compression||Z,pe=we.rotation||we.angle||pe}var J=this.internal.getFilters();if(Z===void 0&&J.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(te)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var E=ee.call(this,O,B,V,Z);return C.call(this,te,re,H,K,E,pe),this};var ee=function(O,B,te,re){var H,K,V;if(typeof O=="string"&&o(O)===s){O=unescape(O);var Z=me(O,!1);(Z!==""||(Z=e.loadFile(O,!0))!==void 0)&&(O=Z)}if(j(O)&&(O=y(O,B)),B=o(O,B),!b(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((V=te)==null||V.length===0)&&(te=(function(pe){return typeof pe=="string"||ue(pe)?_(pe):ue(pe.data)?_(pe.data):null})(O)),(H=k.call(this,te))||(O instanceof Uint8Array||B==="RGBA"||(K=O,O=le(O)),H=this["process"+B.toUpperCase()](O,p.call(this),te,(function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in e.image_compression?pe:D.NONE})(re),K)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},me=e.__addimage__.convertBase64ToBinaryString=function(O,B){B=typeof B!="boolean"||B;var te,re="";if(typeof O=="string"){var H;te=(H=X(O))!==null&&H!==void 0?H:O;try{re=df(te)}catch(K){if(B)throw F(te)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};e.getImageProperties=function(O){var B,te,re="";if(j(O)&&(O=y(O)),typeof O=="string"&&o(O)===s&&((re=me(O,!1))===""&&(re=e.loadFile(O)||""),O=re),te=o(O),!b(te))throw new Error("addImage does not support files of type '"+te+"', please ensure that a plugin for '"+te+"' support is added.");if(O instanceof Uint8Array||(O=le(O)),!(B=this["process"+te.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=te,B}})(jt.API),(function(e){var t=function(s){if(s!==void 0&&s!="")return!0};jt.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(s){for(var a,o,l,d=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(s.objId),g=s.pageContext.annotations,p=!1,b=0;b<g.length&&!p;b++)switch((a=g[b]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var j=0;j<g.length;j++){a=g[j];var y=this.internal.pdfEscape,k=this.internal.getEncryptor(s.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(S.objId),D=a.title||"Note";l="<</Type /Annot /Subtype /Text "+(o="/Rect ["+d(a.bounds.x)+" "+u(a.bounds.y+a.bounds.h)+" "+d(a.bounds.x+a.bounds.w)+" "+u(a.bounds.y)+"] ")+"/Contents ("+y(L(a.contents))+")",l+=" /Popup "+C.objId+" 0 R",l+=" /P "+h.objId+" 0 R",l+=" /T ("+y(L(D))+") >>",S.content=l;var _=S.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+d(a.bounds.x+30)+" "+u(a.bounds.y+a.bounds.h)+" "+d(a.bounds.x+a.bounds.w+30)+" "+u(a.bounds.y)+"] ")+" /Parent "+_,a.open&&(l+=" /Open true"),l+=" >>",C.content=l,this.internal.write(S.objId,"0 R",C.objId,"0 R");break;case"freetext":o="/Rect ["+d(a.bounds.x)+" "+u(a.bounds.y)+" "+d(a.bounds.x+a.bounds.w)+" "+u(a.bounds.y+a.bounds.h)+"] ";var F=a.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+y(k(a.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(a.options.name){var X=this.annotations._nameMap[a.options.name];a.options.pageNumber=X.page,a.options.top=X.y}else a.options.top||(a.options.top=0);if(o="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",l="",a.options.url)l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+y(k(a.options.url))+") >>";else if(a.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,l+=" /FitV "+a.options.left+"]";break;default:var ue=u(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),l+=" /XYZ "+a.options.left+" "+ue+" "+a.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),e.createAnnotation=function(s){var a=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":a.pageContext.annotations.push(s)}},e.link=function(s,a,o,l,d){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(s),y:g(a),w:h(s+o),h:g(a+l)},options:d,type:"link"})},e.textWithLink=function(s,a,o,l){var d,u,h=this.getTextWidth(s),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){u=l.maxWidth;var p=this.splitTextToSize(s,u).length;d=Math.ceil(g*p)}else u=h,d=g;return this.text(s,a,o,l),o+=.2*g,l.align==="center"&&(a-=h/2),l.align==="right"&&(a-=h),this.link(a,o-g,u,d,l),h},e.getTextWidth=function(s){var a=this.internal.getFontSize();return this.getStringUnitWidth(s)*a/this.internal.scaleFactor}})(jt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];e.__arabicParser__={};var l=e.__arabicParser__.isInArabicSubstitutionA=function(S){return t[S.charCodeAt(0)]!==void 0},d=e.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},u=e.__arabicParser__.isArabicEndLetter=function(S){return d(S)&&l(S)&&t[S.charCodeAt(0)].length<=2},h=e.__arabicParser__.isArabicAlfLetter=function(S){return d(S)&&o.indexOf(S.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return d(S)&&l(S)&&t[S.charCodeAt(0)].length>=1};var g=e.__arabicParser__.arabicLetterHasFinalForm=function(S){return d(S)&&l(S)&&t[S.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(S){return d(S)&&l(S)&&t[S.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(S){return d(S)&&l(S)&&t[S.charCodeAt(0)].length==4},b=e.__arabicParser__.resolveLigatures=function(S){var C=0,L=s,D="",_=0;for(C=0;C<S.length;C+=1)L[S.charCodeAt(C)]!==void 0?(_++,typeof(L=L[S.charCodeAt(C)])=="number"&&(D+=String.fromCharCode(L),L=s,_=0),C===S.length-1&&(L=s,D+=S.charAt(C-(_-1)),C-=_-1,_=0)):(L=s,D+=S.charAt(C-_),C-=_,_=0);return D};e.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&a[S.charCodeAt(0)]!==void 0};var j=e.__arabicParser__.getCorrectForm=function(S,C,L){return d(S)?l(S)===!1?-1:!g(S)||!d(C)&&!d(L)||!d(L)&&u(C)||u(S)&&!d(C)||u(S)&&h(C)||u(S)&&u(C)?0:p(S)&&d(C)&&!u(C)&&d(L)&&g(L)?3:u(S)||!d(L)?1:2:-1},y=function(S){var C=0,L=0,D=0,_="",F="",X="",ue=(S=S||"").split("\\s+"),le=[];for(C=0;C<ue.length;C+=1){for(le.push(""),L=0;L<ue[C].length;L+=1)_=ue[C][L],F=ue[C][L-1],X=ue[C][L+1],d(_)?(D=j(_,F,X),le[C]+=D!==-1?String.fromCharCode(t[_.charCodeAt(0)][D]):_):le[C]+=_;le[C]=b(le[C])}return le.join(" ")},k=e.__arabicParser__.processArabic=e.processArabic=function(){var S,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(C)){var D=0;for(L=[],D=0;D<C.length;D+=1)Array.isArray(C[D])?L.push([y(C[D][0]),C[D][1],C[D][2]]):L.push([y(C[D])]);S=L}else S=y(C);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};e.events.push(["preProcessText",k])})(jt.API),jt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(u){s=u}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(u){o=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(u){l=u}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(u){d=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(s,a){var o;if((s=s||"2d")!=="2d")return null;for(o in a)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=a[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(jt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},s=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(S){b=S}});var j=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return j},set:function(S){j=S}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(S){k=S}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(h){return a.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},e.getTextDimensions=function(h,g){a.call(this);var p=(g=g||{}).fontSize||this.getFontSize(),b=g.font||this.getFont(),j=g.scaleFactor||this.internal.scaleFactor,y=0,k=0,S=0,C=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var L=g.maxWidth;L>0?typeof h=="string"?h=this.splitTextToSize(h,L):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(_,F){return _.concat(C.splitTextToSize(F,L))},[])):h=Array.isArray(h)?h:[h];for(var D=0;D<h.length;D++)y<(S=this.getStringUnitWidth(h[D],{font:b})*p)&&(y=S);return y!==0&&(k=h.length),{w:y/=j,h:Math.max((k*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/j,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new l(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=e.cell=function(){var h;h=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var g=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,b=this.internal.__cell__.margins||t,j=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===h.lineNumber?(h.x=(g.x||0)+(g.width||0),h.y=g.y||0):g.y+g.height+h.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=b.top,y&&j&&(this.printHeaderRow(h.lineNumber,!0),h.y+=j[0].height)):h.y=g.y+g.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,s===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};e.table=function(h,g,p,b,j){if(a.call(this),!p)throw new Error("No data for PDF table.");var y,k,S,C,L=[],D=[],_=[],F={},X={},ue=[],le=[],ie=(j=j||{}).autoSize||!1,ee=j.printHeaders!==!1,me=j.css&&j.css["font-size"]!==void 0?16*j.css["font-size"]:j.fontSize||12,O=j.margins||Object.assign({width:this.getPageWidth()},t),B=typeof j.padding=="number"?j.padding:3,te=j.headerBackgroundColor||"#c8c8c8",re=j.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=ee,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=me,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=te,this.internal.__cell__.headerTextColor=re,this.setFontSize(me),b==null)D=L=Object.keys(p[0]),_=L.map(function(){return"left"});else if(Array.isArray(b)&&xr(b[0])==="object")for(L=b.map(function(we){return we.name}),D=b.map(function(we){return we.prompt||we.name||""}),_=b.map(function(we){return we.align||"left"}),y=0;y<b.length;y+=1)X[b[y].name]=.7499990551181103*b[y].width;else Array.isArray(b)&&typeof b[0]=="string"&&(D=L=b,_=L.map(function(){return"left"}));if(ie||Array.isArray(b)&&typeof b[0]=="string")for(y=0;y<L.length;y+=1){for(F[C=L[y]]=p.map(function(we){return we[C]}),this.setFont(void 0,"bold"),ue.push(this.getTextDimensions(D[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=F[C],this.setFont(void 0,"normal"),S=0;S<k.length;S+=1)ue.push(this.getTextDimensions(k[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[C]=Math.max.apply(null,ue)+B+B,ue=[]}if(ee){var H={};for(y=0;y<L.length;y+=1)H[L[y]]={},H[L[y]].text=D[y],H[L[y]].align=_[y];var K=u.call(this,H,X);le=L.map(function(we){return new l(h,g,X[we],K,H[we].text,void 0,H[we].align)}),this.setTableHeaderRow(le),this.printHeaderRow(1,!1)}var V=b.reduce(function(we,J){return we[J.name]=J.align,we},{});for(y=0;y<p.length;y+=1){"rowStart"in j&&j.rowStart instanceof Function&&j.rowStart({row:y,data:p[y]},this);var Z=u.call(this,p[y],X);for(S=0;S<L.length;S+=1){var pe=p[y][L[S]];"cellStart"in j&&j.cellStart instanceof Function&&j.cellStart({row:y,col:S,data:pe},this),d.call(this,new l(h,g,X[L[S]],Z,pe,y+2,V[L[S]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=g,this};var u=function(h,g){var p=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,j=this.internal.scaleFactor;return Object.keys(h).map(function(y){var k=h[y];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,g[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*b/j+p+p},this).reduce(function(y,k){return Math.max(y,k)},0)};e.setTableHeaderRow=function(h){a.call(this),this.internal.__cell__.tableHeaderRow=h},e.printHeaderRow=function(h,g){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var j=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),g&&(p.y=this.internal.__cell__.margins.top||0,j.push(p)),p.lineNumber=h;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,p),this.setTextColor(k)}j.length>0&&this.setTableHeaderRow(j),this.setFont(void 0,"normal"),s=!1}})(jt.API);var Wv={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Gv=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],g0=Hv(Gv),Kv=[100,200,300,400,500,600,700,800,900],Kk=Hv(Kv);function _p(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),s=(function(l){return Wv[l=l||"normal"]?l:"normal"})(e.style),a=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(e.weight),o=(function(l){return typeof g0[l=l||"normal"]=="number"?l:"normal"})(e.stretch);return{family:t,style:s,weight:a,stretch:o,src:e.src||[],ref:e.ref||{name:t,style:[o,s,a].join(" ")}}}function ly(e,t,s,a){var o;for(o=s;o>=0&&o<t.length;o+=a)if(e[t[o]])return e[t[o]];for(o=s;o>=0&&o<t.length;o-=a)if(e[t[o]])return e[t[o]]}var Yk={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},cy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function dy(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function uy(e){return e.trimLeft()}function Jk(e,t){for(var s=0;s<e.length;){if(e.charAt(s)===t)return[e.substring(0,s),e.substring(s+1)];s+=1}return null}function Qk(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Vh,hy,fy,cd,Hh,my,py,gy,Pp=["times"];function xy(e,t,s,a){var o=4,l=vy;switch(a){case jt.API.image_compression.FAST:o=1,l=yy;break;case jt.API.image_compression.MEDIUM:o=6,l=by;break;case jt.API.image_compression.SLOW:o=9,l=wy}e=(function(u,h,g,p){for(var b,j=u.length/h,y=new Uint8Array(u.length+j),k=[Xk,yy,vy,by,wy],S=0;S<j;S+=1){var C=S*h,L=u.subarray(C,C+h);if(p)y.set(p(L,g,b),C+S);else{for(var D=k.length,_=[],F=0;F<D;F+=1)_[F]=k[F](L,g,b);var X=e8(_.concat());y.set(_[X],C+S)}b=L}return y})(e,t,s,l);var d=c0(e,{level:o});return jt.API.__addimage__.arrayBufferToBinaryString(d)}function Xk(e){var t=Array.apply([],e);return t.unshift(0),t}function yy(e,t){var s=e.length,a=[];a[0]=1;for(var o=0;o<s;o+=1){var l=e[o-t]||0;a[o+1]=e[o]-l+256&255}return a}function vy(e,t,s){var a=e.length,o=[];o[0]=2;for(var l=0;l<a;l+=1){var d=s&&s[l]||0;o[l+1]=e[l]-d+256&255}return o}function by(e,t,s){var a=e.length,o=[];o[0]=3;for(var l=0;l<a;l+=1){var d=e[l-t]||0,u=s&&s[l]||0;o[l+1]=e[l]+256-(d+u>>>1)&255}return o}function wy(e,t,s){var a=e.length,o=[];o[0]=4;for(var l=0;l<a;l+=1){var d=Zk(e[l-t]||0,s&&s[l]||0,s&&s[l-t]||0);o[l+1]=e[l]-d+256&255}return o}function Zk(e,t,s){if(e===t&&t===s)return e;var a=Math.abs(t-s),o=Math.abs(e-s),l=Math.abs(e+t-s-s);return a<=o&&a<=l?e:o<=l?t:s}function e8(e){var t=e.map(function(s){return s.reduce(function(a,o){return a+Math.abs(o)},0)});return t.indexOf(Math.min.apply(null,t))}function Lp(e,t,s){var a=t*s,o=Math.floor(a/8),l=16-(a-8*o+s),d=(1<<s)-1;return Yv(e,o)>>l&d}function Ny(e,t,s,a){var o=s*a,l=Math.floor(o/8),d=16-(o-8*l+a),u=(1<<a)-1,h=(t&u)<<d;(function(g,p,b){if(p+1<g.byteLength)g.setUint16(p,b,!1);else{var j=b>>8&255;g.setUint8(p,j)}})(e,l,Yv(e,l)&~(u<<d)&65535|h)}function Yv(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function t8(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,o=e[t++],l=o>>7,d=1<<1+(7&o);e[t++],e[t++];var u=null,h=null;l&&(u=t,h=d,t+=3*d);var g=!0,p=[],b=0,j=null,y=0,k=null;for(this.width=s,this.height=a;g&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,k=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var S=e[t++];b=e[t++]|e[t++]<<8,j=e[t++],1&S||(j=null),y=S>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var C=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,D=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,F=e[t++],X=F>>6&1,ue=1<<1+(7&F),le=u,ie=h,ee=!1;F>>7&&(ee=!0,le=t,ie=ue,t+=3*ue);var me=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}p.push({x:C,y:L,width:D,height:_,has_local_palette:ee,palette_offset:le,palette_size:ie,data_offset:me,data_length:t-me,transparent_index:j,interlaced:!!X,delay:b,disposal:y});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return k},this.frameInfo=function(B){if(B<0||B>=p.length)throw new Error("Frame index out of range.");return p[B]},this.decodeAndBlitFrameBGRA=function(B,te){var re=this.frameInfo(B),H=re.width*re.height,K=new Uint8Array(H);jy(e,re.data_offset,K,H);var V=re.palette_offset,Z=re.transparent_index;Z===null&&(Z=256);var pe=re.width,we=s-pe,J=pe,E=4*(re.y*s+re.x),R=4*((re.y+re.height)*s+re.x),G=E,oe=4*we;re.interlaced===!0&&(oe+=4*s*7);for(var $=8,fe=0,ke=K.length;fe<ke;++fe){var Se=K[fe];if(J===0&&(J=pe,(G+=oe)>=R&&(oe=4*we+4*s*($-1),G=E+(pe+we)*($<<1),$>>=1)),Se===Z)G+=4;else{var Te=e[V+3*Se],ge=e[V+3*Se+1],De=e[V+3*Se+2];te[G++]=De,te[G++]=ge,te[G++]=Te,te[G++]=255}--J}},this.decodeAndBlitFrameRGBA=function(B,te){var re=this.frameInfo(B),H=re.width*re.height,K=new Uint8Array(H);jy(e,re.data_offset,K,H);var V=re.palette_offset,Z=re.transparent_index;Z===null&&(Z=256);var pe=re.width,we=s-pe,J=pe,E=4*(re.y*s+re.x),R=4*((re.y+re.height)*s+re.x),G=E,oe=4*we;re.interlaced===!0&&(oe+=4*s*7);for(var $=8,fe=0,ke=K.length;fe<ke;++fe){var Se=K[fe];if(J===0&&(J=pe,(G+=oe)>=R&&(oe=4*we+4*s*($-1),G=E+(pe+we)*($<<1),$>>=1)),Se===Z)G+=4;else{var Te=e[V+3*Se],ge=e[V+3*Se+1],De=e[V+3*Se+2];te[G++]=Te,te[G++]=ge,te[G++]=De,te[G++]=255}--J}}}function jy(e,t,s,a){for(var o=e[t++],l=1<<o,d=l+1,u=d+1,h=o+1,g=(1<<h)-1,p=0,b=0,j=0,y=e[t++],k=new Int32Array(4096),S=null;;){for(;p<16&&y!==0;)b|=e[t++]<<p,p+=8,y===1?y=e[t++]:--y;if(p<h)break;var C=b&g;if(b>>=h,p-=h,C!==l){if(C===d)break;for(var L=C<u?C:S,D=0,_=L;_>l;)_=k[_]>>8,++D;var F=_;if(j+D+(L!==C?1:0)>a)return void Sr.log("Warning, gif stream longer than expected.");s[j++]=F;var X=j+=D;for(L!==C&&(s[j++]=F),_=L;D--;)_=k[_],s[--X]=255&_,_>>=8;S!==null&&u<4096&&(k[u++]=S<<8|F,u>=g+1&&h<12&&(++h,g=g<<1|1)),S=C}else u=d+1,g=(1<<(h=o+1))-1,S=null}return j!==a&&Sr.log("Warning, gif stream shorter than expected."),s}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ep(e){var t,s,a,o,l,d=Math.floor,u=new Array(64),h=new Array(64),g=new Array(64),p=new Array(64),b=new Array(65535),j=new Array(65535),y=new Array(64),k=new Array(64),S=[],C=0,L=7,D=new Array(64),_=new Array(64),F=new Array(64),X=new Array(256),ue=new Array(2048),le=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ie=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],me=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(E,R){for(var G=0,oe=0,$=new Array,fe=1;fe<=16;fe++){for(var ke=1;ke<=E[fe];ke++)$[R[oe]]=[],$[R[oe]][0]=G,$[R[oe]][1]=fe,oe++,G++;G*=2}return $}function V(E){for(var R=E[0],G=E[1]-1;G>=0;)R&1<<G&&(C|=1<<L),G--,--L<0&&(C==255?(Z(255),Z(0)):Z(C),L=7,C=0)}function Z(E){S.push(E)}function pe(E){Z(E>>8&255),Z(255&E)}function we(E,R,G,oe,$){for(var fe,ke=$[0],Se=$[240],Te=(function(Ue,Q){var de,Ne,Ce,Me,Ie,Ve,at,et,rt,ft,it=0;for(rt=0;rt<8;++rt){de=Ue[it],Ne=Ue[it+1],Ce=Ue[it+2],Me=Ue[it+3],Ie=Ue[it+4],Ve=Ue[it+5],at=Ue[it+6];var er=de+(et=Ue[it+7]),zt=de-et,nt=Ne+at,St=Ne-at,Mt=Ce+Ve,ot=Ce-Ve,It=Me+Ie,At=Me-Ie,dr=er+It,tr=er-It,Xt=nt+Mt,Ft=nt-Mt;Ue[it]=dr+Xt,Ue[it+4]=dr-Xt;var rr=.707106781*(Ft+tr);Ue[it+2]=tr+rr,Ue[it+6]=tr-rr;var Ni=.382683433*((dr=At+ot)-(Ft=St+zt)),js=.5411961*dr+Ni,ya=1.306562965*Ft+Ni,Fn=.707106781*(Xt=ot+St),kt=zt+Fn,gn=zt-Fn;Ue[it+5]=gn+js,Ue[it+3]=gn-js,Ue[it+1]=kt+ya,Ue[it+7]=kt-ya,it+=8}for(it=0,rt=0;rt<8;++rt){de=Ue[it],Ne=Ue[it+8],Ce=Ue[it+16],Me=Ue[it+24],Ie=Ue[it+32],Ve=Ue[it+40],at=Ue[it+48];var Xn=de+(et=Ue[it+56]),Es=de-et,In=Ne+at,yr=Ne-at,Ur=Ce+Ve,Yr=Ce-Ve,za=Me+Ie,ji=Me-Ie,Zn=Xn+za,va=Xn-za,Ss=In+Ur,Tn=In-Ur;Ue[it]=Zn+Ss,Ue[it+32]=Zn-Ss;var xn=.707106781*(Tn+va);Ue[it+16]=va+xn,Ue[it+48]=va-xn;var Qi=.382683433*((Zn=ji+Yr)-(Tn=yr+Es)),ea=.5411961*Zn+Qi,Si=1.306562965*Tn+Qi,Xi=.707106781*(Ss=Yr+yr),Zi=Es+Xi,Oo=Es-Xi;Ue[it+40]=Oo+ea,Ue[it+24]=Oo-ea,Ue[it+8]=Zi+Si,Ue[it+56]=Zi-Si,it++}for(rt=0;rt<64;++rt)ft=Ue[rt]*Q[rt],y[rt]=ft>0?ft+.5|0:ft-.5|0;return y})(E,R),ge=0;ge<64;++ge)k[le[ge]]=Te[ge];var De=k[0]-G;G=k[0],De==0?V(oe[0]):(V(oe[j[fe=32767+De]]),V(b[fe]));for(var Xe=63;Xe>0&&k[Xe]==0;)Xe--;if(Xe==0)return V(ke),G;for(var Oe,ce=1;ce<=Xe;){for(var Ht=ce;k[ce]==0&&ce<=Xe;)++ce;var Et=ce-Ht;if(Et>=16){Oe=Et>>4;for(var Be=1;Be<=Oe;++Be)V(Se);Et&=15}fe=32767+k[ce],V($[(Et<<4)+j[fe]]),V(b[fe]),ce++}return Xe!=63&&V(ke),G}function J(E){E=Math.min(Math.max(E,1),100),l!=E&&((function(R){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var $=d((G[oe]*R+50)/100);$=Math.min(Math.max($,1),255),u[le[oe]]=$}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var Se=d((fe[ke]*R+50)/100);Se=Math.min(Math.max(Se,1),255),h[le[ke]]=Se}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,De=0;De<8;De++)for(var Xe=0;Xe<8;Xe++)g[ge]=1/(u[le[ge]]*Te[De]*Te[Xe]*8),p[ge]=1/(h[le[ge]]*Te[De]*Te[Xe]*8),ge++})(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),l=E)}this.encode=function(E,R){R&&J(R),S=new Array,C=0,L=7,pe(65496),pe(65504),pe(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),pe(1),pe(1),Z(0),Z(0),(function(){pe(65499),pe(132),Z(0);for(var Ne=0;Ne<64;Ne++)Z(u[Ne]);Z(1);for(var Ce=0;Ce<64;Ce++)Z(h[Ce])})(),(function(Ne,Ce){pe(65472),pe(17),Z(8),pe(Ce),pe(Ne),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)})(E.width,E.height),(function(){pe(65476),pe(418),Z(0);for(var Ne=0;Ne<16;Ne++)Z(ie[Ne+1]);for(var Ce=0;Ce<=11;Ce++)Z(ee[Ce]);Z(16);for(var Me=0;Me<16;Me++)Z(me[Me+1]);for(var Ie=0;Ie<=161;Ie++)Z(O[Ie]);Z(1);for(var Ve=0;Ve<16;Ve++)Z(B[Ve+1]);for(var at=0;at<=11;at++)Z(te[at]);Z(17);for(var et=0;et<16;et++)Z(re[et+1]);for(var rt=0;rt<=161;rt++)Z(H[rt])})(),pe(65498),pe(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var G=0,oe=0,$=0;C=0,L=7,this.encode.displayName="_encode_";for(var fe,ke,Se,Te,ge,De,Xe,Oe,ce,Ht=E.data,Et=E.width,Be=E.height,Ue=4*Et,Q=0;Q<Be;){for(fe=0;fe<Ue;){for(ge=Ue*Q+fe,Xe=-1,Oe=0,ce=0;ce<64;ce++)De=ge+(Oe=ce>>3)*Ue+(Xe=4*(7&ce)),Q+Oe>=Be&&(De-=Ue*(Q+1+Oe-Be)),fe+Xe>=Ue&&(De-=fe+Xe-Ue+4),ke=Ht[De++],Se=Ht[De++],Te=Ht[De++],D[ce]=(ue[ke]+ue[Se+256|0]+ue[Te+512|0]>>16)-128,_[ce]=(ue[ke+768|0]+ue[Se+1024|0]+ue[Te+1280|0]>>16)-128,F[ce]=(ue[ke+1280|0]+ue[Se+1536|0]+ue[Te+1792|0]>>16)-128;G=we(D,g,G,t,a),oe=we(_,p,oe,s,o),$=we(F,p,$,s,o),fe+=32}Q+=8}if(L>=0){var de=[];de[1]=L+1,de[0]=(1<<L+1)-1,V(de)}return pe(65497),new Uint8Array(S)},e=e||50,(function(){for(var E=String.fromCharCode,R=0;R<256;R++)X[R]=E(R)})(),t=K(ie,ee),s=K(B,te),a=K(me,O),o=K(re,H),(function(){for(var E=1,R=2,G=1;G<=15;G++){for(var oe=E;oe<R;oe++)j[32767+oe]=G,b[32767+oe]=[],b[32767+oe][1]=G,b[32767+oe][0]=oe;for(var $=-(R-1);$<=-E;$++)j[32767+$]=G,b[32767+$]=[],b[32767+$][1]=G,b[32767+$][0]=R-1+$;E<<=1,R<<=1}})(),(function(){for(var E=0;E<256;E++)ue[E]=19595*E,ue[E+256|0]=38470*E,ue[E+512|0]=7471*E+32768,ue[E+768|0]=-11059*E,ue[E+1024|0]=-21709*E,ue[E+1280|0]=32768*E+8421375,ue[E+1536|0]=-27439*E,ue[E+1792|0]=-5329*E})(),J(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function li(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Sy(e){function t(ee){if(!ee)throw Error("assert :P")}function s(ee,me,O){for(var B=0;4>B;B++)if(ee[me+B]!=O.charCodeAt(B))return!0;return!1}function a(ee,me,O,B,te){for(var re=0;re<te;re++)ee[me+re]=O[B+re]}function o(ee,me,O,B){for(var te=0;te<B;te++)ee[me+te]=O}function l(ee){return new Int32Array(ee)}function d(ee,me){for(var O=[],B=0;B<ee;B++)O.push(new me);return O}function u(ee,me){var O=[];return(function B(te,re,H){for(var K=H[re],V=0;V<K&&(te.push(H.length>re+1?[]:new me),!(H.length<re+1));V++)B(te[V],re+1,H)})(O,0,ee),O}var h=function(){var ee=this;function me(f,x){for(var N=1<<x-1>>>0;f&N;)N>>>=1;return N?(f&N-1)+N:f}function O(f,x,N,P,T){t(!(P%N));do f[x+(P-=N)]=T;while(0<P)}function B(f,x,N,P,T){if(t(2328>=T),512>=T)var U=l(512);else if((U=l(T))==null)return 0;return(function(z,W,Y,se,ye,Pe){var ne,be,_e=W,He=1<<Y,Ee=l(16),ze=l(16);for(t(ye!=0),t(se!=null),t(z!=null),t(0<Y),be=0;be<ye;++be){if(15<se[be])return 0;++Ee[se[be]]}if(Ee[0]==ye)return 0;for(ze[1]=0,ne=1;15>ne;++ne){if(Ee[ne]>1<<ne)return 0;ze[ne+1]=ze[ne]+Ee[ne]}for(be=0;be<ye;++be)ne=se[be],0<se[be]&&(Pe[ze[ne]++]=be);if(ze[15]==1)return(se=new te).g=0,se.value=Pe[0],O(z,_e,1,He,se),He;var $e,Ge=-1,Ke=He-1,bt=0,dt=1,Ut=1,gt=1<<Y;for(be=0,ne=1,ye=2;ne<=Y;++ne,ye<<=1){if(dt+=Ut<<=1,0>(Ut-=Ee[ne]))return 0;for(;0<Ee[ne];--Ee[ne])(se=new te).g=ne,se.value=Pe[be++],O(z,_e+bt,ye,gt,se),bt=me(bt,ne)}for(ne=Y+1,ye=2;15>=ne;++ne,ye<<=1){if(dt+=Ut<<=1,0>(Ut-=Ee[ne]))return 0;for(;0<Ee[ne];--Ee[ne]){if(se=new te,(bt&Ke)!=Ge){for(_e+=gt,$e=1<<(Ge=ne)-Y;15>Ge&&!(0>=($e-=Ee[Ge]));)++Ge,$e<<=1;He+=gt=1<<($e=Ge-Y),z[W+(Ge=bt&Ke)].g=$e+Y,z[W+Ge].value=_e-W-Ge}se.g=ne-Y,se.value=Pe[be++],O(z,_e+(bt>>Y),ye,gt,se),bt=me(bt,ne)}}return dt!=2*ze[15]-1?0:He})(f,x,N,P,T,U)}function te(){this.value=this.g=0}function re(){this.value=this.g=0}function H(){this.G=d(5,te),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(Hs,re)}function K(f,x,N,P){t(f!=null),t(x!=null),t(2147483648>P),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=x,f.pa=N,f.Jd=x,f.Yc=N+P,f.Zc=4<=P?N+P-4+1:N,ke(f)}function V(f,x){for(var N=0;0<x--;)N|=Te(f,128)<<x;return N}function Z(f,x){var N=V(f,x);return Se(f)?-N:N}function pe(f,x,N,P){var T,U=0;for(t(f!=null),t(x!=null),t(4294967288>P),f.Sb=P,f.Ra=0,f.u=0,f.h=0,4<P&&(P=4),T=0;T<P;++T)U+=x[N+T]<<8*T;f.Ra=U,f.bb=P,f.oa=x,f.pa=N}function we(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Di-8>>>0,++f.bb,f.u-=8;oe(f)&&(f.h=1,f.u=0)}function J(f,x){if(t(0<=x),!f.h&&x<=Ol){var N=G(f)&Ei[x];return f.u+=x,we(f),N}return f.h=1,f.u=0}function E(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(f){return f.Ra>>>(f.u&Di-1)>>>0}function oe(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Di}function $(f,x){f.u=x,f.h=oe(f)}function fe(f){f.u>=Ir&&(t(f.u>=Ir),we(f))}function ke(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function Se(f){return V(f,1)}function Te(f,x){var N=f.Ca;0>f.b&&ke(f);var P=f.b,T=N*x>>>8,U=(f.I>>>P>T)+0;for(U?(N-=T,f.I-=T+1<<P>>>0):N=T+1,P=N,T=0;256<=P;)T+=8,P>>=8;return P=7^T+Rc[P],f.b-=P,f.Ca=(N<<P)-1,U}function ge(f,x,N){f[x+0]=N>>24&255,f[x+1]=N>>16&255,f[x+2]=N>>8&255,f[x+3]=255&N}function De(f,x){return f[x+0]|f[x+1]<<8}function Xe(f,x){return De(f,x)|f[x+2]<<16}function Oe(f,x){return De(f,x)|De(f,x+2)<<16}function ce(f,x){var N=1<<x;return t(f!=null),t(0<x),f.X=l(N),f.X==null?0:(f.Mb=32-x,f.Xa=x,1)}function Ht(f,x){t(f!=null),t(x!=null),t(f.Xa==x.Xa),a(x.X,0,f.X,0,1<<x.Xa)}function Et(){this.X=[],this.Xa=this.Mb=0}function Be(f,x,N,P){t(N!=null),t(P!=null);var T=N[0],U=P[0];return T==0&&(T=(f*U+x/2)/x),U==0&&(U=(x*T+f/2)/f),0>=T||0>=U?0:(N[0]=T,P[0]=U,1)}function Ue(f,x){return f+(1<<x)-1>>>x}function Q(f,x){return((4278255360&f)+(4278255360&x)>>>0&4278255360)+((16711935&f)+(16711935&x)>>>0&16711935)>>>0}function de(f,x){ee[x]=function(N,P,T,U,z,W,Y){var se;for(se=0;se<z;++se){var ye=ee[f](W[Y+se-1],T,U+se);W[Y+se]=Q(N[P+se],ye)}}}function Ne(){this.ud=this.hd=this.jd=0}function Ce(f,x){return((4278124286&(f^x))>>>1)+(f&x)>>>0}function Me(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Ie(f,x){return Me(f+(f-x+.5>>1))}function Ve(f,x,N){return Math.abs(x-N)-Math.abs(f-N)}function at(f,x,N,P,T,U,z){for(P=U[z-1],N=0;N<T;++N)U[z+N]=P=Q(f[x+N],P)}function et(f,x,N,P,T){var U;for(U=0;U<N;++U){var z=f[x+U],W=z>>8&255,Y=16711935&(Y=(Y=16711935&z)+((W<<16)+W));P[T+U]=(4278255360&z)+Y>>>0}}function rt(f,x){x.jd=255&f,x.hd=f>>8&255,x.ud=f>>16&255}function ft(f,x,N,P,T,U){var z;for(z=0;z<P;++z){var W=x[N+z],Y=W>>>8,se=W,ye=255&(ye=(ye=W>>>16)+((f.jd<<24>>24)*(Y<<24>>24)>>>5));se=255&(se=(se+=(f.hd<<24>>24)*(Y<<24>>24)>>>5)+((f.ud<<24>>24)*(ye<<24>>24)>>>5)),T[U+z]=(4278255360&W)+(ye<<16)+se}}function it(f,x,N,P,T){ee[x]=function(U,z,W,Y,se,ye,Pe,ne,be){for(Y=Pe;Y<ne;++Y)for(Pe=0;Pe<be;++Pe)se[ye++]=T(W[P(U[z++])])},ee[f]=function(U,z,W,Y,se,ye,Pe){var ne=8>>U.b,be=U.Ea,_e=U.K[0],He=U.w;if(8>ne)for(U=(1<<U.b)-1,He=(1<<ne)-1;z<W;++z){var Ee,ze=0;for(Ee=0;Ee<be;++Ee)Ee&U||(ze=P(Y[se++])),ye[Pe++]=T(_e[ze&He]),ze>>=ne}else ee["VP8LMapColor"+N](Y,se,_e,He,ye,Pe,z,W,be)}}function er(f,x,N,P,T){for(N=x+N;x<N;){var U=f[x++];P[T++]=U>>16&255,P[T++]=U>>8&255,P[T++]=255&U}}function zt(f,x,N,P,T){for(N=x+N;x<N;){var U=f[x++];P[T++]=U>>16&255,P[T++]=U>>8&255,P[T++]=255&U,P[T++]=U>>24&255}}function nt(f,x,N,P,T){for(N=x+N;x<N;){var U=(z=f[x++])>>16&240|z>>12&15,z=240&z|z>>28&15;P[T++]=U,P[T++]=z}}function St(f,x,N,P,T){for(N=x+N;x<N;){var U=(z=f[x++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;P[T++]=U,P[T++]=z}}function Mt(f,x,N,P,T){for(N=x+N;x<N;){var U=f[x++];P[T++]=255&U,P[T++]=U>>8&255,P[T++]=U>>16&255}}function ot(f,x,N,P,T,U){if(U==0)for(N=x+N;x<N;)ge(P,((U=f[x++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),T+=32;else a(P,T,f,x,N)}function It(f,x){ee[x][0]=ee[f+"0"],ee[x][1]=ee[f+"1"],ee[x][2]=ee[f+"2"],ee[x][3]=ee[f+"3"],ee[x][4]=ee[f+"4"],ee[x][5]=ee[f+"5"],ee[x][6]=ee[f+"6"],ee[x][7]=ee[f+"7"],ee[x][8]=ee[f+"8"],ee[x][9]=ee[f+"9"],ee[x][10]=ee[f+"10"],ee[x][11]=ee[f+"11"],ee[x][12]=ee[f+"12"],ee[x][13]=ee[f+"13"],ee[x][14]=ee[f+"0"],ee[x][15]=ee[f+"0"]}function At(f){return f==el||f==go||f==ql||f==$l}function dr(){this.eb=[],this.size=this.A=this.fb=0}function tr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new dr,this.f.kb=new tr,this.sd=null}function Ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ni(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function js(f,x){var N=f.T,P=x.ba.f.RGBA,T=P.eb,U=P.fb+f.ka*P.A,z=nn[x.ba.S],W=f.y,Y=f.O,se=f.f,ye=f.N,Pe=f.ea,ne=f.W,be=x.cc,_e=x.dc,He=x.Mc,Ee=x.Nc,ze=f.ka,$e=f.ka+f.T,Ge=f.U,Ke=Ge+1>>1;for(ze==0?z(W,Y,null,null,se,ye,Pe,ne,se,ye,Pe,ne,T,U,null,null,Ge):(z(x.ec,x.fc,W,Y,be,_e,He,Ee,se,ye,Pe,ne,T,U-P.A,T,U,Ge),++N);ze+2<$e;ze+=2)be=se,_e=ye,He=Pe,Ee=ne,ye+=f.Rc,ne+=f.Rc,U+=2*P.A,z(W,(Y+=2*f.fa)-f.fa,W,Y,be,_e,He,Ee,se,ye,Pe,ne,T,U-P.A,T,U,Ge);return Y+=f.fa,f.j+$e<f.o?(a(x.ec,x.fc,W,Y,Ge),a(x.cc,x.dc,se,ye,Ke),a(x.Mc,x.Nc,Pe,ne,Ke),N--):1&$e||z(W,Y,null,null,se,ye,Pe,ne,se,ye,Pe,ne,T,U+P.A,null,null,Ge),N}function ya(f,x,N){var P=f.F,T=[f.J];if(P!=null){var U=f.U,z=x.ba.S,W=z==zl||z==ql;x=x.ba.f.RGBA;var Y=[0],se=f.ka;Y[0]=f.T,f.Kb&&(se==0?--Y[0]:(--se,T[0]-=f.width),f.j+f.ka+f.T==f.o&&(Y[0]=f.o-f.j-se));var ye=x.eb;se=x.fb+se*x.A,f=Bl(P,T[0],f.width,U,Y,ye,se+(W?0:3),x.A),t(N==Y),f&&At(z)&&po(ye,se,W,U,Y,x.A)}return 0}function Fn(f){var x=f.ma,N=x.ba.S,P=11>N,T=N==Ii||N==Ul||N==zl||N==fr||N==12||At(N);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!$s(x.Oa,f,T?11:12))return 0;if(T&&At(N)&&Il(),f.da)alert("todo:use_scaling");else{if(P){if(x.Ib=Ni,f.Kb){if(N=f.U+1>>1,x.memory=l(f.U+2*N),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+f.U,x.Mc=x.cc,x.Nc=x.dc+N,x.Ib=js,Il()}}else alert("todo:EmitYUV");T&&(x.Jb=ya,P&&co())}if(P&&!As){for(f=0;256>f;++f)an[f]=89858*(f-128)+oa>>Za,on[f]=-22014*(f-128)+oa,nl[f]=-45773*(f-128),bo[f]=113618*(f-128)+oa>>Za;for(f=cr;f<ur;++f)x=76283*(f-16)+oa>>Za,Vc[f-cr]=as(x,255),eh[f-cr]=as(x+8>>4,15);As=1}return 1}function kt(f){var x=f.ma,N=f.U,P=f.T;return t(!(1&f.ka)),0>=N||0>=P?0:(N=x.Ib(f,x),x.Jb!=null&&x.Jb(f,x,N),x.Dc+=N,1)}function gn(f){f.ma.memory=null}function Xn(f,x,N,P){return J(f,8)!=47?0:(x[0]=J(f,14)+1,N[0]=J(f,14)+1,P[0]=J(f,1),J(f,3)!=0?0:!f.h)}function Es(f,x){if(4>f)return f+1;var N=f-2>>1;return(2+(1&f)<<N)+J(x,N)+1}function In(f,x){return 120<x?x-120:1<=(N=((N=Zf[x-1])>>4)*f+(8-(15&N)))?N:1;var N}function yr(f,x,N){var P=G(N),T=f[x+=255&P].g-8;return 0<T&&($(N,N.u+8),P=G(N),x+=f[x].value,x+=P&(1<<T)-1),$(N,N.u+f[x].g),f[x].value}function Ur(f,x,N){return N.g+=f.g,N.value+=f.value<<x>>>0,t(8>=N.g),f.g}function Yr(f,x,N){var P=f.xc;return t((x=P==0?0:f.vc[f.md*(N>>P)+(x>>P)])<f.Wb),f.Ya[x]}function za(f,x,N,P){var T=f.ab,U=f.c*x,z=f.C;x=z+x;var W=N,Y=P;for(P=f.Ta,N=f.Ua;0<T--;){var se=f.gc[T],ye=z,Pe=x,ne=W,be=Y,_e=(Y=P,W=N,se.Ea);switch(t(ye<Pe),t(Pe<=se.nc),se.hc){case 2:Ko(ne,be,(Pe-ye)*_e,Y,W);break;case 0:var He=ye,Ee=Pe,ze=Y,$e=W,Ge=(gt=se).Ea;He==0&&(en(ne,be,null,null,1,ze,$e),at(ne,be+1,0,0,Ge-1,ze,$e+1),be+=Ge,$e+=Ge,++He);for(var Ke=1<<gt.b,bt=Ke-1,dt=Ue(Ge,gt.b),Ut=gt.K,gt=gt.w+(He>>gt.b)*dt;He<Ee;){var Kt=Ut,Tr=gt,qt=1;for(tn(ne,be,ze,$e-Ge,1,ze,$e);qt<Ge;){var ut=(qt&~bt)+Ke;ut>Ge&&(ut=Ge),(0,Xa[Kt[Tr++]>>8&15])(ne,be+ +qt,ze,$e+qt-Ge,ut-qt,ze,$e+qt),qt=ut}be+=Ge,$e+=Ge,++He&bt||(gt+=dt)}Pe!=se.nc&&a(Y,W-_e,Y,W+(Pe-ye-1)*_e,_e);break;case 1:for(_e=ne,Ee=be,Ge=(ne=se.Ea)-($e=ne&~(ze=(be=1<<se.b)-1)),He=Ue(ne,se.b),Ke=se.K,se=se.w+(ye>>se.b)*He;ye<Pe;){for(bt=Ke,dt=se,Ut=new Ne,gt=Ee+$e,Kt=Ee+ne;Ee<gt;)rt(bt[dt++],Ut),Aa(Ut,_e,Ee,be,Y,W),Ee+=be,W+=be;Ee<Kt&&(rt(bt[dt++],Ut),Aa(Ut,_e,Ee,Ge,Y,W),Ee+=Ge,W+=Ge),++ye&ze||(se+=He)}break;case 3:if(ne==Y&&be==W&&0<se.b){for(Ee=Y,ne=_e=W+(Pe-ye)*_e-($e=(Pe-ye)*Ue(se.Ea,se.b)),be=Y,ze=W,He=[],$e=(Ge=$e)-1;0<=$e;--$e)He[$e]=be[ze+$e];for($e=Ge-1;0<=$e;--$e)Ee[ne+$e]=He[$e];Fi(se,ye,Pe,Y,_e,Y,W)}else Fi(se,ye,Pe,ne,be,Y,W)}W=P,Y=N}Y!=N&&a(P,N,W,Y,U)}function ji(f,x){var N=f.V,P=f.Ba+f.c*f.C,T=x-f.C;if(t(x<=f.l.o),t(16>=T),0<T){var U=f.l,z=f.Ta,W=f.Ua,Y=U.width;if(za(f,T,N,P),T=W=[W],t((N=f.C)<(P=x)),t(U.v<U.va),P>U.o&&(P=U.o),N<U.j){var se=U.j-N;N=U.j,T[0]+=se*Y}if(N>=P?N=0:(T[0]+=4*U.v,U.ka=N-U.j,U.U=U.va-U.v,U.T=P-N,N=1),N){if(W=W[0],11>(N=f.ca).S){var ye=N.f.RGBA,Pe=(P=N.S,T=U.U,U=U.T,se=ye.eb,ye.A),ne=U;for(ye=ye.fb+f.Ma*ye.A;0<ne--;){var be=z,_e=W,He=T,Ee=se,ze=ye;switch(P){case Uc:Jo(be,_e,He,Ee,ze);break;case Ii:rn(be,_e,He,Ee,ze);break;case el:rn(be,_e,He,Ee,ze),po(Ee,ze,0,He,1,0);break;case Yu:br(be,_e,He,Ee,ze);break;case Ul:ot(be,_e,He,Ee,ze,1);break;case go:ot(be,_e,He,Ee,ze,1),po(Ee,ze,0,He,1,0);break;case zl:ot(be,_e,He,Ee,ze,0);break;case ql:ot(be,_e,He,Ee,ze,0),po(Ee,ze,1,He,1,0);break;case fr:Ca(be,_e,He,Ee,ze);break;case $l:Ca(be,_e,He,Ee,ze),Md(Ee,ze,He,1,0);break;case zc:vr(be,_e,He,Ee,ze);break;default:t(0)}W+=Y,ye+=Pe}f.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=N.height)}}f.C=x,t(f.C<=f.i)}function Zn(f){var x;if(0<f.ua)return 0;for(x=0;x<f.Wb;++x){var N=f.Ya[x].G,P=f.Ya[x].H;if(0<N[1][P[1]+0].g||0<N[2][P[2]+0].g||0<N[3][P[3]+0].g)return 0}return 1}function va(f,x,N,P,T,U){if(f.Z!=0){var z=f.qd,W=f.rd;for(t(Is[f.Z]!=null);x<N;++x)Is[f.Z](z,W,P,T,P,T,U),z=P,W=T,T+=U;f.qd=z,f.rd=W}}function Ss(f,x){var N=f.l.ma,P=N.Z==0||N.Z==1?f.l.j:f.C;if(P=f.C<P?P:f.C,t(x<=f.l.o),x>P){var T=f.l.width,U=N.ca,z=N.tb+T*P,W=f.V,Y=f.Ba+f.c*P,se=f.gc;t(f.ab==1),t(se[0].hc==3),ho(se[0],P,x,W,Y,U,z),va(N,P,x,U,z,T)}f.C=f.Ma=x}function Tn(f,x,N,P,T,U,z){var W=f.$/P,Y=f.$%P,se=f.m,ye=f.s,Pe=N+f.$,ne=Pe;T=N+P*T;var be=N+P*U,_e=280+ye.ua,He=f.Pb?W:16777216,Ee=0<ye.ua?ye.Wa:null,ze=ye.wc,$e=Pe<be?Yr(ye,Y,W):null;t(f.C<U),t(be<=T);var Ge=!1;e:for(;;){for(;Ge||Pe<be;){var Ke=0;if(W>=He){var bt=Pe-N;t((He=f).Pb),He.wd=He.m,He.xd=bt,0<He.s.ua&&Ht(He.s.Wa,He.s.vb),He=W+$c}if(Y&ze||($e=Yr(ye,Y,W)),t($e!=null),$e.Qb&&(x[Pe]=$e.qb,Ge=!0),!Ge)if(fe(se),$e.jc){Ke=se,bt=x;var dt=Pe,Ut=$e.pd[G(Ke)&Hs-1];t($e.jc),256>Ut.g?($(Ke,Ke.u+Ut.g),bt[dt]=Ut.value,Ke=0):($(Ke,Ke.u+Ut.g-256),t(256<=Ut.value),Ke=Ut.value),Ke==0&&(Ge=!0)}else Ke=yr($e.G[0],$e.H[0],se);if(se.h)break;if(Ge||256>Ke){if(!Ge)if($e.nd)x[Pe]=($e.qb|Ke<<8)>>>0;else{if(fe(se),Ge=yr($e.G[1],$e.H[1],se),fe(se),bt=yr($e.G[2],$e.H[2],se),dt=yr($e.G[3],$e.H[3],se),se.h)break;x[Pe]=(dt<<24|Ge<<16|Ke<<8|bt)>>>0}if(Ge=!1,++Pe,++Y>=P&&(Y=0,++W,z!=null&&W<=U&&!(W%16)&&z(f,W),Ee!=null))for(;ne<Pe;)Ke=x[ne++],Ee.X[(506832829*Ke&4294967295)>>>Ee.Mb]=Ke}else if(280>Ke){if(Ke=Es(Ke-256,se),bt=yr($e.G[4],$e.H[4],se),fe(se),bt=In(P,bt=Es(bt,se)),se.h)break;if(Pe-N<bt||T-Pe<Ke)break e;for(dt=0;dt<Ke;++dt)x[Pe+dt]=x[Pe+dt-bt];for(Pe+=Ke,Y+=Ke;Y>=P;)Y-=P,++W,z!=null&&W<=U&&!(W%16)&&z(f,W);if(t(Pe<=T),Y&ze&&($e=Yr(ye,Y,W)),Ee!=null)for(;ne<Pe;)Ke=x[ne++],Ee.X[(506832829*Ke&4294967295)>>>Ee.Mb]=Ke}else{if(!(Ke<_e))break e;for(Ge=Ke-280,t(Ee!=null);ne<Pe;)Ke=x[ne++],Ee.X[(506832829*Ke&4294967295)>>>Ee.Mb]=Ke;Ke=Pe,t(!(Ge>>>(bt=Ee).Xa)),x[Ke]=bt.X[Ge],Ge=!0}Ge||t(se.h==oe(se))}if(f.Pb&&se.h&&Pe<T)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Ht(f.s.vb,f.s.Wa);else{if(se.h)break e;z?.(f,W>U?U:W),f.a=0,f.$=Pe-N}return 1}return f.a=3,0}function xn(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var x=f.Wa;x!=null&&(x.X=null),f.vb=null,t(f!=null)}function Qi(){var f=new Lr;return f==null?null:(f.a=0,f.xb=rl,It("Predictor","VP8LPredictors"),It("Predictor","VP8LPredictors_C"),It("PredictorAdd","VP8LPredictorsAdd"),It("PredictorAdd","VP8LPredictorsAdd_C"),Ko=et,Aa=ft,Jo=er,rn=zt,Ca=nt,vr=St,br=Mt,ee.VP8LMapColor32b=Yo,ee.VP8LMapColor8b=Qa,f)}function ea(f,x,N,P,T){var U=1,z=[f],W=[x],Y=P.m,se=P.s,ye=null,Pe=0;e:for(;;){if(N)for(;U&&J(Y,1);){var ne=z,be=W,_e=P,He=1,Ee=_e.m,ze=_e.gc[_e.ab],$e=J(Ee,2);if(_e.Oc&1<<$e)U=0;else{switch(_e.Oc|=1<<$e,ze.hc=$e,ze.Ea=ne[0],ze.nc=be[0],ze.K=[null],++_e.ab,t(4>=_e.ab),$e){case 0:case 1:ze.b=J(Ee,3)+2,He=ea(Ue(ze.Ea,ze.b),Ue(ze.nc,ze.b),0,_e,ze.K),ze.K=ze.K[0];break;case 3:var Ge,Ke=J(Ee,8)+1,bt=16<Ke?0:4<Ke?1:2<Ke?2:3;if(ne[0]=Ue(ze.Ea,bt),ze.b=bt,Ge=He=ea(Ke,1,0,_e,ze.K)){var dt,Ut=Ke,gt=ze,Kt=1<<(8>>gt.b),Tr=l(Kt);if(Tr==null)Ge=0;else{var qt=gt.K[0],ut=gt.w;for(Tr[0]=gt.K[0][0],dt=1;dt<1*Ut;++dt)Tr[dt]=Q(qt[ut+dt],Tr[dt-1]);for(;dt<4*Kt;++dt)Tr[dt]=0;gt.K[0]=null,gt.K[0]=Tr,Ge=1}}He=Ge;break;case 2:break;default:t(0)}U=He}}if(z=z[0],W=W[0],U&&J(Y,1)&&!(U=1<=(Pe=J(Y,4))&&11>=Pe)){P.a=3;break e}var st;if(st=U)t:{var Vr,Dt,Gt,wr=P,gs=z,Zr=W,Er=Pe,os=N,xs=wr.m,Ar=wr.s,Jt=[null],nr=1,Cr=0,ar=Qu[Er];r:for(;;){if(os&&J(xs,1)){var Rr=J(xs,3)+2,Or=Ue(gs,Rr),mr=Ue(Zr,Rr),Ts=Or*mr;if(!ea(Or,mr,0,wr,Jt))break r;for(Jt=Jt[0],Ar.xc=Rr,Vr=0;Vr<Ts;++Vr){var hr=Jt[Vr]>>8&65535;Jt[Vr]=hr,hr>=nr&&(nr=hr+1)}}if(xs.h)break r;for(Dt=0;5>Dt;++Dt){var pr=xo[Dt];!Dt&&0<Er&&(pr+=1<<Er),Cr<pr&&(Cr=pr)}var es=d(nr*ar,te),Cs=nr,ln=d(Cs,H);if(ln==null)var Hr=null;else t(65536>=Cs),Hr=ln;var Wr=l(Cr);if(Hr==null||Wr==null||es==null){wr.a=1;break r}var Rs=es;for(Vr=Gt=0;Vr<nr;++Vr){var gr=Hr[Vr],Os=gr.G,zn=gr.H,la=0,ys=1,Gr=0;for(Dt=0;5>Dt;++Dt){pr=xo[Dt],Os[Dt]=Rs,zn[Dt]=Gt,!Dt&&0<Er&&(pr+=1<<Er);n:{var Oi,ti=pr,al=wr,Ea=Wr,rh=Rs,Jd=Gt,jr=0,ca=al.m,Qd=J(ca,1);if(o(Ea,0,0,ti),Qd){var Xd=J(ca,1)+1,Hc=J(ca,1),Wc=J(ca,Hc==0?1:8);Ea[Wc]=1,Xd==2&&(Ea[Wc=J(ca,8)]=1);var Da=1}else{var _r=l(19),ts=J(ca,4)+4;if(19<ts){al.a=3;var Kr=0;break n}for(Oi=0;Oi<ts;++Oi)_r[Xf[Oi]]=J(ca,3);var il=void 0,ri=void 0,ol=al,nm=_r,ls=ti,Gc=Ea,Kl=0,Fa=ol.m,da=8,Nn=d(128,te);s:for(;B(Nn,0,7,nm,19);){if(J(Fa,1)){var Yl=2+2*J(Fa,3);if((il=2+J(Fa,Yl))>ls)break s}else il=ls;for(ri=0;ri<ls&&il--;){fe(Fa);var Kc=Nn[0+(127&G(Fa))];$(Fa,Fa.u+Kc.g);var Mi=Kc.value;if(16>Mi)Gc[ri++]=Mi,Mi!=0&&(da=Mi);else{var sh=Mi==16,Zd=Mi-16,nh=qc[Zd],eu=J(Fa,Vl[Zd])+nh;if(ri+eu>ls)break s;for(var ah=sh?da:0;0<eu--;)Gc[ri++]=ah}}Kl=1;break s}Kl||(ol.a=3),Da=Kl}(Da=Da&&!ca.h)&&(jr=B(rh,Jd,8,Ea,ti)),Da&&jr!=0?Kr=jr:(al.a=3,Kr=0)}if(Kr==0)break r;if(ys&&Ju[Dt]==1&&(ys=Rs[Gt].g==0),la+=Rs[Gt].g,Gt+=Kr,3>=Dt){var ll,Yc=Wr[0];for(ll=1;ll<pr;++ll)Wr[ll]>Yc&&(Yc=Wr[ll]);Gr+=Yc}}if(gr.nd=ys,gr.Qb=0,ys&&(gr.qb=(Os[3][zn[3]+0].value<<24|Os[1][zn[1]+0].value<<16|Os[2][zn[2]+0].value)>>>0,la==0&&256>Os[0][zn[0]+0].value&&(gr.Qb=1,gr.qb+=Os[0][zn[0]+0].value<<8)),gr.jc=!gr.Qb&&6>Gr,gr.jc){var Jl,jn=gr;for(Jl=0;Jl<Hs;++Jl){var si=Jl,ua=jn.pd[si],No=jn.G[0][jn.H[0]+si];256<=No.value?(ua.g=No.g+256,ua.value=No.value):(ua.g=0,ua.value=0,si>>=Ur(No,8,ua),si>>=Ur(jn.G[1][jn.H[1]+si],16,ua),si>>=Ur(jn.G[2][jn.H[2]+si],0,ua),Ur(jn.G[3][jn.H[3]+si],24,ua))}}}Ar.vc=Jt,Ar.Wb=nr,Ar.Ya=Hr,Ar.yc=es,st=1;break t}st=0}if(!(U=st)){P.a=3;break e}if(0<Pe){if(se.ua=1<<Pe,!ce(se.Wa,Pe)){P.a=1,U=0;break e}}else se.ua=0;var Jc=P,Qc=z,ih=W,Xc=Jc.s,Zc=Xc.xc;if(Jc.c=Qc,Jc.i=ih,Xc.md=Ue(Qc,Zc),Xc.wc=Zc==0?-1:(1<<Zc)-1,N){P.xb=La;break e}if((ye=l(z*W))==null){P.a=1,U=0;break e}U=(U=Tn(P,ye,0,z,W,W,null))&&!Y.h;break e}return U?(T!=null?T[0]=ye:(t(ye==null),t(N)),P.$=0,N||xn(se)):xn(se),U}function Si(f,x){var N=f.c*f.i,P=N+x+16*x;return t(f.c<=x),f.V=l(P),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+N+x,1)}function Xi(f,x){var N=f.C,P=x-N,T=f.V,U=f.Ba+f.c*N;for(t(x<=f.l.o);0<P;){var z=16<P?16:P,W=f.l.ma,Y=f.l.width,se=Y*z,ye=W.ca,Pe=W.tb+Y*N,ne=f.Ta,be=f.Ua;za(f,z,T,U),Bd(ne,be,ye,Pe,se),va(W,N,N+z,ye,Pe,Y),P-=z,T+=z*f.c,N+=z}t(N==x),f.C=f.Ma=x}function Zi(){this.ub=this.yd=this.td=this.Rb=0}function Oo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Dd(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function Nr(){this.Yb=(function(){var f=[];return(function x(N,P,T){for(var U=T[P],z=0;z<U&&(N.push(T.length>P+1?[]:0),!(T.length<P+1));z++)x(N[z],P+1,T)})(f,0,[3,11]),f})()}function jc(){this.jb=l(3),this.Wc=u([4,8],Nr),this.Xc=u([4,17],Nr)}function Mo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function yn(){this.ld=this.La=this.dd=this.tc=0}function ki(){this.Na=this.la=0}function Sc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bo(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function eo(){this.uc=this.M=this.Nb=0,this.wa=Array(new yn),this.Y=0,this.ya=Array(new Bo),this.aa=0,this.l=new Ds}function vn(){this.y=l(16),this.f=l(8),this.ea=l(8)}function kc(){this.cb=this.a=0,this.sc="",this.m=new E,this.Od=new Zi,this.Kc=new Oo,this.ed=new Mo,this.Qa=new Dd,this.Ic=this.$c=this.Aa=0,this.D=new eo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,E),this.ia=0,this.pb=d(4,Sc),this.Pa=new jc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vn),this.Hd=0,this.rb=Array(new ki),this.sb=0,this.wa=Array(new yn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bo),this.L=this.aa=0,this.gd=u([4,2],yn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ds(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fd(){var f=new kc;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,yo||(yo=Rn)),f}function Jr(f,x,N){return f.a==0&&(f.a=x,f.sc=N,f.cb=0),0}function Ac(f,x,N){return 3<=N&&f[x+0]==157&&f[x+1]==1&&f[x+2]==42}function to(f,x){if(f==null)return 0;if(f.a=0,f.sc="OK",x==null)return Jr(f,2,"null VP8Io passed to VP8GetHeaders()");var N=x.data,P=x.w,T=x.ha;if(4>T)return Jr(f,7,"Truncated header.");var U=N[P+0]|N[P+1]<<8|N[P+2]<<16,z=f.Od;if(z.Rb=!(1&U),z.td=U>>1&7,z.yd=U>>4&1,z.ub=U>>5,3<z.td)return Jr(f,3,"Incorrect keyframe parameters.");if(!z.yd)return Jr(f,4,"Frame not displayable.");P+=3,T-=3;var W=f.Kc;if(z.Rb){if(7>T)return Jr(f,7,"cannot parse picture header");if(!Ac(N,P,T))return Jr(f,3,"Bad code word");W.c=16383&(N[P+4]<<8|N[P+3]),W.Td=N[P+4]>>6,W.i=16383&(N[P+6]<<8|N[P+5]),W.Ud=N[P+6]>>6,P+=7,T-=7,f.za=W.c+15>>4,f.Ub=W.i+15>>4,x.width=W.c,x.height=W.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,o((U=f.Pa).jb,0,255,U.jb.length),t((U=f.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,o(U.Zb,0,0,U.Zb.length),o(U.Lb,0,0,U.Lb)}if(z.ub>T)return Jr(f,7,"bad partition length");K(U=f.m,N,P,z.ub),P+=z.ub,T-=z.ub,z.Rb&&(W.Ld=Se(U),W.Kd=Se(U)),W=f.Qa;var Y,se=f.Pa;if(t(U!=null),t(W!=null),W.Cb=Se(U),W.Cb){if(W.Bb=Se(U),Se(U)){for(W.Fb=Se(U),Y=0;4>Y;++Y)W.Zb[Y]=Se(U)?Z(U,7):0;for(Y=0;4>Y;++Y)W.Lb[Y]=Se(U)?Z(U,6):0}if(W.Bb)for(Y=0;3>Y;++Y)se.jb[Y]=Se(U)?V(U,8):255}else W.Bb=0;if(U.Ka)return Jr(f,3,"cannot parse segment header");if((W=f.ed).zd=Se(U),W.Tb=V(U,6),W.wb=V(U,3),W.Pc=Se(U),W.Pc&&Se(U)){for(se=0;4>se;++se)Se(U)&&(W.vd[se]=Z(U,6));for(se=0;4>se;++se)Se(U)&&(W.od[se]=Z(U,6))}if(f.L=W.Tb==0?0:W.zd?1:2,U.Ka)return Jr(f,3,"cannot parse filter header");var ye=T;if(T=Y=P,P=Y+ye,W=ye,f.Xb=(1<<V(f.m,2))-1,ye<3*(se=f.Xb))N=7;else{for(Y+=3*se,W-=3*se,ye=0;ye<se;++ye){var Pe=N[T+0]|N[T+1]<<8|N[T+2]<<16;Pe>W&&(Pe=W),K(f.Jc[+ye],N,Y,Pe),Y+=Pe,W-=Pe,T+=3}K(f.Jc[+se],N,Y,W),N=Y<P?0:5}if(N!=0)return Jr(f,N,"cannot parse partitions");for(N=V(Y=f.m,7),T=Se(Y)?Z(Y,4):0,P=Se(Y)?Z(Y,4):0,W=Se(Y)?Z(Y,4):0,se=Se(Y)?Z(Y,4):0,Y=Se(Y)?Z(Y,4):0,ye=f.Qa,Pe=0;4>Pe;++Pe){if(ye.Cb){var ne=ye.Zb[Pe];ye.Fb||(ne+=N)}else{if(0<Pe){f.pb[Pe]=f.pb[0];continue}ne=N}var be=f.pb[Pe];be.Sc[0]=tl[as(ne+T,127)],be.Sc[1]=Hl[as(ne+0,127)],be.Eb[0]=2*tl[as(ne+P,127)],be.Eb[1]=101581*Hl[as(ne+W,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=tl[as(ne+se,117)],be.Qc[1]=Hl[as(ne+Y,127)],be.lc=ne+Y}if(!z.Rb)return Jr(f,4,"Not a key frame.");for(Se(U),z=f.Pa,N=0;4>N;++N){for(T=0;8>T;++T)for(P=0;3>P;++P)for(W=0;11>W;++W)se=Te(U,tm[N][T][P][W])?V(U,8):Zu[N][T][P][W],z.Wc[N][T].Yb[P][W]=se;for(T=0;17>T;++T)z.Xc[N][T]=z.Wc[N][Gd[T]]}return f.kc=Se(U),f.kc&&(f.Bd=V(U,8)),f.cb=1}function Rn(f,x,N,P,T,U,z){var W=x[T].Yb[N];for(N=0;16>T;++T){if(!Te(f,W[N+0]))return T;for(;!Te(f,W[N+1]);)if(W=x[++T].Yb[0],N=0,T==16)return 16;var Y=x[T+1].Yb;if(Te(f,W[N+2])){var se=f,ye=0;if(Te(se,(ne=W)[(Pe=N)+3]))if(Te(se,ne[Pe+6])){for(W=0,Pe=2*(ye=Te(se,ne[Pe+8]))+(ne=Te(se,ne[Pe+9+ye])),ye=0,ne=Hd[Pe];ne[W];++W)ye+=ye+Te(se,ne[W]);ye+=3+(8<<Pe)}else Te(se,ne[Pe+7])?(ye=7+2*Te(se,165),ye+=Te(se,145)):ye=5+Te(se,159);else ye=Te(se,ne[Pe+4])?3+Te(se,ne[Pe+5]):2;W=Y[2]}else ye=1,W=Y[1];Y=z+Wd[T],0>(se=f).b&&ke(se);var Pe,ne=se.b,be=(Pe=se.Ca>>1)-(se.I>>ne)>>31;--se.b,se.Ca+=be,se.Ca|=1,se.I-=(Pe+1&be)<<ne,U[Y]=((ye^be)-be)*P[(0<T)+0]}return 16}function ta(f){var x=f.rb[f.sb-1];x.la=0,x.Na=0,o(f.zc,0,0,f.zc.length),f.ja=0}function Qs(f,x,N,P,T){T=f[x+N+32*P]+(T>>3),f[x+N+32*P]=-256&T?0>T?0:255:T}function ro(f,x,N,P,T,U){Qs(f,x,0,N,P+T),Qs(f,x,1,N,P+U),Qs(f,x,2,N,P-U),Qs(f,x,3,N,P-T)}function zr(f){return(20091*f>>16)+f}function so(f,x,N,P){var T,U=0,z=l(16);for(T=0;4>T;++T){var W=f[x+0]+f[x+8],Y=f[x+0]-f[x+8],se=(35468*f[x+4]>>16)-zr(f[x+12]),ye=zr(f[x+4])+(35468*f[x+12]>>16);z[U+0]=W+ye,z[U+1]=Y+se,z[U+2]=Y-se,z[U+3]=W-ye,U+=4,x++}for(T=U=0;4>T;++T)W=(f=z[U+0]+4)+z[U+8],Y=f-z[U+8],se=(35468*z[U+4]>>16)-zr(z[U+12]),Qs(N,P,0,0,W+(ye=zr(z[U+4])+(35468*z[U+12]>>16))),Qs(N,P,1,0,Y+se),Qs(N,P,2,0,Y-se),Qs(N,P,3,0,W-ye),U++,P+=32}function Cc(f,x,N,P){var T=f[x+0]+4,U=35468*f[x+4]>>16,z=zr(f[x+4]),W=35468*f[x+1]>>16;ro(N,P,0,T+z,f=zr(f[x+1]),W),ro(N,P,1,T+U,f,W),ro(N,P,2,T-U,f,W),ro(N,P,3,T-z,f,W)}function Pl(f,x,N,P,T){so(f,x,N,P),T&&so(f,x+16,N,P+4)}function no(f,x,N,P){$r(f,x+0,N,P,1),$r(f,x+32,N,P+128,1)}function ba(f,x,N,P){var T;for(f=f[x+0]+4,T=0;4>T;++T)for(x=0;4>x;++x)Qs(N,P,x,T,f)}function Uo(f,x,N,P){f[x+0]&&ia(f,x+0,N,P),f[x+16]&&ia(f,x+16,N,P+4),f[x+32]&&ia(f,x+32,N,P+128),f[x+48]&&ia(f,x+48,N,P+128+4)}function Zt(f,x,N,P){var T,U=l(16);for(T=0;4>T;++T){var z=f[x+0+T]+f[x+12+T],W=f[x+4+T]+f[x+8+T],Y=f[x+4+T]-f[x+8+T],se=f[x+0+T]-f[x+12+T];U[0+T]=z+W,U[8+T]=z-W,U[4+T]=se+Y,U[12+T]=se-Y}for(T=0;4>T;++T)z=(f=U[0+4*T]+3)+U[3+4*T],W=U[1+4*T]+U[2+4*T],Y=U[1+4*T]-U[2+4*T],se=f-U[3+4*T],N[P+0]=z+W>>3,N[P+16]=se+Y>>3,N[P+32]=z-W>>3,N[P+48]=se-Y>>3,P+=64}function qa(f,x,N){var P,T=x-32,U=Ws,z=255-f[T-1];for(P=0;P<N;++P){var W,Y=U,se=z+f[x-1];for(W=0;W<N;++W)f[x+W]=Y[se+f[T+W]];x+=32}}function zo(f,x){qa(f,x,4)}function Ll(f,x){qa(f,x,8)}function _c(f,x){qa(f,x,16)}function Pc(f,x){var N;for(N=0;16>N;++N)a(f,x+32*N,f,x-32,16)}function qo(f,x){var N;for(N=16;0<N;--N)o(f,x,f[x-1],16),x+=32}function $a(f,x,N){var P;for(P=0;16>P;++P)o(x,N+32*P,f,16)}function ra(f,x){var N,P=16;for(N=0;16>N;++N)P+=f[x-1+32*N]+f[x+N-32];$a(P>>5,f,x)}function wa(f,x){var N,P=8;for(N=0;16>N;++N)P+=f[x-1+32*N];$a(P>>4,f,x)}function Xs(f,x){var N,P=8;for(N=0;16>N;++N)P+=f[x+N-32];$a(P>>4,f,x)}function On(f,x){$a(128,f,x)}function Lt(f,x,N){return f+2*x+N+2>>2}function ao(f,x){var N,P=x-32;for(P=new Uint8Array([Lt(f[P-1],f[P+0],f[P+1]),Lt(f[P+0],f[P+1],f[P+2]),Lt(f[P+1],f[P+2],f[P+3]),Lt(f[P+2],f[P+3],f[P+4])]),N=0;4>N;++N)a(f,x+32*N,P,0,P.length)}function Na(f,x){var N=f[x-1],P=f[x-1+32],T=f[x-1+64],U=f[x-1+96];ge(f,x+0,16843009*Lt(f[x-1-32],N,P)),ge(f,x+32,16843009*Lt(N,P,T)),ge(f,x+64,16843009*Lt(P,T,U)),ge(f,x+96,16843009*Lt(T,U,U))}function Id(f,x){var N,P=4;for(N=0;4>N;++N)P+=f[x+N-32]+f[x-1+32*N];for(P>>=3,N=0;4>N;++N)o(f,x+32*N,P,4)}function Lc(f,x){var N=f[x-1+0],P=f[x-1+32],T=f[x-1+64],U=f[x-1-32],z=f[x+0-32],W=f[x+1-32],Y=f[x+2-32],se=f[x+3-32];f[x+0+96]=Lt(P,T,f[x-1+96]),f[x+1+96]=f[x+0+64]=Lt(N,P,T),f[x+2+96]=f[x+1+64]=f[x+0+32]=Lt(U,N,P),f[x+3+96]=f[x+2+64]=f[x+1+32]=f[x+0+0]=Lt(z,U,N),f[x+3+64]=f[x+2+32]=f[x+1+0]=Lt(W,z,U),f[x+3+32]=f[x+2+0]=Lt(Y,W,z),f[x+3+0]=Lt(se,Y,W)}function bn(f,x){var N=f[x+1-32],P=f[x+2-32],T=f[x+3-32],U=f[x+4-32],z=f[x+5-32],W=f[x+6-32],Y=f[x+7-32];f[x+0+0]=Lt(f[x+0-32],N,P),f[x+1+0]=f[x+0+32]=Lt(N,P,T),f[x+2+0]=f[x+1+32]=f[x+0+64]=Lt(P,T,U),f[x+3+0]=f[x+2+32]=f[x+1+64]=f[x+0+96]=Lt(T,U,z),f[x+3+32]=f[x+2+64]=f[x+1+96]=Lt(U,z,W),f[x+3+64]=f[x+2+96]=Lt(z,W,Y),f[x+3+96]=Lt(W,Y,Y)}function Va(f,x){var N=f[x-1+0],P=f[x-1+32],T=f[x-1+64],U=f[x-1-32],z=f[x+0-32],W=f[x+1-32],Y=f[x+2-32],se=f[x+3-32];f[x+0+0]=f[x+1+64]=U+z+1>>1,f[x+1+0]=f[x+2+64]=z+W+1>>1,f[x+2+0]=f[x+3+64]=W+Y+1>>1,f[x+3+0]=Y+se+1>>1,f[x+0+96]=Lt(T,P,N),f[x+0+64]=Lt(P,N,U),f[x+0+32]=f[x+1+96]=Lt(N,U,z),f[x+1+32]=f[x+2+96]=Lt(U,z,W),f[x+2+32]=f[x+3+96]=Lt(z,W,Y),f[x+3+32]=Lt(W,Y,se)}function Ec(f,x){var N=f[x+0-32],P=f[x+1-32],T=f[x+2-32],U=f[x+3-32],z=f[x+4-32],W=f[x+5-32],Y=f[x+6-32],se=f[x+7-32];f[x+0+0]=N+P+1>>1,f[x+1+0]=f[x+0+64]=P+T+1>>1,f[x+2+0]=f[x+1+64]=T+U+1>>1,f[x+3+0]=f[x+2+64]=U+z+1>>1,f[x+0+32]=Lt(N,P,T),f[x+1+32]=f[x+0+96]=Lt(P,T,U),f[x+2+32]=f[x+1+96]=Lt(T,U,z),f[x+3+32]=f[x+2+96]=Lt(U,z,W),f[x+3+64]=Lt(z,W,Y),f[x+3+96]=Lt(W,Y,se)}function $o(f,x){var N=f[x-1+0],P=f[x-1+32],T=f[x-1+64],U=f[x-1+96];f[x+0+0]=N+P+1>>1,f[x+2+0]=f[x+0+32]=P+T+1>>1,f[x+2+32]=f[x+0+64]=T+U+1>>1,f[x+1+0]=Lt(N,P,T),f[x+3+0]=f[x+1+32]=Lt(P,T,U),f[x+3+32]=f[x+1+64]=Lt(T,U,U),f[x+3+64]=f[x+2+64]=f[x+0+96]=f[x+1+96]=f[x+2+96]=f[x+3+96]=U}function io(f,x){var N=f[x-1+0],P=f[x-1+32],T=f[x-1+64],U=f[x-1+96],z=f[x-1-32],W=f[x+0-32],Y=f[x+1-32],se=f[x+2-32];f[x+0+0]=f[x+2+32]=N+z+1>>1,f[x+0+32]=f[x+2+64]=P+N+1>>1,f[x+0+64]=f[x+2+96]=T+P+1>>1,f[x+0+96]=U+T+1>>1,f[x+3+0]=Lt(W,Y,se),f[x+2+0]=Lt(z,W,Y),f[x+1+0]=f[x+3+32]=Lt(N,z,W),f[x+1+32]=f[x+3+64]=Lt(P,N,z),f[x+1+64]=f[x+3+96]=Lt(T,P,N),f[x+1+96]=Lt(U,T,P)}function El(f,x){var N;for(N=0;8>N;++N)a(f,x+32*N,f,x-32,8)}function sa(f,x){var N;for(N=0;8>N;++N)o(f,x,f[x-1],8),x+=32}function ja(f,x,N){var P;for(P=0;8>P;++P)o(x,N+32*P,f,8)}function na(f,x){var N,P=8;for(N=0;8>N;++N)P+=f[x+N-32]+f[x-1+32*N];ja(P>>4,f,x)}function Vo(f,x){var N,P=4;for(N=0;8>N;++N)P+=f[x+N-32];ja(P>>3,f,x)}function Dl(f,x){var N,P=4;for(N=0;8>N;++N)P+=f[x-1+32*N];ja(P>>3,f,x)}function Fl(f,x){ja(128,f,x)}function Ha(f,x,N){var P=f[x-N],T=f[x+0],U=3*(T-P)+Pa[1020+f[x-2*N]-f[x+N]],z=Zo[112+(U+4>>3)];f[x-N]=Ws[255+P+Zo[112+(U+3>>3)]],f[x+0]=Ws[255+T-z]}function Sa(f,x,N,P){var T=f[x+0],U=f[x+N];return Bn[255+f[x-2*N]-f[x-N]]>P||Bn[255+U-T]>P}function oo(f,x,N,P){return 4*Bn[255+f[x-N]-f[x+0]]+Bn[255+f[x-2*N]-f[x+N]]<=P}function lo(f,x,N,P,T){var U=f[x-3*N],z=f[x-2*N],W=f[x-N],Y=f[x+0],se=f[x+N],ye=f[x+2*N],Pe=f[x+3*N];return 4*Bn[255+W-Y]+Bn[255+z-se]>P?0:Bn[255+f[x-4*N]-U]<=T&&Bn[255+U-z]<=T&&Bn[255+z-W]<=T&&Bn[255+Pe-ye]<=T&&Bn[255+ye-se]<=T&&Bn[255+se-Y]<=T}function Mn(f,x,N,P){var T=2*P+1;for(P=0;16>P;++P)oo(f,x+P,N,T)&&Ha(f,x+P,N)}function Wa(f,x,N,P){var T=2*P+1;for(P=0;16>P;++P)oo(f,x+P*N,1,T)&&Ha(f,x+P*N,1)}function Ai(f,x,N,P){var T;for(T=3;0<T;--T)Mn(f,x+=4*N,N,P)}function Ho(f,x,N,P){var T;for(T=3;0<T;--T)Wa(f,x+=4,N,P)}function Fs(f,x,N,P,T,U,z,W){for(U=2*U+1;0<T--;){if(lo(f,x,N,U,z))if(Sa(f,x,N,W))Ha(f,x,N);else{var Y=f,se=x,ye=N,Pe=Y[se-2*ye],ne=Y[se-ye],be=Y[se+0],_e=Y[se+ye],He=Y[se+2*ye],Ee=27*($e=Pa[1020+3*(be-ne)+Pa[1020+Pe-_e]])+63>>7,ze=18*$e+63>>7,$e=9*$e+63>>7;Y[se-3*ye]=Ws[255+Y[se-3*ye]+$e],Y[se-2*ye]=Ws[255+Pe+ze],Y[se-ye]=Ws[255+ne+Ee],Y[se+0]=Ws[255+be-Ee],Y[se+ye]=Ws[255+_e-ze],Y[se+2*ye]=Ws[255+He-$e]}x+=P}}function wn(f,x,N,P,T,U,z,W){for(U=2*U+1;0<T--;){if(lo(f,x,N,U,z))if(Sa(f,x,N,W))Ha(f,x,N);else{var Y=f,se=x,ye=N,Pe=Y[se-ye],ne=Y[se+0],be=Y[se+ye],_e=Zo[112+(4+(He=3*(ne-Pe))>>3)],He=Zo[112+(He+3>>3)],Ee=_e+1>>1;Y[se-2*ye]=Ws[255+Y[se-2*ye]+Ee],Y[se-ye]=Ws[255+Pe+He],Y[se+0]=Ws[255+ne-_e],Y[se+ye]=Ws[255+be-Ee]}x+=P}}function w(f,x,N,P,T,U){Fs(f,x,N,1,16,P,T,U)}function I(f,x,N,P,T,U){Fs(f,x,1,N,16,P,T,U)}function ae(f,x,N,P,T,U){var z;for(z=3;0<z;--z)wn(f,x+=4*N,N,1,16,P,T,U)}function xe(f,x,N,P,T,U){var z;for(z=3;0<z;--z)wn(f,x+=4,1,N,16,P,T,U)}function Ae(f,x,N,P,T,U,z,W){Fs(f,x,T,1,8,U,z,W),Fs(N,P,T,1,8,U,z,W)}function We(f,x,N,P,T,U,z,W){Fs(f,x,1,T,8,U,z,W),Fs(N,P,1,T,8,U,z,W)}function Ye(f,x,N,P,T,U,z,W){wn(f,x+4*T,T,1,8,U,z,W),wn(N,P+4*T,T,1,8,U,z,W)}function ht(f,x,N,P,T,U,z,W){wn(f,x+4,1,T,8,U,z,W),wn(N,P+4,1,T,8,U,z,W)}function pt(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ct(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Bt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sr(){this.ua=0,this.Wa=new Et,this.vb=new Et,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new te}function Lr(){this.xb=this.a=0,this.l=new Ds,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sr,this.ab=0,this.gc=d(4,Bt),this.Oc=0}function Qr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ds,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function or(f,x,N,P,T,U,z){for(f=f==null?0:f[x+0],x=0;x<z;++x)T[U+x]=f+N[P+x]&255,f=T[U+x]}function ns(f,x,N,P,T,U,z){var W;if(f==null)or(null,null,N,P,T,U,z);else for(W=0;W<z;++W)T[U+W]=f[x+W]+N[P+W]&255}function Xr(f,x,N,P,T,U,z){if(f==null)or(null,null,N,P,T,U,z);else{var W,Y=f[x+0],se=Y,ye=Y;for(W=0;W<z;++W)se=ye+(Y=f[x+W])-se,ye=N[P+W]+(-256&se?0>se?0:255:se)&255,se=Y,T[U+W]=ye}}function ks(f,x,N,P){var T=x.width,U=x.o;if(t(f!=null&&x!=null),0>N||0>=P||N+P>U)return null;if(!f.Cc){if(f.ga==null){var z;if(f.ga=new Qr,(z=f.ga==null)||(z=x.width*x.o,t(f.Gb.length==0),f.Gb=l(z),f.Uc=0,f.Gb==null?z=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,z=1),z=!z),!z){z=f.ga;var W=f.Fa,Y=f.P,se=f.qc,ye=f.mb,Pe=f.nb,ne=Y+1,be=se-1,_e=z.l;if(t(W!=null&&ye!=null&&x!=null),Is[0]=null,Is[1]=or,Is[2]=ns,Is[3]=Xr,z.ca=ye,z.tb=Pe,z.c=x.width,z.i=x.height,t(0<z.c&&0<z.i),1>=se)x=0;else if(z.$a=3&W[Y+0],z.Z=W[Y+0]>>2&3,z.Lc=W[Y+0]>>4&3,Y=W[Y+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||Y)x=0;else if(_e.put=kt,_e.ac=Fn,_e.bc=gn,_e.ma=z,_e.width=x.width,_e.height=x.height,_e.Da=x.Da,_e.v=x.v,_e.va=x.va,_e.j=x.j,_e.o=x.o,z.$a)e:{t(z.$a==1),x=Qi();t:for(;;){if(x==null){x=0;break e}if(t(z!=null),z.mc=x,x.c=z.c,x.i=z.i,x.l=z.l,x.l.ma=z,x.l.width=z.c,x.l.height=z.i,x.a=0,pe(x.m,W,ne,be),!ea(z.c,z.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Zn(x.s)?(z.ic=1,W=x.c*x.i,x.Ta=null,x.Ua=0,x.V=l(W),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(z.ic=0,x=Si(x,z.c)),!x))break t;x=1;break e}z.mc=null,x=0}else x=be>=z.c*z.i;z=!x}if(z)return null;f.ga.Lc!=1?f.Ga=0:P=U-N}t(f.ga!=null),t(N+P<=U);e:{if(x=(W=f.ga).c,U=W.l.o,W.$a==0){if(ne=f.rc,be=f.Vc,_e=f.Fa,Y=f.P+1+N*x,se=f.mb,ye=f.nb+N*x,t(Y<=f.P+f.qc),W.Z!=0)for(t(Is[W.Z]!=null),z=0;z<P;++z)Is[W.Z](ne,be,_e,Y,se,ye,x),ne=se,be=ye,ye+=x,Y+=x;else for(z=0;z<P;++z)a(se,ye,_e,Y,x),ne=se,be=ye,ye+=x,Y+=x;f.rc=ne,f.Vc=be}else{if(t(W.mc!=null),x=N+P,t((z=W.mc)!=null),t(x<=z.i),z.C>=x)x=1;else if(W.ic||co(),W.ic){W=z.V,ne=z.Ba,be=z.c;var He=z.i,Ee=(_e=1,Y=z.$/be,se=z.$%be,ye=z.m,Pe=z.s,z.$),ze=be*He,$e=be*x,Ge=Pe.wc,Ke=Ee<$e?Yr(Pe,se,Y):null;t(Ee<=ze),t(x<=He),t(Zn(Pe));t:for(;;){for(;!ye.h&&Ee<$e;){if(se&Ge||(Ke=Yr(Pe,se,Y)),t(Ke!=null),fe(ye),256>(He=yr(Ke.G[0],Ke.H[0],ye)))W[ne+Ee]=He,++Ee,++se>=be&&(se=0,++Y<=x&&!(Y%16)&&Ss(z,Y));else{if(!(280>He)){_e=0;break t}He=Es(He-256,ye);var bt,dt=yr(Ke.G[4],Ke.H[4],ye);if(fe(ye),!(Ee>=(dt=In(be,dt=Es(dt,ye)))&&ze-Ee>=He)){_e=0;break t}for(bt=0;bt<He;++bt)W[ne+Ee+bt]=W[ne+Ee+bt-dt];for(Ee+=He,se+=He;se>=be;)se-=be,++Y<=x&&!(Y%16)&&Ss(z,Y);Ee<$e&&se&Ge&&(Ke=Yr(Pe,se,Y))}t(ye.h==oe(ye))}Ss(z,Y>x?x:Y);break t}!_e||ye.h&&Ee<ze?(_e=0,z.a=ye.h?5:3):z.$=Ee,x=_e}else x=Tn(z,z.V,z.Ba,z.c,z.i,x,Xi);if(!x){P=0;break e}}N+P>=U&&(f.Cc=1),P=1}if(!P)return null;if(f.Cc&&((P=f.ga)!=null&&(P.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+N*T}function Ga(f,x,N,P,T,U){for(;0<T--;){var z,W=f,Y=x+(N?1:0),se=f,ye=x+(N?0:3);for(z=0;z<P;++z){var Pe=se[ye+4*z];Pe!=255&&(Pe*=32897,W[Y+4*z+0]=W[Y+4*z+0]*Pe>>23,W[Y+4*z+1]=W[Y+4*z+1]*Pe>>23,W[Y+4*z+2]=W[Y+4*z+2]*Pe>>23)}x+=U}}function Ci(f,x,N,P,T){for(;0<P--;){var U;for(U=0;U<N;++U){var z=f[x+2*U+0],W=15&(se=f[x+2*U+1]),Y=4369*W,se=(240&se|se>>4)*Y>>16;f[x+2*U+0]=(240&z|z>>4)*Y>>16&240|(15&z|z<<4)*Y>>16>>4&15,f[x+2*U+1]=240&se|W}x+=T}}function Dc(f,x,N,P,T,U,z,W){var Y,se,ye=255;for(se=0;se<T;++se){for(Y=0;Y<P;++Y){var Pe=f[x+Y];U[z+4*Y]=Pe,ye&=Pe}x+=N,z+=W}return ye!=255}function Fc(f,x,N,P,T){var U;for(U=0;U<T;++U)N[P+U]=f[x+U]>>8}function co(){po=Ga,Md=Ci,Bl=Dc,Bd=Fc}function aa(f,x,N){ee[f]=function(P,T,U,z,W,Y,se,ye,Pe,ne,be,_e,He,Ee,ze,$e,Ge){var Ke,bt=Ge-1>>1,dt=W[Y+0]|se[ye+0]<<16,Ut=Pe[ne+0]|be[_e+0]<<16;t(P!=null);var gt=3*dt+Ut+131074>>2;for(x(P[T+0],255&gt,gt>>16,He,Ee),U!=null&&(gt=3*Ut+dt+131074>>2,x(U[z+0],255&gt,gt>>16,ze,$e)),Ke=1;Ke<=bt;++Ke){var Kt=W[Y+Ke]|se[ye+Ke]<<16,Tr=Pe[ne+Ke]|be[_e+Ke]<<16,qt=dt+Kt+Ut+Tr+524296,ut=qt+2*(Kt+Ut)>>3;gt=ut+dt>>1,dt=(qt=qt+2*(dt+Tr)>>3)+Kt>>1,x(P[T+2*Ke-1],255&gt,gt>>16,He,Ee+(2*Ke-1)*N),x(P[T+2*Ke-0],255&dt,dt>>16,He,Ee+(2*Ke-0)*N),U!=null&&(gt=qt+Ut>>1,dt=ut+Tr>>1,x(U[z+2*Ke-1],255&gt,gt>>16,ze,$e+(2*Ke-1)*N),x(U[z+2*Ke+0],255&dt,dt>>16,ze,$e+(2*Ke+0)*N)),dt=Kt,Ut=Tr}1&Ge||(gt=3*dt+Ut+131074>>2,x(P[T+Ge-1],255&gt,gt>>16,He,Ee+(Ge-1)*N),U!=null&&(gt=3*Ut+dt+131074>>2,x(U[z+Ge-1],255&gt,gt>>16,ze,$e+(Ge-1)*N)))}}function Il(){nn[Uc]=rm,nn[Ii]=Ti,nn[Yu]=sm,nn[Ul]=sl,nn[zl]=vo,nn[fr]=Wl,nn[zc]=Kd,nn[el]=Ti,nn[go]=sl,nn[ql]=vo,nn[$l]=Wl}function _i(f){return f&-16384?0>f?0:255:f>>Ri}function Pi(f,x){return _i((19077*f>>8)+(26149*x>>8)-14234)}function ps(f,x,N){return _i((19077*f>>8)-(6419*x>>8)-(13320*N>>8)+8708)}function Ka(f,x){return _i((19077*f>>8)+(33050*x>>8)-17685)}function ka(f,x,N,P,T){P[T+0]=Pi(f,N),P[T+1]=ps(f,x,N),P[T+2]=Ka(f,x)}function Wo(f,x,N,P,T){P[T+0]=Ka(f,x),P[T+1]=ps(f,x,N),P[T+2]=Pi(f,N)}function Tl(f,x,N,P,T){var U=ps(f,x,N);x=U<<3&224|Ka(f,x)>>3,P[T+0]=248&Pi(f,N)|U>>5,P[T+1]=x}function qs(f,x,N,P,T){var U=240&Ka(f,x)|15;P[T+0]=240&Pi(f,N)|ps(f,x,N)>>4,P[T+1]=U}function Ic(f,x,N,P,T){P[T+0]=255,ka(f,x,N,P,T+1)}function Go(f,x,N,P,T){Wo(f,x,N,P,T),P[T+3]=255}function Tc(f,x,N,P,T){ka(f,x,N,P,T),P[T+3]=255}function as(f,x){return 0>f?0:f>x?x:f}function Zs(f,x,N){ee[f]=function(P,T,U,z,W,Y,se,ye,Pe){for(var ne=ye+(-2&Pe)*N;ye!=ne;)x(P[T+0],U[z+0],W[Y+0],se,ye),x(P[T+1],U[z+0],W[Y+0],se,ye+N),T+=2,++z,++Y,ye+=2*N;1&Pe&&x(P[T+0],U[z+0],W[Y+0],se,ye)}}function Ya(f,x,N){return N==0?f==0?x==0?6:5:x==0?4:0:N}function Rl(f,x,N,P,T){switch(f>>>30){case 3:$r(x,N,P,T,0);break;case 2:is(x,N,P,T);break;case 1:ia(x,N,P,T)}}function Ja(f,x){var N,P,T=x.M,U=x.Nb,z=f.oc,W=f.pc+40,Y=f.oc,se=f.pc+584,ye=f.oc,Pe=f.pc+600;for(N=0;16>N;++N)z[W+32*N-1]=129;for(N=0;8>N;++N)Y[se+32*N-1]=129,ye[Pe+32*N-1]=129;for(0<T?z[W-1-32]=Y[se-1-32]=ye[Pe-1-32]=129:(o(z,W-32-1,127,21),o(Y,se-32-1,127,9),o(ye,Pe-32-1,127,9)),P=0;P<f.za;++P){var ne=x.ya[x.aa+P];if(0<P){for(N=-1;16>N;++N)a(z,W+32*N-4,z,W+32*N+12,4);for(N=-1;8>N;++N)a(Y,se+32*N-4,Y,se+32*N+4,4),a(ye,Pe+32*N-4,ye,Pe+32*N+4,4)}var be=f.Gd,_e=f.Hd+P,He=ne.ad,Ee=ne.Hc;if(0<T&&(a(z,W-32,be[_e].y,0,16),a(Y,se-32,be[_e].f,0,8),a(ye,Pe-32,be[_e].ea,0,8)),ne.Za){var ze=z,$e=W-32+16;for(0<T&&(P>=f.za-1?o(ze,$e,be[_e].y[15],4):a(ze,$e,be[_e+1].y,0,4)),N=0;4>N;N++)ze[$e+128+N]=ze[$e+256+N]=ze[$e+384+N]=ze[$e+0+N];for(N=0;16>N;++N,Ee<<=2)ze=z,$e=W+Yd[N],Un[ne.Ob[N]](ze,$e),Rl(Ee,He,16*+N,ze,$e)}else if(ze=Ya(P,T,ne.Ob[0]),Gs[ze](z,W),Ee!=0)for(N=0;16>N;++N,Ee<<=2)Rl(Ee,He,16*+N,z,W+Yd[N]);for(N=ne.Gc,ze=Ya(P,T,ne.Dd),sn[ze](Y,se),sn[ze](ye,Pe),Ee=He,ze=Y,$e=se,255&(ne=0|N)&&(170&ne?_a(Ee,256,ze,$e):Qo(Ee,256,ze,$e)),ne=ye,Ee=Pe,255&(N>>=8)&&(170&N?_a(He,320,ne,Ee):Qo(He,320,ne,Ee)),T<f.Ub-1&&(a(be[_e].y,0,z,W+480,16),a(be[_e].f,0,Y,se+224,8),a(be[_e].ea,0,ye,Pe+224,8)),N=8*U*f.B,be=f.sa,_e=f.ta+16*P+16*U*f.R,He=f.qa,ne=f.ra+8*P+N,Ee=f.Ha,ze=f.Ia+8*P+N,N=0;16>N;++N)a(be,_e+N*f.R,z,W+32*N,16);for(N=0;8>N;++N)a(He,ne+N*f.B,Y,se+32*N,8),a(Ee,ze+N*f.B,ye,Pe+32*N,8)}}function uo(f,x,N,P,T,U,z,W,Y){var se=[0],ye=[0],Pe=0,ne=Y!=null?Y.kd:0,be=Y??new Ct;if(f==null||12>N)return 7;be.data=f,be.w=x,be.ha=N,x=[x],N=[N],be.gb=[be.gb];e:{var _e=x,He=N,Ee=be.gb;if(t(f!=null),t(He!=null),t(Ee!=null),Ee[0]=0,12<=He[0]&&!s(f,_e[0],"RIFF")){if(s(f,_e[0]+8,"WEBP")){Ee=3;break e}var ze=Oe(f,_e[0]+4);if(12>ze||4294967286<ze){Ee=3;break e}if(ne&&ze>He[0]-8){Ee=7;break e}Ee[0]=ze,_e[0]+=12,He[0]-=12}Ee=0}if(Ee!=0)return Ee;for(ze=0<be.gb[0],N=N[0];;){e:{var $e=f;He=x,Ee=N;var Ge=se,Ke=ye,bt=_e=[0];if((gt=Pe=[Pe])[0]=0,8>Ee[0])Ee=7;else{if(!s($e,He[0],"VP8X")){if(Oe($e,He[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var dt=Oe($e,He[0]+8),Ut=1+Xe($e,He[0]+12);if(2147483648<=Ut*($e=1+Xe($e,He[0]+15))){Ee=3;break e}bt!=null&&(bt[0]=dt),Ge!=null&&(Ge[0]=Ut),Ke!=null&&(Ke[0]=$e),He[0]+=18,Ee[0]-=18,gt[0]=1}Ee=0}}if(Pe=Pe[0],_e=_e[0],Ee!=0)return Ee;if(He=!!(2&_e),!ze&&Pe)return 3;if(U!=null&&(U[0]=!!(16&_e)),z!=null&&(z[0]=He),W!=null&&(W[0]=0),z=se[0],_e=ye[0],Pe&&He&&Y==null){Ee=0;break}if(4>N){Ee=7;break}if(ze&&Pe||!ze&&!Pe&&!s(f,x[0],"ALPH")){N=[N],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{dt=f,Ee=x,ze=N;var gt=be.gb;Ge=be.na,Ke=be.P,bt=be.Sa,Ut=22,t(dt!=null),t(ze!=null),$e=Ee[0];var Kt=ze[0];for(t(Ge!=null),t(bt!=null),Ge[0]=null,Ke[0]=null,bt[0]=0;;){if(Ee[0]=$e,ze[0]=Kt,8>Kt){Ee=7;break e}var Tr=Oe(dt,$e+4);if(4294967286<Tr){Ee=3;break e}var qt=8+Tr+1&-2;if(Ut+=qt,0<gt&&Ut>gt){Ee=3;break e}if(!s(dt,$e,"VP8 ")||!s(dt,$e,"VP8L")){Ee=0;break e}if(Kt[0]<qt){Ee=7;break e}s(dt,$e,"ALPH")||(Ge[0]=dt,Ke[0]=$e+8,bt[0]=Tr),$e+=qt,Kt-=qt}}if(N=N[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],Ee!=0)break}N=[N],be.Ja=[be.Ja],be.xa=[be.xa];e:if(gt=f,Ee=x,ze=N,Ge=be.gb[0],Ke=be.Ja,bt=be.xa,dt=Ee[0],$e=!s(gt,dt,"VP8 "),Ut=!s(gt,dt,"VP8L"),t(gt!=null),t(ze!=null),t(Ke!=null),t(bt!=null),8>ze[0])Ee=7;else{if($e||Ut){if(gt=Oe(gt,dt+4),12<=Ge&&gt>Ge-12){Ee=3;break e}if(ne&&gt>ze[0]-8){Ee=7;break e}Ke[0]=gt,Ee[0]+=8,ze[0]-=8,bt[0]=Ut}else bt[0]=5<=ze[0]&&gt[dt+0]==47&&!(gt[dt+4]>>5),Ke[0]=ze[0];Ee=0}if(N=N[0],be.Ja=be.Ja[0],be.xa=be.xa[0],x=x[0],Ee!=0)break;if(4294967286<be.Ja)return 3;if(W==null||He||(W[0]=be.xa?2:1),z=[z],_e=[_e],be.xa){if(5>N){Ee=7;break}W=z,ne=_e,He=U,f==null||5>N?f=0:5<=N&&f[x+0]==47&&!(f[x+4]>>5)?(ze=[0],gt=[0],Ge=[0],pe(Ke=new R,f,x,N),Xn(Ke,ze,gt,Ge)?(W!=null&&(W[0]=ze[0]),ne!=null&&(ne[0]=gt[0]),He!=null&&(He[0]=Ge[0]),f=1):f=0):f=0}else{if(10>N){Ee=7;break}W=_e,f==null||10>N||!Ac(f,x+3,N-3)?f=0:(ne=f[x+0]|f[x+1]<<8|f[x+2]<<16,He=16383&(f[x+7]<<8|f[x+6]),f=16383&(f[x+9]<<8|f[x+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=be.Ja||!He||!f?f=0:(z&&(z[0]=He),W&&(W[0]=f),f=1))}if(!f||(z=z[0],_e=_e[0],Pe&&(se[0]!=z||ye[0]!=_e)))return 3;Y!=null&&(Y[0]=be,Y.offset=x-Y.w,t(4294967286>x-Y.w),t(Y.offset==Y.ha-N));break}return Ee==0||Ee==7&&Pe&&Y==null?(U!=null&&(U[0]|=be.na!=null&&0<be.na.length),P!=null&&(P[0]=z),T!=null&&(T[0]=_e),0):Ee}function $s(f,x,N){var P=x.width,T=x.height,U=0,z=0,W=P,Y=T;if(x.Da=f!=null&&0<f.Da,x.Da&&(W=f.cd,Y=f.bd,U=f.v,z=f.j,11>N||(U&=-2,z&=-2),0>U||0>z||0>=W||0>=Y||U+W>P||z+Y>T))return 0;if(x.v=U,x.j=z,x.va=U+W,x.o=z+Y,x.U=W,x.T=Y,x.da=f!=null&&0<f.da,x.da){if(!Be(W,Y,N=[f.ib],U=[f.hb]))return 0;x.ib=N[0],x.hb=U[0]}return x.ob=f!=null&&f.ob,x.Kb=f==null||!f.Sd,x.da&&(x.ob=x.ib<3*P/4&&x.hb<3*T/4,x.Kb=0),1}function Vs(f){if(f==null)return 2;if(11>f.S){var x=f.f.RGBA;x.fb+=(f.height-1)*x.A,x.A=-x.A}else x=f.f.kb,f=f.height,x.O+=(f-1)*x.fa,x.fa=-x.fa,x.N+=(f-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(f-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(f-1)*x.lb,x.lb=-x.lb);return 0}function Li(f,x,N,P){if(P==null||0>=f||0>=x)return 2;if(N!=null){if(N.Da){var T=N.cd,U=N.bd,z=-2&N.v,W=-2&N.j;if(0>z||0>W||0>=T||0>=U||z+T>f||W+U>x)return 2;f=T,x=U}if(N.da){if(!Be(f,x,T=[N.ib],U=[N.hb]))return 2;f=T[0],x=U[0]}}P.width=f,P.height=x;e:{var Y=P.width,se=P.height;if(f=P.S,0>=Y||0>=se||!(f>=Uc&&13>f))f=2;else{if(0>=P.Rd&&P.sd==null){z=U=T=x=0;var ye=(W=Y*Gl[f])*se;if(11>f||(U=(se+1)/2*(x=(Y+1)/2),f==12&&(z=(T=Y)*se)),(se=l(ye+2*U+z))==null){f=1;break e}P.sd=se,11>f?((Y=P.f.RGBA).eb=se,Y.fb=0,Y.A=W,Y.size=ye):((Y=P.f.kb).y=se,Y.O=0,Y.fa=W,Y.Fd=ye,Y.f=se,Y.N=0+ye,Y.Ab=x,Y.Cd=U,Y.ea=se,Y.W=0+ye+U,Y.Db=x,Y.Ed=U,f==12&&(Y.F=se,Y.J=0+ye+2*U),Y.Tc=z,Y.lb=T)}if(x=1,T=P.S,U=P.width,z=P.height,T>=Uc&&13>T)if(11>T)f=P.f.RGBA,x&=(W=Math.abs(f.A))*(z-1)+U<=f.size,x&=W>=U*Gl[T],x&=f.eb!=null;else{f=P.f.kb,W=(U+1)/2,ye=(z+1)/2,Y=Math.abs(f.fa),se=Math.abs(f.Ab);var Pe=Math.abs(f.Db),ne=Math.abs(f.lb),be=ne*(z-1)+U;x&=Y*(z-1)+U<=f.Fd,x&=se*(ye-1)+W<=f.Cd,x=(x&=Pe*(ye-1)+W<=f.Ed)&Y>=U&se>=W&Pe>=W,x&=f.y!=null,x&=f.f!=null,x&=f.ea!=null,T==12&&(x&=ne>=U,x&=be<=f.Tc,x&=f.F!=null)}else x=0;f=x?0:2}}return f!=0||N!=null&&N.fd&&(f=Vs(P)),f}var Hs=64,Ei=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ol=24,Di=32,Ir=8,Rc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];de("Predictor0","PredictorAdd0"),ee.Predictor0=function(){return 4278190080},ee.Predictor1=function(f){return f},ee.Predictor2=function(f,x,N){return x[N+0]},ee.Predictor3=function(f,x,N){return x[N+1]},ee.Predictor4=function(f,x,N){return x[N-1]},ee.Predictor5=function(f,x,N){return Ce(Ce(f,x[N+1]),x[N+0])},ee.Predictor6=function(f,x,N){return Ce(f,x[N-1])},ee.Predictor7=function(f,x,N){return Ce(f,x[N+0])},ee.Predictor8=function(f,x,N){return Ce(x[N-1],x[N+0])},ee.Predictor9=function(f,x,N){return Ce(x[N+0],x[N+1])},ee.Predictor10=function(f,x,N){return Ce(Ce(f,x[N-1]),Ce(x[N+0],x[N+1]))},ee.Predictor11=function(f,x,N){var P=x[N+0];return 0>=Ve(P>>24&255,f>>24&255,(x=x[N-1])>>24&255)+Ve(P>>16&255,f>>16&255,x>>16&255)+Ve(P>>8&255,f>>8&255,x>>8&255)+Ve(255&P,255&f,255&x)?P:f},ee.Predictor12=function(f,x,N){var P=x[N+0];return(Me((f>>24&255)+(P>>24&255)-((x=x[N-1])>>24&255))<<24|Me((f>>16&255)+(P>>16&255)-(x>>16&255))<<16|Me((f>>8&255)+(P>>8&255)-(x>>8&255))<<8|Me((255&f)+(255&P)-(255&x)))>>>0},ee.Predictor13=function(f,x,N){var P=x[N-1];return(Ie((f=Ce(f,x[N+0]))>>24&255,P>>24&255)<<24|Ie(f>>16&255,P>>16&255)<<16|Ie(f>>8&255,P>>8&255)<<8|Ie(255&f,255&P))>>>0};var en=ee.PredictorAdd0;ee.PredictorAdd1=at,de("Predictor2","PredictorAdd2"),de("Predictor3","PredictorAdd3"),de("Predictor4","PredictorAdd4"),de("Predictor5","PredictorAdd5"),de("Predictor6","PredictorAdd6"),de("Predictor7","PredictorAdd7"),de("Predictor8","PredictorAdd8"),de("Predictor9","PredictorAdd9"),de("Predictor10","PredictorAdd10"),de("Predictor11","PredictorAdd11"),de("Predictor12","PredictorAdd12"),de("Predictor13","PredictorAdd13");var tn=ee.PredictorAdd2;it("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),it("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var Ko,Fi=ee.ColorIndexInverseTransform,Yo=ee.MapARGB,ho=ee.VP8LColorIndexInverseTransformAlpha,Qa=ee.MapAlpha,Xa=ee.VP8LPredictorsAdd=[];Xa.length=16,(ee.VP8LPredictors=[]).length=16,(ee.VP8LPredictorsAdd_C=[]).length=16,(ee.VP8LPredictors_C=[]).length=16;var Aa,Jo,rn,Ca,vr,br,qr,$r,is,_a,ia,Qo,Td,Rd,Oc,Gu,Ku,fo,Mc,Xo,Bc,Od,Ml,mo,po,Md,Bl,Bd,Ud=l(511),zd=l(2041),qd=l(225),$d=l(767),Vd=0,Pa=zd,Zo=qd,Ws=$d,Bn=Ud,Uc=0,Ii=1,Yu=2,Ul=3,zl=4,fr=5,zc=6,el=7,go=8,ql=9,$l=10,Vl=[2,3,7],qc=[3,3,11],xo=[280,256,256,256,40],Ju=[0,1,1,1,0],Xf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zf=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Qu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$c=8,tl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Hl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yo=null,Hd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Wd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Xu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Zu=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],em=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],tm=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Gs=[],Un=[],sn=[],La=1,rl=2,Is=[],nn=[];aa("UpsampleRgbLinePair",ka,3),aa("UpsampleBgrLinePair",Wo,3),aa("UpsampleRgbaLinePair",Tc,4),aa("UpsampleBgraLinePair",Go,4),aa("UpsampleArgbLinePair",Ic,4),aa("UpsampleRgba4444LinePair",qs,2),aa("UpsampleRgb565LinePair",Tl,2);var rm=ee.UpsampleRgbLinePair,sm=ee.UpsampleBgrLinePair,Ti=ee.UpsampleRgbaLinePair,sl=ee.UpsampleBgraLinePair,vo=ee.UpsampleArgbLinePair,Wl=ee.UpsampleRgba4444LinePair,Kd=ee.UpsampleRgb565LinePair,Za=16,oa=1<<Za-1,cr=-227,ur=482,Ri=6,As=0,an=l(256),bo=l(256),nl=l(256),on=l(256),Vc=l(ur-cr),eh=l(ur-cr);Zs("YuvToRgbRow",ka,3),Zs("YuvToBgrRow",Wo,3),Zs("YuvToRgbaRow",Tc,4),Zs("YuvToBgraRow",Go,4),Zs("YuvToArgbRow",Ic,4),Zs("YuvToRgba4444Row",qs,2),Zs("YuvToRgb565Row",Tl,2);var Yd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],wo=[0,2,8],th=[8,7,6,4,4,2,2,2,1,1,1,1],ei=1;this.WebPDecodeRGBA=function(f,x,N,P,T){var U=Ii,z=new pt,W=new Xt;z.ba=W,W.S=U,W.width=[W.width],W.height=[W.height];var Y=W.width,se=W.height,ye=new Ft;if(ye==null||f==null)var Pe=2;else t(ye!=null),Pe=uo(f,x,N,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Pe!=0?Y=0:(Y!=null&&(Y[0]=ye.width[0]),se!=null&&(se[0]=ye.height[0]),Y=1),Y){W.width=W.width[0],W.height=W.height[0],P!=null&&(P[0]=W.width),T!=null&&(T[0]=W.height);e:{if(P=new Ds,(T=new Ct).data=f,T.w=x,T.ha=N,T.kd=1,x=[0],t(T!=null),((f=uo(T.data,T.w,T.ha,null,null,null,x,null,T))==0||f==7)&&x[0]&&(f=4),(x=f)==0){if(t(z!=null),P.data=T.data,P.w=T.w+T.offset,P.ha=T.ha-T.offset,P.put=kt,P.ac=Fn,P.bc=gn,P.ma=z,T.xa){if((f=Qi())==null){z=1;break e}if((function(ne,be){var _e=[0],He=[0],Ee=[0];t:for(;;){if(ne==null)return 0;if(be==null)return ne.a=2,0;if(ne.l=be,ne.a=0,pe(ne.m,be.data,be.w,be.ha),!Xn(ne.m,_e,He,Ee)){ne.a=3;break t}if(ne.xb=rl,be.width=_e[0],be.height=He[0],!ea(_e[0],He[0],1,ne,null))break t;return 1}return t(ne.a!=0),0})(f,P)){if(P=(x=Li(P.width,P.height,z.Oa,z.ba))==0){t:{P=f;r:for(;;){if(P==null){P=0;break t}if(t(P.s.yc!=null),t(P.s.Ya!=null),t(0<P.s.Wb),t((N=P.l)!=null),t((T=N.ma)!=null),P.xb!=0){if(P.ca=T.ba,P.tb=T.tb,t(P.ca!=null),!$s(T.Oa,N,Ul)){P.a=2;break r}if(!Si(P,N.width)||N.da)break r;if((N.da||At(P.ca.S))&&co(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&co()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!ce(P.s.vb,P.s.Wa.Xa)){P.a=1;break r}P.xb=0}if(!Tn(P,P.V,P.Ba,P.c,P.i,N.o,ji))break r;T.Dc=P.Ma,P=1;break t}t(P.a!=0),P=0}P=!P}P&&(x=f.a)}else x=f.a}else{if((f=new Fd)==null){z=1;break e}if(f.Fa=T.na,f.P=T.P,f.qc=T.Sa,to(f,P)){if((x=Li(P.width,P.height,z.Oa,z.ba))==0){if(f.Aa=0,N=z.Oa,t((T=f)!=null),N!=null){if(0<(Y=0>(Y=N.Md)?0:100<Y?255:255*Y/100)){for(se=ye=0;4>se;++se)12>(Pe=T.pb[se]).lc&&(Pe.ia=Y*th[0>Pe.lc?0:Pe.lc]>>3),ye|=Pe.ia;ye&&(alert("todo:VP8InitRandom"),T.ia=1)}T.Ga=N.Id,100<T.Ga?T.Ga=100:0>T.Ga&&(T.Ga=0)}(function(ne,be){if(ne==null)return 0;if(be==null)return Jr(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!to(ne,be))return 0;if(t(ne.cb),be.ac==null||be.ac(be)){be.ob&&(ne.L=0);var _e=wo[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=be.v-_e>>4,ne.zb=be.j-_e>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=be.o+15+_e>>4,ne.Hb=be.va+15+_e>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var He=ne.ed;for(_e=0;4>_e;++_e){var Ee;if(ne.Qa.Cb){var ze=ne.Qa.Lb[_e];ne.Qa.Fb||(ze+=He.Tb)}else ze=He.Tb;for(Ee=0;1>=Ee;++Ee){var $e=ne.gd[_e][Ee],Ge=ze;if(He.Pc&&(Ge+=He.vd[0],Ee&&(Ge+=He.od[0])),0<(Ge=0>Ge?0:63<Ge?63:Ge)){var Ke=Ge;0<He.wb&&(Ke=4<He.wb?Ke>>2:Ke>>1)>9-He.wb&&(Ke=9-He.wb),1>Ke&&(Ke=1),$e.dd=Ke,$e.tc=2*Ge+Ke,$e.ld=40<=Ge?2:15<=Ge?1:0}else $e.tc=0;$e.La=Ee}}}_e=0}else Jr(ne,6,"Frame setup failed"),_e=ne.a;if(_e=_e==0){if(_e){ne.$c=0,0<ne.Aa||(ne.Ic=ei);t:{_e=ne.Ic,He=4*(Ke=ne.za);var bt=32*Ke,dt=Ke+1,Ut=0<ne.L?Ke*(0<ne.Aa?2:1):0,gt=(ne.Aa==2?2:1)*Ke;if(($e=He+832+(Ee=3*(16*_e+wo[ne.L])/2*bt)+(ze=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=$e)_e=0;else{if($e>ne.Vb){if(ne.Vb=0,ne.Ec=l($e),ne.Fc=0,ne.Ec==null){_e=Jr(ne,1,"no memory during frame initialization.");break t}ne.Vb=$e}$e=ne.Ec,Ge=ne.Fc,ne.Ac=$e,ne.Bc=Ge,Ge+=He,ne.Gd=d(bt,vn),ne.Hd=0,ne.rb=d(dt+1,ki),ne.sb=1,ne.wa=Ut?d(Ut,yn):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=Ke),t(!0),ne.oc=$e,ne.pc=Ge,Ge+=832,ne.ya=d(gt,Bo),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=Ke),ne.R=16*Ke,ne.B=8*Ke,Ke=(bt=wo[ne.L])*ne.R,bt=bt/2*ne.B,ne.sa=$e,ne.ta=Ge+Ke,ne.qa=ne.sa,ne.ra=ne.ta+16*_e*ne.R+bt,ne.Ha=ne.qa,ne.Ia=ne.ra+8*_e*ne.B+bt,ne.$c=0,Ge+=Ee,ne.mb=ze?$e:null,ne.nb=ze?Ge:null,t(Ge+ze<=ne.Fc+ne.Vb),ta(ne),o(ne.Ac,ne.Bc,0,He),_e=1}}if(_e){if(be.ka=0,be.y=ne.sa,be.O=ne.ta,be.f=ne.qa,be.N=ne.ra,be.ea=ne.Ha,be.Vd=ne.Ia,be.fa=ne.R,be.Rc=ne.B,be.F=null,be.J=0,!Vd){for(_e=-255;255>=_e;++_e)Ud[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)zd[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)qd[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)$d[255+_e]=0>_e?0:255<_e?255:_e;Vd=1}qr=Zt,$r=Pl,_a=no,ia=ba,Qo=Uo,is=Cc,Td=w,Rd=I,Oc=Ae,Gu=We,Ku=ae,fo=xe,Mc=Ye,Xo=ht,Bc=Mn,Od=Wa,Ml=Ai,mo=Ho,Un[0]=Id,Un[1]=zo,Un[2]=ao,Un[3]=Na,Un[4]=Lc,Un[5]=Va,Un[6]=bn,Un[7]=Ec,Un[8]=io,Un[9]=$o,Gs[0]=ra,Gs[1]=_c,Gs[2]=Pc,Gs[3]=qo,Gs[4]=wa,Gs[5]=Xs,Gs[6]=On,sn[0]=na,sn[1]=Ll,sn[2]=El,sn[3]=sa,sn[4]=Dl,sn[5]=Vo,sn[6]=Fl,_e=1}else _e=0}_e&&(_e=(function(Kt,Tr){for(Kt.M=0;Kt.M<Kt.Va;++Kt.M){var qt,ut=Kt.Jc[Kt.M&Kt.Xb],st=Kt.m,Vr=Kt;for(qt=0;qt<Vr.za;++qt){var Dt=st,Gt=Vr,wr=Gt.Ac,gs=Gt.Bc+4*qt,Zr=Gt.zc,Er=Gt.ya[Gt.aa+qt];if(Gt.Qa.Bb?Er.$b=Te(Dt,Gt.Pa.jb[0])?2+Te(Dt,Gt.Pa.jb[2]):Te(Dt,Gt.Pa.jb[1]):Er.$b=0,Gt.kc&&(Er.Ad=Te(Dt,Gt.Bd)),Er.Za=!Te(Dt,145)+0,Er.Za){var os=Er.Ob,xs=0;for(Gt=0;4>Gt;++Gt){var Ar,Jt=Zr[0+Gt];for(Ar=0;4>Ar;++Ar){Jt=em[wr[gs+Ar]][Jt];for(var nr=Xu[Te(Dt,Jt[0])];0<nr;)nr=Xu[2*nr+Te(Dt,Jt[nr])];Jt=-nr,wr[gs+Ar]=Jt}a(os,xs,wr,gs,4),xs+=4,Zr[0+Gt]=Jt}}else Jt=Te(Dt,156)?Te(Dt,128)?1:3:Te(Dt,163)?2:0,Er.Ob[0]=Jt,o(wr,gs,Jt,4),o(Zr,0,Jt,4);Er.Dd=Te(Dt,142)?Te(Dt,114)?Te(Dt,183)?1:3:2:0}if(Vr.m.Ka)return Jr(Kt,7,"Premature end-of-partition0 encountered.");for(;Kt.ja<Kt.za;++Kt.ja){if(Vr=ut,Dt=(st=Kt).rb[st.sb-1],wr=st.rb[st.sb+st.ja],qt=st.ya[st.aa+st.ja],gs=st.kc?qt.Ad:0)Dt.la=wr.la=0,qt.Za||(Dt.Na=wr.Na=0),qt.Hc=0,qt.Gc=0,qt.ia=0;else{var Cr,ar;if(Dt=wr,wr=Vr,gs=st.Pa.Xc,Zr=st.ya[st.aa+st.ja],Er=st.pb[Zr.$b],Gt=Zr.ad,os=0,xs=st.rb[st.sb-1],Jt=Ar=0,o(Gt,os,0,384),Zr.Za)var Rr=0,Or=gs[3];else{nr=l(16);var mr=Dt.Na+xs.Na;if(mr=yo(wr,gs[1],mr,Er.Eb,0,nr,0),Dt.Na=xs.Na=(0<mr)+0,1<mr)qr(nr,0,Gt,os);else{var Ts=nr[0]+3>>3;for(nr=0;256>nr;nr+=16)Gt[os+nr]=Ts}Rr=1,Or=gs[0]}var hr=15&Dt.la,pr=15&xs.la;for(nr=0;4>nr;++nr){var es=1&pr;for(Ts=ar=0;4>Ts;++Ts)hr=hr>>1|(es=(mr=yo(wr,Or,mr=es+(1&hr),Er.Sc,Rr,Gt,os))>Rr)<<7,ar=ar<<2|(3<mr?3:1<mr?2:Gt[os+0]!=0),os+=16;hr>>=4,pr=pr>>1|es<<7,Ar=(Ar<<8|ar)>>>0}for(Or=hr,Rr=pr>>4,Cr=0;4>Cr;Cr+=2){for(ar=0,hr=Dt.la>>4+Cr,pr=xs.la>>4+Cr,nr=0;2>nr;++nr){for(es=1&pr,Ts=0;2>Ts;++Ts)mr=es+(1&hr),hr=hr>>1|(es=0<(mr=yo(wr,gs[2],mr,Er.Qc,0,Gt,os)))<<3,ar=ar<<2|(3<mr?3:1<mr?2:Gt[os+0]!=0),os+=16;hr>>=2,pr=pr>>1|es<<5}Jt|=ar<<4*Cr,Or|=hr<<4<<Cr,Rr|=(240&pr)<<Cr}Dt.la=Or,xs.la=Rr,Zr.Hc=Ar,Zr.Gc=Jt,Zr.ia=43690&Jt?0:Er.ia,gs=!(Ar|Jt)}if(0<st.L&&(st.wa[st.Y+st.ja]=st.gd[qt.$b][qt.Za],st.wa[st.Y+st.ja].La|=!gs),Vr.Ka)return Jr(Kt,7,"Premature end-of-file encountered.")}if(ta(Kt),st=Tr,Vr=1,qt=(ut=Kt).D,Dt=0<ut.L&&ut.M>=ut.zb&&ut.M<=ut.Va,ut.Aa==0)t:{if(qt.M=ut.M,qt.uc=Dt,Ja(ut,qt),Vr=1,qt=(ar=ut.D).Nb,Dt=(Jt=wo[ut.L])*ut.R,wr=Jt/2*ut.B,nr=16*qt*ut.R,Ts=8*qt*ut.B,gs=ut.sa,Zr=ut.ta-Dt+nr,Er=ut.qa,Gt=ut.ra-wr+Ts,os=ut.Ha,xs=ut.Ia-wr+Ts,pr=(hr=ar.M)==0,Ar=hr>=ut.Va-1,ut.Aa==2&&Ja(ut,ar),ar.uc)for(es=(mr=ut).D.M,t(mr.D.uc),ar=mr.yb;ar<mr.Hb;++ar){Rr=ar,Or=es;var Cs=(ln=(Gr=mr).D).Nb;Cr=Gr.R;var ln=ln.wa[ln.Y+Rr],Hr=Gr.sa,Wr=Gr.ta+16*Cs*Cr+16*Rr,Rs=ln.dd,gr=ln.tc;if(gr!=0)if(t(3<=gr),Gr.L==1)0<Rr&&Od(Hr,Wr,Cr,gr+4),ln.La&&mo(Hr,Wr,Cr,gr),0<Or&&Bc(Hr,Wr,Cr,gr+4),ln.La&&Ml(Hr,Wr,Cr,gr);else{var Os=Gr.B,zn=Gr.qa,la=Gr.ra+8*Cs*Os+8*Rr,ys=Gr.Ha,Gr=Gr.Ia+8*Cs*Os+8*Rr;Cs=ln.ld,0<Rr&&(Rd(Hr,Wr,Cr,gr+4,Rs,Cs),Gu(zn,la,ys,Gr,Os,gr+4,Rs,Cs)),ln.La&&(fo(Hr,Wr,Cr,gr,Rs,Cs),Xo(zn,la,ys,Gr,Os,gr,Rs,Cs)),0<Or&&(Td(Hr,Wr,Cr,gr+4,Rs,Cs),Oc(zn,la,ys,Gr,Os,gr+4,Rs,Cs)),ln.La&&(Ku(Hr,Wr,Cr,gr,Rs,Cs),Mc(zn,la,ys,Gr,Os,gr,Rs,Cs))}}if(ut.ia&&alert("todo:DitherRow"),st.put!=null){if(ar=16*hr,hr=16*(hr+1),pr?(st.y=ut.sa,st.O=ut.ta+nr,st.f=ut.qa,st.N=ut.ra+Ts,st.ea=ut.Ha,st.W=ut.Ia+Ts):(ar-=Jt,st.y=gs,st.O=Zr,st.f=Er,st.N=Gt,st.ea=os,st.W=xs),Ar||(hr-=Jt),hr>st.o&&(hr=st.o),st.F=null,st.J=null,ut.Fa!=null&&0<ut.Fa.length&&ar<hr&&(st.J=ks(ut,st,ar,hr-ar),st.F=ut.mb,st.F==null&&st.F.length==0)){Vr=Jr(ut,3,"Could not decode alpha data.");break t}ar<st.j&&(Jt=st.j-ar,ar=st.j,t(!(1&Jt)),st.O+=ut.R*Jt,st.N+=ut.B*(Jt>>1),st.W+=ut.B*(Jt>>1),st.F!=null&&(st.J+=st.width*Jt)),ar<hr&&(st.O+=st.v,st.N+=st.v>>1,st.W+=st.v>>1,st.F!=null&&(st.J+=st.v),st.ka=ar-st.j,st.U=st.va-st.v,st.T=hr-ar,Vr=st.put(st))}qt+1!=ut.Ic||Ar||(a(ut.sa,ut.ta-Dt,gs,Zr+16*ut.R,Dt),a(ut.qa,ut.ra-wr,Er,Gt+8*ut.B,wr),a(ut.Ha,ut.Ia-wr,os,xs+8*ut.B,wr))}if(!Vr)return Jr(Kt,6,"Output aborted.")}return 1})(ne,be)),be.bc!=null&&be.bc(be),_e&=1}return _e?(ne.cb=0,_e):0})(f,P)||(x=f.a)}}else x=f.a}x==0&&z.Oa!=null&&z.Oa.fd&&(x=Vs(z.ba))}z=x}U=z!=0?null:11>U?W.f.RGBA.eb:W.f.kb.y}else U=null;return U};var Gl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(ee,me){for(var O="",B=0;B<4;B++)O+=String.fromCharCode(ee[me++]);return O}function p(ee,me){return ee[me+0]|ee[me+1]<<8}function b(ee,me){return(ee[me+0]|ee[me+1]<<8|ee[me+2]<<16)>>>0}function j(ee,me){return(ee[me+0]|ee[me+1]<<8|ee[me+2]<<16|ee[me+3]<<24)>>>0}new h;var y=[0],k=[0],S=[],C=new h,L=e,D=(function(ee,me){var O={},B=0,te=!1,re=0,H=0;if(O.frames=[],!(function(E,R){for(var G=0;G<4;G++)if(E[R+G]!="RIFF".charCodeAt(G))return!0;return!1})(ee,me)){for(j(ee,me+=4),me+=8;me<ee.length;){var K=g(ee,me),V=j(ee,me+=4);me+=4;var Z=V+(1&V);switch(K){case"VP8 ":case"VP8L":O.frames[B]===void 0&&(O.frames[B]={}),(J=O.frames[B]).src_off=te?H:me-8,J.src_size=re+V+8,B++,te&&(te=!1,re=0,H=0);break;case"VP8X":(J=O.header={}).feature_flags=ee[me];var pe=me+4;J.canvas_width=1+b(ee,pe),pe+=3,J.canvas_height=1+b(ee,pe),pe+=3;break;case"ALPH":te=!0,re=Z+8,H=me-8;break;case"ANIM":(J=O.header).bgcolor=j(ee,me),pe=me+4,J.loop_count=p(ee,pe),pe+=2;break;case"ANMF":var we,J;(J=O.frames[B]={}).offset_x=2*b(ee,me),me+=3,J.offset_y=2*b(ee,me),me+=3,J.width=1+b(ee,me),me+=3,J.height=1+b(ee,me),me+=3,J.duration=b(ee,me),me+=3,we=ee[me++],J.dispose=1&we,J.blend=we>>1&1}K!="ANMF"&&(me+=Z)}return O}})(L,0);D.response=L,D.rgbaoutput=!0,D.dataurl=!1;var _=D.header?D.header:null,F=D.frames?D.frames:null;if(_){_.loop_counter=_.loop_count,y=[_.canvas_height],k=[_.canvas_width];for(var X=0;X<F.length&&F[X].blend!=0;X++);}var ue=F[0],le=C.WebPDecodeRGBA(L,ue.src_off,ue.src_size,k,y);ue.rgba=le,ue.imgwidth=k[0],ue.imgheight=y[0];for(var ie=0;ie<k[0]*y[0]*4;ie++)S[ie]=le[ie];return this.width=k,this.height=y,this.data=S,this}(function(e){var t,s,a,o,l,d,u,h,g,p=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new h,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new d,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new d,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new b(this),t=this.internal.f2,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,d=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,g=new p}]);var b=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=E;Object.defineProperty(this,"pdf",{get:function(){return R}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(Oe){G=!!Oe}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(Oe){oe=!!Oe}});var $=0;Object.defineProperty(this,"posX",{get:function(){return $},set:function(Oe){isNaN(Oe)||($=Oe)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Oe){isNaN(Oe)||(fe=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(Oe){var ce;typeof Oe=="number"?ce=[Oe,Oe,Oe,Oe]:((ce=new Array(4))[0]=Oe[0],ce[1]=Oe.length>=2?Oe[1]:ce[0],ce[2]=Oe.length>=3?Oe[2]:ce[0],ce[3]=Oe.length>=4?Oe[3]:ce[1]),g.margin=ce}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(Oe){ke=Oe}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(Oe){Se=Oe}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(Oe){Te=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(Oe){Oe instanceof p&&(g=Oe)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(Oe){g.path=Oe}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(Oe){ge=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var ce;ce=j(Oe),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var ce=j(Oe);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var De=null,Xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xe},set:function(Oe){De=null,Xe=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var ce;if(this.ctx.font=Oe,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var Ht=ce[1];ce[2];var Et=ce[3],Be=ce[4];ce[5];var Ue=ce[6],Q=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(Q==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:Q==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var de=(function(ft){var it,er,zt=[],nt=ft.trim();if(nt==="")return Pp;if(nt in cy)return[cy[nt]];for(;nt!=="";){switch(er=null,it=(nt=uy(nt)).charAt(0)){case'"':case"'":er=Jk(nt.substring(1),it);break;default:er=Qk(nt)}if(er===null||(zt.push(er[0]),(nt=uy(er[1]))!==""&&nt.charAt(0)!==","))return Pp;nt=nt.replace(/^,/,"")}return zt})(Ue);if(this.fontFaces){var Ne=(function(ft,it){if(De===null){var er=(function(zt){var nt=[];return Object.keys(zt).forEach(function(St){zt[St].forEach(function(Mt){var ot=null;switch(Mt){case"bold":ot={family:St,weight:"bold"};break;case"italic":ot={family:St,style:"italic"};break;case"bolditalic":ot={family:St,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:St}}ot!==null&&(ot.ref={name:St,style:Mt},nt.push(ot))})}),nt})(ft.getFontList());De=(function(zt){for(var nt={},St=0;St<zt.length;++St){var Mt=_p(zt[St]),ot=Mt.family,It=Mt.stretch,At=Mt.style,dr=Mt.weight;nt[ot]=nt[ot]||{},nt[ot][It]=nt[ot][It]||{},nt[ot][It][At]=nt[ot][It][At]||{},nt[ot][It][At][dr]=Mt}return nt})(er.concat(it))}return De})(this.pdf,this.fontFaces),Ce=de.map(function(ft){return{family:ft,stretch:"normal",weight:Et,style:Ht}}),Me=(function(ft,it,er){for(var zt=(er=er||{}).defaultFontFamily||"times",nt=Object.assign({},Yk,er.genericFontFamilies||{}),St=null,Mt=null,ot=0;ot<it.length;++ot)if(nt[(St=_p(it[ot])).family]&&(St.family=nt[St.family]),ft.hasOwnProperty(St.family)){Mt=ft[St.family];break}if(!(Mt=Mt||ft[zt]))throw new Error("Could not find a font-family for the rule '"+dy(St)+"' and default family '"+zt+"'.");if(Mt=(function(It,At){if(At[It])return At[It];var dr=g0[It],tr=dr<=g0.normal?-1:1,Xt=ly(At,Gv,dr,tr);if(!Xt)throw new Error("Could not find a matching font-stretch value for "+It);return Xt})(St.stretch,Mt),Mt=(function(It,At){if(At[It])return At[It];for(var dr=Wv[It],tr=0;tr<dr.length;++tr)if(At[dr[tr]])return At[dr[tr]];throw new Error("Could not find a matching font-style for "+It)})(St.style,Mt),!(Mt=(function(It,At){if(At[It])return At[It];if(It===400&&At[500])return At[500];if(It===500&&At[400])return At[400];var dr=Kk[It],tr=ly(At,Kv,dr,It<400?-1:1);if(!tr)throw new Error("Could not find a matching font-weight for value "+It);return tr})(St.weight,Mt)))throw new Error("Failed to resolve a font for the rule '"+dy(St)+"'.");return Mt})(Ne,Ce);this.pdf.setFont(Me.ref.name,Me.ref.style)}else{var Ie="";(Et==="bold"||parseInt(Et,10)>=700||Ht==="bold")&&(Ie="bold"),Ht==="italic"&&(Ie+="italic"),Ie.length===0&&(Ie="normal");for(var Ve="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},et=0;et<de.length;et++){if(this.pdf.internal.getFont(de[et],Ie,{noFallback:!0,disableWarning:!0})!==void 0){Ve=de[et];break}if(Ie==="bolditalic"&&this.pdf.internal.getFont(de[et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=de[et],Ie="bold";else if(this.pdf.internal.getFont(de[et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=de[et],Ie="normal";break}}if(Ve===""){for(var rt=0;rt<de.length;rt++)if(at[de[rt]]){Ve=at[de[rt]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,Ie)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};b.prototype.setLineDash=function(E){this.lineDash=E},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){F.call(this,"fill",!1)},b.prototype.stroke=function(){F.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(E,R){if(isNaN(E)||isNaN(R))throw Sr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new d(E,R));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new d(E,R)},b.prototype.closePath=function(){var E=new d(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&xr(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){E=new d(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(E.x,E.y)},b.prototype.lineTo=function(E,R){if(isNaN(E)||isNaN(R))throw Sr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new d(E,R));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new d(G.x,G.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},b.prototype.quadraticCurveTo=function(E,R,G,oe){if(isNaN(G)||isNaN(oe)||isNaN(E)||isNaN(R))throw Sr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var $=this.ctx.transform.applyToPoint(new d(G,oe)),fe=this.ctx.transform.applyToPoint(new d(E,R));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:$.x,y:$.y}),this.ctx.lastPoint=new d($.x,$.y)},b.prototype.bezierCurveTo=function(E,R,G,oe,$,fe){if(isNaN($)||isNaN(fe)||isNaN(E)||isNaN(R)||isNaN(G)||isNaN(oe))throw Sr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new d($,fe)),Se=this.ctx.transform.applyToPoint(new d(E,R)),Te=this.ctx.transform.applyToPoint(new d(G,oe));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:Te.x,y2:Te.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new d(ke.x,ke.y)},b.prototype.arc=function(E,R,G,oe,$,fe){if(isNaN(E)||isNaN(R)||isNaN(G)||isNaN(oe)||isNaN($))throw Sr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new d(E,R));E=ke.x,R=ke.y;var Se=this.ctx.transform.applyToPoint(new d(0,G)),Te=this.ctx.transform.applyToPoint(new d(0,0));G=Math.sqrt(Math.pow(Se.x-Te.x,2)+Math.pow(Se.y-Te.y,2))}Math.abs($-oe)>=2*Math.PI&&(oe=0,$=2*Math.PI),this.path.push({type:"arc",x:E,y:R,radius:G,startAngle:oe,endAngle:$,counterclockwise:fe})},b.prototype.arcTo=function(E,R,G,oe,$){throw new Error("arcTo not implemented.")},b.prototype.rect=function(E,R,G,oe){if(isNaN(E)||isNaN(R)||isNaN(G)||isNaN(oe))throw Sr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,R),this.lineTo(E+G,R),this.lineTo(E+G,R+oe),this.lineTo(E,R+oe),this.lineTo(E,R),this.lineTo(E+G,R),this.lineTo(E,R)},b.prototype.fillRect=function(E,R,G,oe){if(isNaN(E)||isNaN(R)||isNaN(G)||isNaN(oe))throw Sr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var $={};this.lineCap!=="butt"&&($.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&($.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,R,G,oe),this.fill(),$.hasOwnProperty("lineCap")&&(this.lineCap=$.lineCap),$.hasOwnProperty("lineJoin")&&(this.lineJoin=$.lineJoin)}},b.prototype.strokeRect=function(E,R,G,oe){if(isNaN(E)||isNaN(R)||isNaN(G)||isNaN(oe))throw Sr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(E,R,G,oe),this.stroke())},b.prototype.clearRect=function(E,R,G,oe){if(isNaN(E)||isNaN(R)||isNaN(G)||isNaN(oe))throw Sr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,R,G,oe))},b.prototype.save=function(E){E=typeof E!="boolean"||E;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},b.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(R),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var j=function(E){var R,G,oe,$;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))R=0,G=0,oe=0,$=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(fe!==null)R=parseInt(fe[1]),G=parseInt(fe[2]),oe=parseInt(fe[3]),$=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)R=parseInt(fe[1]),G=parseInt(fe[2]),oe=parseInt(fe[3]),$=parseFloat(fe[4]);else{if($=1,typeof E=="string"&&E.charAt(0)!=="#"){var ke=new Bv(E);E=ke.ok?ke.toHex():"#000000"}E.length===4?(R=E.substring(1,2),R+=R,G=E.substring(2,3),G+=G,oe=E.substring(3,4),oe+=oe):(R=E.substring(1,3),G=E.substring(3,5),oe=E.substring(5,7)),R=parseInt(R,16),G=parseInt(G,16),oe=parseInt(oe,16)}}return{r:R,g:G,b:oe,a:$,style:E}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(E,R,G,oe){if(isNaN(R)||isNaN(G)||typeof E!="string")throw Sr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!y.call(this)){var $=Z(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;B.call(this,{text:E,x:R,y:G,scale:fe,angle:$,align:this.textAlign,maxWidth:oe})}},b.prototype.strokeText=function(E,R,G,oe){if(isNaN(R)||isNaN(G)||typeof E!="string")throw Sr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){oe=isNaN(oe)?void 0:oe;var $=Z(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;B.call(this,{text:E,x:R,y:G,scale:fe,renderingMode:"stroke",angle:$,align:this.textAlign,maxWidth:oe})}},b.prototype.measureText=function(E){if(typeof E!="string")throw Sr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,G=this.pdf.internal.scaleFactor,oe=R.internal.getFontSize(),$=R.getStringUnitWidth(E)*oe/R.internal.scaleFactor;return new function(fe){var ke=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:$*=Math.round(96*G/72*1e4)/1e4})},b.prototype.scale=function(E,R){if(isNaN(E)||isNaN(R))throw Sr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new h(E,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},b.prototype.rotate=function(E){if(isNaN(E))throw Sr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new h(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},b.prototype.translate=function(E,R){if(isNaN(E)||isNaN(R))throw Sr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new h(1,0,0,1,E,R);this.ctx.transform=this.ctx.transform.multiply(G)},b.prototype.transform=function(E,R,G,oe,$,fe){if(isNaN(E)||isNaN(R)||isNaN(G)||isNaN(oe)||isNaN($)||isNaN(fe))throw Sr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new h(E,R,G,oe,$,fe);this.ctx.transform=this.ctx.transform.multiply(ke)},b.prototype.setTransform=function(E,R,G,oe,$,fe){E=isNaN(E)?1:E,R=isNaN(R)?0:R,G=isNaN(G)?0:G,oe=isNaN(oe)?1:oe,$=isNaN($)?0:$,fe=isNaN(fe)?0:fe,this.ctx.transform=new h(E,R,G,oe,$,fe)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(E,R,G,oe,$,fe,ke,Se,Te){var ge=this.pdf.getImageProperties(E),De=1,Xe=1,Oe=1,ce=1;oe!==void 0&&Se!==void 0&&(Oe=Se/oe,ce=Te/$,De=ge.width/oe*Se/oe,Xe=ge.height/$*Te/$),fe===void 0&&(fe=R,ke=G,R=0,G=0),oe!==void 0&&Se===void 0&&(Se=oe,Te=$),oe===void 0&&Se===void 0&&(Se=ge.width,Te=ge.height);for(var Ht,Et=this.ctx.transform.decompose(),Be=Z(Et.rotate.shx),Ue=new h,Q=(Ue=(Ue=(Ue=Ue.multiply(Et.translate)).multiply(Et.skew)).multiply(Et.scale)).applyToRectangle(new u(fe-R*Oe,ke-G*ce,oe*De,$*Xe)),de=C.call(this,Q),Ne=[],Ce=0;Ce<de.length;Ce+=1)Ne.indexOf(de[Ce])===-1&&Ne.push(de[Ce]);if(_(Ne),this.autoPaging)for(var Me=Ne[0],Ie=Ne[Ne.length-1],Ve=Me;Ve<Ie+1;Ve++){this.pdf.setPage(Ve);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Ve===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=Ve===1?0:rt+(Ve-2)*ft;if(this.ctx.clip_path.length!==0){var er=this.path;Ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Ht,this.posX+this.margin[3],-it+et+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=er}var zt=JSON.parse(JSON.stringify(Q));zt=D([zt],this.posX+this.margin[3],-it+et+this.ctx.prevPageLastElemOffset)[0];var nt=(Ve>Me||Ve<Ie)&&S.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,ft,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",zt.x,zt.y,zt.w,zt.h,null,null,Be),nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",Q.x,Q.y,Q.w,Q.h,null,null,Be)};var C=function(E,R,G){var oe=[];R=R||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var $=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":oe.push(Math.floor((E.y+$)/G)+1);break;case"arc":oe.push(Math.floor((E.y+$-E.radius)/G)+1),oe.push(Math.floor((E.y+$+E.radius)/G)+1);break;case"qct":var fe=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);oe.push(Math.floor((fe.y+$)/G)+1),oe.push(Math.floor((fe.y+fe.h+$)/G)+1);break;case"bct":var ke=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);oe.push(Math.floor((ke.y+$)/G)+1),oe.push(Math.floor((ke.y+ke.h+$)/G)+1);break;case"rect":oe.push(Math.floor((E.y+$)/G)+1),oe.push(Math.floor((E.y+E.h+$)/G)+1)}for(var Se=0;Se<oe.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<oe[Se];)L.call(this);return oe},L=function(){var E=this.fillStyle,R=this.strokeStyle,G=this.font,oe=this.lineCap,$=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=R,this.font=G,this.lineCap=oe,this.lineWidth=$,this.lineJoin=fe},D=function(E,R,G){for(var oe=0;oe<E.length;oe++)switch(E[oe].type){case"bct":E[oe].x2+=R,E[oe].y2+=G;case"qct":E[oe].x1+=R,E[oe].y1+=G;default:E[oe].x+=R,E[oe].y+=G}return E},_=function(E){return E.sort(function(R,G){return R-G})},F=function(E,R){for(var G,oe,$=this.fillStyle,fe=this.strokeStyle,ke=this.lineCap,Se=this.lineWidth,Te=Math.abs(Se*this.ctx.transform.scaleX),ge=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),Xe=JSON.parse(JSON.stringify(this.path)),Oe=[],ce=0;ce<Xe.length;ce++)if(Xe[ce].x!==void 0)for(var Ht=C.call(this,Xe[ce]),Et=0;Et<Ht.length;Et+=1)Oe.indexOf(Ht[Et])===-1&&Oe.push(Ht[Et]);for(var Be=0;Be<Oe.length;Be++)for(;this.pdf.internal.getNumberOfPages()<Oe[Be];)L.call(this);if(_(Oe),this.autoPaging)for(var Ue=Oe[0],Q=Oe[Oe.length-1],de=Ue;de<Q+1;de++){this.pdf.setPage(de),this.fillStyle=$,this.strokeStyle=fe,this.lineCap=ke,this.lineWidth=Te,this.lineJoin=ge;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=de===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=de===1?0:Me+(de-2)*Ie;if(this.ctx.clip_path.length!==0){var at=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(G,this.posX+this.margin[3],-Ve+Ce+this.ctx.prevPageLastElemOffset),X.call(this,E,!0),this.path=at}if(oe=JSON.parse(JSON.stringify(De)),this.path=D(oe,this.posX+this.margin[3],-Ve+Ce+this.ctx.prevPageLastElemOffset),R===!1||de===0){var et=(de>Ue||de<Q)&&S.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,Ie,null).clip().discardPath()),X.call(this,E,R),et&&this.pdf.restoreGraphicsState()}this.lineWidth=Se}else this.lineWidth=Te,X.call(this,E,R),this.lineWidth=Se;this.path=De},X=function(E,R){if((E!=="stroke"||R||!k.call(this))&&(E==="stroke"||R||!y.call(this))){for(var G,oe,$=[],fe=this.path,ke=0;ke<fe.length;ke++){var Se=fe[ke];switch(Se.type){case"begin":$.push({begin:!0});break;case"close":$.push({close:!0});break;case"mt":$.push({start:Se,deltas:[],abs:[]});break;case"lt":var Te=$.length;if(fe[ke-1]&&!isNaN(fe[ke-1].x)&&(G=[Se.x-fe[ke-1].x,Se.y-fe[ke-1].y],Te>0)){for(;Te>=0;Te--)if($[Te-1].close!==!0&&$[Te-1].begin!==!0){$[Te-1].deltas.push(G),$[Te-1].abs.push(Se);break}}break;case"bct":G=[Se.x1-fe[ke-1].x,Se.y1-fe[ke-1].y,Se.x2-fe[ke-1].x,Se.y2-fe[ke-1].y,Se.x-fe[ke-1].x,Se.y-fe[ke-1].y],$[$.length-1].deltas.push(G);break;case"qct":var ge=fe[ke-1].x+2/3*(Se.x1-fe[ke-1].x),De=fe[ke-1].y+2/3*(Se.y1-fe[ke-1].y),Xe=Se.x+2/3*(Se.x1-Se.x),Oe=Se.y+2/3*(Se.y1-Se.y),ce=Se.x,Ht=Se.y;G=[ge-fe[ke-1].x,De-fe[ke-1].y,Xe-fe[ke-1].x,Oe-fe[ke-1].y,ce-fe[ke-1].x,Ht-fe[ke-1].y],$[$.length-1].deltas.push(G);break;case"arc":$.push({deltas:[],abs:[],arc:!0}),Array.isArray($[$.length-1].abs)&&$[$.length-1].abs.push(Se)}}oe=R?null:E==="stroke"?"stroke":"fill";for(var Et=!1,Be=0;Be<$.length;Be++)if($[Be].arc)for(var Ue=$[Be].abs,Q=0;Q<Ue.length;Q++){var de=Ue[Q];de.type==="arc"?ie.call(this,de.x,de.y,de.radius,de.startAngle,de.endAngle,de.counterclockwise,void 0,R,!Et):te.call(this,de.x,de.y),Et=!0}else if($[Be].close===!0)this.pdf.internal.out("h"),Et=!1;else if($[Be].begin!==!0){var Ne=$[Be].start.x,Ce=$[Be].start.y;re.call(this,$[Be].deltas,Ne,Ce),Et=!0}oe&&ee.call(this,oe),R&&me.call(this)}},ue=function(E){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-G;case"top":return E+R-G;case"hanging":return E+R-2*G;case"middle":return E+R/2-G;default:return E}},le=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(R,G){this.colorStops.push([R,G])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ie=function(E,R,G,oe,$,fe,ke,Se,Te){for(var ge=K.call(this,G,oe,$,fe),De=0;De<ge.length;De++){var Xe=ge[De];De===0&&(Te?O.call(this,Xe.x1+E,Xe.y1+R):te.call(this,Xe.x1+E,Xe.y1+R)),H.call(this,E,R,Xe.x2,Xe.y2,Xe.x3,Xe.y3,Xe.x4,Xe.y4)}Se?me.call(this):ee.call(this,ke)},ee=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},me=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(E,R){this.pdf.internal.out(s(E)+" "+a(R)+" m")},B=function(E){var R;switch(E.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var G=this.pdf.getTextDimensions(E.text),oe=ue.call(this,E.y),$=le.call(this,oe)-G.h,fe=this.ctx.transform.applyToPoint(new d(E.x,oe)),ke=this.ctx.transform.decompose(),Se=new h;Se=(Se=(Se=Se.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var Te,ge,De,Xe=this.ctx.transform.applyToRectangle(new u(E.x,oe,G.w,G.h)),Oe=Se.applyToRectangle(new u(E.x,$,G.w,G.h)),ce=C.call(this,Oe),Ht=[],Et=0;Et<ce.length;Et+=1)Ht.indexOf(ce[Et])===-1&&Ht.push(ce[Et]);if(_(Ht),this.autoPaging)for(var Be=Ht[0],Ue=Ht[Ht.length-1],Q=Be;Q<Ue+1;Q++){this.pdf.setPage(Q);var de=Q===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],Me=Ce-this.margin[0],Ie=this.pdf.internal.pageSize.width-this.margin[1],Ve=Ie-this.margin[3],at=Q===1?0:Ne+(Q-2)*Me;if(this.ctx.clip_path.length!==0){var et=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Te,this.posX+this.margin[3],-1*at+de),X.call(this,"fill",!0),this.path=et}var rt=D([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-at+de+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*E.scale),De=this.lineWidth,this.lineWidth=De*E.scale);var ft=this.autoPaging!=="text";if(ft||rt.y+rt.h<=Ce){if(ft||rt.y>=de&&rt.x<=Ie){var it=ft?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||Ie-rt.x)[0],er=D([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-at+de+this.ctx.prevPageLastElemOffset)[0],zt=ft&&(Q>Be||Q<Ue)&&S.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Me,null).clip().discardPath()),this.pdf.text(it,er.x,er.y,{angle:E.angle,align:R,renderingMode:E.renderingMode}),zt&&this.pdf.restoreGraphicsState()}}else rt.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-rt.y);E.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=De)}else E.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*E.scale),De=this.lineWidth,this.lineWidth=De*E.scale),this.pdf.text(E.text,fe.x+this.posX,fe.y+this.posY,{angle:E.angle,align:R,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=De)},te=function(E,R,G,oe){G=G||0,oe=oe||0,this.pdf.internal.out(s(E+G)+" "+a(R+oe)+" l")},re=function(E,R,G){return this.pdf.lines(E,R,G,null,null)},H=function(E,R,G,oe,$,fe,ke,Se){this.pdf.internal.out([t(o(G+E)),t(l(oe+R)),t(o($+E)),t(l(fe+R)),t(o(ke+E)),t(l(Se+R)),"c"].join(" "))},K=function(E,R,G,oe){for(var $=2*Math.PI,fe=Math.PI/2;R>G;)R-=$;var ke=Math.abs(G-R);ke<$&&oe&&(ke=$-ke);for(var Se=[],Te=oe?-1:1,ge=R;ke>1e-5;){var De=ge+Te*Math.min(ke,fe);Se.push(V.call(this,E,ge,De)),ke-=Math.abs(De-ge),ge=De}return Se},V=function(E,R,G){var oe=(G-R)/2,$=E*Math.cos(oe),fe=E*Math.sin(oe),ke=$,Se=-fe,Te=ke*ke+Se*Se,ge=Te+ke*$+Se*fe,De=4/3*(Math.sqrt(2*Te*ge)-ge)/(ke*fe-Se*$),Xe=ke-De*Se,Oe=Se+De*ke,ce=Xe,Ht=-Oe,Et=oe+R,Be=Math.cos(Et),Ue=Math.sin(Et);return{x1:E*Math.cos(R),y1:E*Math.sin(R),x2:Xe*Be-Oe*Ue,y2:Xe*Ue+Oe*Be,x3:ce*Be-Ht*Ue,y3:ce*Ue+Ht*Be,x4:E*Math.cos(G),y4:E*Math.sin(G)}},Z=function(E){return 180*E/Math.PI},pe=function(E,R,G,oe,$,fe){var ke=E+.5*(G-E),Se=R+.5*(oe-R),Te=$+.5*(G-$),ge=fe+.5*(oe-fe),De=Math.min(E,$,ke,Te),Xe=Math.max(E,$,ke,Te),Oe=Math.min(R,fe,Se,ge),ce=Math.max(R,fe,Se,ge);return new u(De,Oe,Xe-De,ce-Oe)},we=function(E,R,G,oe,$,fe,ke,Se){var Te,ge,De,Xe,Oe,ce,Ht,Et,Be,Ue,Q,de,Ne,Ce,Me=G-E,Ie=oe-R,Ve=$-G,at=fe-oe,et=ke-$,rt=Se-fe;for(ge=0;ge<41;ge++)Be=(Ht=(De=E+(Te=ge/40)*Me)+Te*((Oe=G+Te*Ve)-De))+Te*(Oe+Te*($+Te*et-Oe)-Ht),Ue=(Et=(Xe=R+Te*Ie)+Te*((ce=oe+Te*at)-Xe))+Te*(ce+Te*(fe+Te*rt-ce)-Et),ge==0?(Q=Be,de=Ue,Ne=Be,Ce=Ue):(Q=Math.min(Q,Be),de=Math.min(de,Ue),Ne=Math.max(Ne,Be),Ce=Math.max(Ce,Ue));return new u(Math.round(Q),Math.round(de),Math.round(Ne-Q),Math.round(Ce-de))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,R,G=(E=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:R}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(jt.API),(function(e){var t=function(d){var u,h,g,p,b,j,y,k,S,C;for(h=[],g=0,p=(d+=u="\0\0\0\0".slice(d.length%4||4)).length;p>g;g+=4)(b=(d.charCodeAt(g)<<24)+(d.charCodeAt(g+1)<<16)+(d.charCodeAt(g+2)<<8)+d.charCodeAt(g+3))!==0?(j=(b=((b=((b=((b=(b-(C=b%85))/85)-(S=b%85))/85)-(k=b%85))/85)-(y=b%85))/85)%85,h.push(j+33,y+33,k+33,S+33,C+33)):h.push(122);return(function(L,D){for(var _=D;_>0;_--)L.pop()})(h,u.length),String.fromCharCode.apply(String,h)+"~>"},s=function(d){var u,h,g,p,b,j=String,y="length",k=255,S="charCodeAt",C="slice",L="replace";for(d[C](-2),d=d[C](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),g=[],p=0,b=(d+=u="uuuuu"[C](d[y]%5||5))[y];b>p;p+=5)h=52200625*(d[S](p)-33)+614125*(d[S](p+1)-33)+7225*(d[S](p+2)-33)+85*(d[S](p+3)-33)+(d[S](p+4)-33),g.push(k&h>>24,k&h>>16,k&h>>8,k&h);return(function(D,_){for(var F=_;F>0;F--)D.pop()})(g,u[y]),j.fromCharCode.apply(j,g)},a=function(d){return d.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},o=function(d){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((d=d.replace(/\s/g,"")).indexOf(">")!==-1&&(d=d.substr(0,d.indexOf(">"))),d.length%2&&(d+="0"),u.test(d)===!1)return"";for(var h="",g=0;g<d.length;g+=2)h+=String.fromCharCode("0x"+(d[g]+d[g+1]));return h},l=function(d){for(var u=new Uint8Array(d.length),h=d.length;h--;)u[h]=d.charCodeAt(h);return(u=c0(u)).reduce(function(g,p){return g+String.fromCharCode(p)},"")};e.processDataByFilters=function(d,u){var h=0,g=d||"",p=[];for(typeof(u=u||[])=="string"&&(u=[u]),h=0;h<u.length;h+=1)switch(u[h]){case"ASCII85Decode":case"/ASCII85Decode":g=s(g),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":g=t(g),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":g=o(g),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":g=a(g),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":g=l(g),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[h]+'" is not implemented')}return{data:g,reverseChain:p.reverse().join(" ")}}})(jt.API),(function(e){e.loadFile=function(t,s,a){return(function(o,l,d){l=l!==!1,d=typeof d=="function"?d:function(){};var u=void 0;try{u=(function(h,g,p){var b=new XMLHttpRequest,j=0,y=function(k){var S=k.length,C=[],L=String.fromCharCode;for(j=0;j<S;j+=1)C.push(L(255&k.charCodeAt(j)));return C.join("")};if(b.open("GET",h,!g),b.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(b.onload=function(){b.status===200?p(y(this.responseText)):p(void 0)}),b.send(null),g&&b.status===200)return y(b.responseText)})(o,l,d)}catch{}return u})(t,s,a)},e.loadImageFile=e.loadFile})(jt.API),(function(e){function t(){return(Rt.html2canvas?Promise.resolve(Rt.html2canvas):Gi(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function s(){return(Rt.DOMPurify?Promise.resolve(Rt.DOMPurify):Gi(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var a=function(u){var h=xr(u);return h==="undefined"?"undefined":h==="string"||u instanceof String?"string":h==="number"||u instanceof Number?"number":h==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":h==="object"?"object":"unknown"},o=function(u,h){var g=document.createElement(u);for(var p in h.className&&(g.className=h.className),h.innerHTML&&h.dompurify&&(g.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)g.style[p]=h.style[p];return g},l=function u(h,g){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),b=h.firstChild;b;b=b.nextSibling)g!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||p.appendChild(u(b,g));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p},d=function u(h){var g=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),p=u.convert(Promise.resolve(),g);return(p=p.setProgress(1,u,1,[u])).set(h)};(d.prototype=Object.create(Promise.prototype)).constructor=d,d.convert=function(u,h){return u.__proto__=h||d.prototype,u},d.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},d.prototype.from=function(u,h){return this.then(function(){switch(h=h||(function(g){switch(a(g)){case"string":return"string";case"element":return g.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),h){case"string":return this.then(s).then(function(g){return this.set({src:o("div",{innerHTML:u,dompurify:g})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},d.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},d.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},d.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(h){var g=Object.assign({},this.opt.html2canvas);return delete g.onrendered,h(this.prop.container,g)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},d.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(h){var g=this.opt.jsPDF,p=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,j=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete j.onrendered,g.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,g.context2d.posX=this.opt.x,g.context2d.posY=this.opt.y,g.context2d.margin=this.opt.margin,g.context2d.fontFaces=p,p)for(var y=0;y<p.length;++y){var k=p[y],S=k.src.find(function(C){return C.format==="truetype"});S&&g.addFont(S.url,k.ref.name,k.ref.style)}return j.windowHeight=j.windowHeight||0,j.windowHeight=j.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):j.windowHeight,g.context2d.save(!0),h(this.prop.container,j)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},d.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},d.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},d.prototype.output=function(u,h,g){return(g=g||"pdf").toLowerCase()==="img"||g.toLowerCase()==="image"?this.outputImg(u,h):this.outputPdf(u,h)},d.prototype.outputPdf=function(u,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,h)})},d.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},d.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},d.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},d.prototype.set=function(u){if(a(u)!=="object")return this;var h=Object.keys(u||{}).map(function(g){if(g in d.template.prop)return function(){this.prop[g]=u[g]};switch(g){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[g]=u[g]}}},this);return this.then(function(){return this.thenList(h)})},d.prototype.get=function(u,h){return this.then(function(){var g=u in d.template.prop?this.prop[u]:this.opt[u];return h?h(g):g})},d.prototype.setMargin=function(u){return this.then(function(){switch(a(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},d.prototype.setPageSize=function(u){function h(g,p){return Math.floor(g*p/72*96)}return this.then(function(){(u=u||jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:h(u.inner.width,u.k),height:h(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},d.prototype.setProgress=function(u,h,g,p){return u!=null&&(this.progress.val=u),h!=null&&(this.progress.state=h),g!=null&&(this.progress.n=g),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},d.prototype.updateProgress=function(u,h,g,p){return this.setProgress(u?this.progress.val+u:null,h||null,g?this.progress.n+g:null,p?this.progress.stack.concat(p):null)},d.prototype.then=function(u,h){var g=this;return this.thenCore(u,h,function(p,b){return g.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(j){return g.updateProgress(null,p),j}).then(p,b).then(function(j){return g.updateProgress(1),j})})},d.prototype.thenCore=function(u,h,g){g=g||Promise.prototype.then;var p=this;u&&(u=u.bind(p)),h&&(h=h.bind(p));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:d.convert(Object.assign({},p),Promise.prototype),j=g.call(b,u,h);return d.convert(j,p.__proto__)},d.prototype.thenExternal=function(u,h){return Promise.prototype.then.call(this,u,h)},d.prototype.thenList=function(u){var h=this;return u.forEach(function(g){h=h.thenCore(g)}),h},d.prototype.catch=function(u){u&&(u=u.bind(this));var h=Promise.prototype.catch.call(this,u);return d.convert(h,this)},d.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},d.prototype.error=function(u){return this.then(function(){throw new Error(u)})},d.prototype.using=d.prototype.set,d.prototype.saveAs=d.prototype.save,d.prototype.export=d.prototype.output,d.prototype.run=d.prototype.then,jt.getPageSize=function(u,h,g){if(xr(u)==="object"){var p=u;u=p.orientation,h=p.unit||h,g=p.format||g}h=h||"mm",g=g||"a4",u=(""+(u||"P")).toLowerCase();var b,j=(""+g).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+h}var k,S=0,C=0;if(y.hasOwnProperty(j))S=y[j][1]/b,C=y[j][0]/b;else try{S=g[1],C=g[0]}catch{throw new Error("Invalid format: "+g)}if(u==="p"||u==="portrait")u="p",C>S&&(k=C,C=S,S=k);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",S>C&&(k=C,C=S,S=k)}return{width:C,height:S,unit:h,k:b,orientation:u}},e.html=function(u,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(_p):null;var g=new d(h);return h.worker?g:g.from(u).doCallback()}})(jt.API),jt.API.addJS=function(e){return fy=e,this.internal.events.subscribe("postPutResources",function(){Vh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),hy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+fy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vh!==void 0&&hy!==void 0&&this.internal.out("/Names <</JavaScript "+Vh+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var s=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=s.outline.render().split(/\r\n/),l=0;l<o.length;l++){var d=o[l],u=a.exec(d);if(u!=null){var h=u[1];s.internal.newObjectDeferredBegin(h,!1)}s.internal.write(d)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,p=[];for(l=0;l<g;l++){var b=s.internal.newObject();p.push(b);var j=s.internal.getPageInfo(l+1);s.internal.write("<< /D["+j.objId+" 0 R /XYZ null null null]>> endobj")}var y=s.internal.newObject();for(s.internal.write("<< /Names [ "),l=0;l<p.length;l++)s.internal.write("(page_"+(l+1)+")"+p[l]+" 0 R");s.internal.write(" ] >>","endobj"),t=s.internal.newObject(),s.internal.write("<< /Dests "+y+" 0 R"),s.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var s=this;s.outline.root.children.length>0&&(s.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&s.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(a,o,l){var d={title:o,options:l,children:[]};return a==null&&(a=this.root),a.children.push(d),d},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(a){a.id=s.internal.newObjectDeferred();for(var o=0;o<a.children.length;o++)this.genIds_r(a.children[o])},s.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},s.outline.renderItems=function(a){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<a.children.length;l++){var d=a.children[l];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(a)),l>0&&this.line("/Prev "+this.makeRef(a.children[l-1])),l<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[l+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var u=this.count=this.count_r({count:0},d);if(u>0&&this.line("/Count "+u),d.options&&d.options.pageNumber){var h=s.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var g=0;g<a.children.length;g++)this.renderItems(a.children[g])},s.outline.line=function(a){this.ctx.val+=a+`\r
`},s.outline.makeRef=function(a){return a.id+" 0 R"},s.outline.makeString=function(a){return"("+s.internal.pdfEscape(a)+")"},s.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(a,o){for(var l=0;l<o.children.length;l++)a.count++,this.count_r(a,o.children[l]);return a.count}}])})(jt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(s,a,o,l,d,u){var h,g=this.decode.DCT_DECODE,p=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=d||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,h=(function(b){for(var j,y=256*b.charCodeAt(4)+b.charCodeAt(5),k=b.length,S={width:0,height:0,numcomponents:1},C=4;C<k;C+=2){if(C+=y,t.indexOf(b.charCodeAt(C+1))!==-1){j=256*b.charCodeAt(C+5)+b.charCodeAt(C+6),S={width:256*b.charCodeAt(C+7)+b.charCodeAt(C+8),height:j,numcomponents:b.charCodeAt(C+9)};break}y=256*b.charCodeAt(C+2)+b.charCodeAt(C+3)}return S})(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s),h.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:s,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:g,index:a,alias:o}}return p}})(jt.API),jt.API.processPNG=function(e,t,s,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var o,l=Ik(e,{checkCrc:!0}),d=l.width,u=l.height,h=l.channels,g=l.palette,p=l.depth;o=g&&h===1?(function(le){for(var ie=le.width,ee=le.height,me=le.data,O=le.palette,B=le.depth,te=!1,re=[],H=[],K=void 0,V=!1,Z=0,pe=0;pe<O.length;pe++){var we=x1(O[pe],4),J=we[0],E=we[1],R=we[2],G=we[3];re.push(J,E,R),G!=null&&(G===0?(Z++,H.length<1&&H.push(pe)):G<255&&(V=!0))}if(V||Z>1){te=!0,H=void 0;var oe=ie*ee;K=new Uint8Array(oe);for(var $=new DataView(me.buffer),fe=0;fe<oe;fe++){var ke=Lp($,fe,B),Se=x1(O[ke],4)[3];K[fe]=Se}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:me,alphaBytes:K,needSMask:te,palette:re,mask:H}})(l):h===2||h===4?(function(le){for(var ie=le.data,ee=le.width,me=le.height,O=le.channels,B=le.depth,te=O===2?"DeviceGray":"DeviceRGB",re=O-1,H=ee*me,K=re,V=H*K,Z=1*H,pe=Math.ceil(V*B/8),we=Math.ceil(Z*B/8),J=new Uint8Array(pe),E=new Uint8Array(we),R=new DataView(ie.buffer),G=new DataView(J.buffer),oe=new DataView(E.buffer),$=!1,fe=0;fe<H;fe++){for(var ke=fe*O,Se=0;Se<K;Se++)Ny(G,Lp(R,ke+Se,B),fe*K+Se,B);var Te=Lp(R,ke+K,B);Te<(1<<B)-1&&($=!0),Ny(oe,Te,1*fe,B)}return{colorSpace:te,colorsPerPixel:re,colorBytes:J,alphaBytes:E,needSMask:$}})(l):(function(le){var ie=le.data,ee=le.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ee,colorsPerPixel:ee==="DeviceGray"?1:3,colorBytes:ie instanceof Uint8Array?ie:new Uint8Array(ie.buffer),needSMask:!1}})(l);var b,j,y,k=o,S=k.colorSpace,C=k.colorsPerPixel,L=k.colorBytes,D=k.alphaBytes,_=k.needSMask,F=k.palette,X=k.mask,ue=null;return a!==jt.API.image_compression.NONE&&typeof c0=="function"?(ue=(function(le){var ie;switch(le){case jt.API.image_compression.FAST:ie=11;break;case jt.API.image_compression.MEDIUM:ie=13;break;case jt.API.image_compression.SLOW:ie=14;break;default:ie=12}return ie})(a),b=this.decode.FLATE_DECODE,j="/Predictor ".concat(ue," "),e=xy(L,d*C,C,a),_&&(y=xy(D,d,1,a))):(b=void 0,j="",e=L,_&&(y=D)),j+="/Colors ".concat(C," /BitsPerComponent ").concat(p," /Columns ").concat(d),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:s,data:e,index:t,filter:b,decodeParameters:j,transparency:X,palette:F,sMask:y,predictor:ue,width:d,height:u,bitsPerComponent:p,colorSpace:S}}},(function(e){e.processGIF89A=function(t,s,a,o){var l=new t8(t),d=l.width,u=l.height,h=[];l.decodeAndBlitFrameRGBA(0,h);var g={data:h,width:d,height:u},p=new Ep(100).encode(g,100);return e.processJPEG.call(this,p,s,a,o)},e.processGIF87A=e.processGIF89A})(jt.API),li.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:o,green:a,blue:s,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},li.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(s){Sr.log("bit decode error:"+s)}},li.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),s=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,o=0;o<t;o++)for(var l=this.datav.getUint8(this.pos++,!0),d=a*this.width*4+8*o*4,u=0;u<8&&8*o+u<this.width;u++){var h=this.palette[l>>7-u&1];this.data[d+4*u]=h.blue,this.data[d+4*u+1]=h.green,this.data[d+4*u+2]=h.red,this.data[d+4*u+3]=255}s!==0&&(this.pos+=4-s)}},li.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,o=0;o<e;o++){var l=this.datav.getUint8(this.pos++,!0),d=a*this.width*4+2*o*4,u=l>>4,h=15&l,g=this.palette[u];if(this.data[d]=g.blue,this.data[d+1]=g.green,this.data[d+2]=g.red,this.data[d+3]=255,2*o+1>=this.width)break;g=this.palette[h],this.data[d+4]=g.blue,this.data[d+4+1]=g.green,this.data[d+4+2]=g.red,this.data[d+4+3]=255}t!==0&&(this.pos+=4-t)}},li.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint8(this.pos++,!0),l=s*this.width*4+4*a;if(o<this.palette.length){var d=this.palette[o];this.data[l]=d.red,this.data[l+1]=d.green,this.data[l+2]=d.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}e!==0&&(this.pos+=4-e)}},li.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(l&t)/t*255|0,u=(l>>5&t)/t*255|0,h=(l>>10&t)/t*255|0,g=l>>15?255:0,p=a*this.width*4+4*o;this.data[p]=h,this.data[p+1]=u,this.data[p+2]=d,this.data[p+3]=g}this.pos+=e}},li.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),s=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var o=this.bottom_up?a:this.height-1-a,l=0;l<this.width;l++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(d&t)/t*255|0,h=(d>>5&s)/s*255|0,g=(d>>11)/t*255|0,p=o*this.width*4+4*l;this.data[p]=g,this.data[p+1]=h,this.data[p+2]=u,this.data[p+3]=255}this.pos+=e}},li.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*s;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=255}this.pos+=this.width%4}},li.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*s;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=d}},li.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,s,a,o){var l=new li(t,!1),d=l.width,u=l.height,h={data:l.getData(),width:d,height:u},g=new Ep(100).encode(h,100);return e.processJPEG.call(this,g,s,a,o)}})(jt.API),Sy.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,s,a,o){var l=new Sy(t),d=l.width,u=l.height,h={data:l.getData(),width:d,height:u},g=new Ep(100).encode(h,100);return e.processJPEG.call(this,g,s,a,o)}})(jt.API),jt.API.processRGBA=function(e,t,s){for(var a=e.data,o=a.length,l=new Uint8Array(o/4*3),d=new Uint8Array(o/4),u=0,h=0,g=0;g<o;g+=4){var p=a[g],b=a[g+1],j=a[g+2],y=a[g+3];l[u++]=p,l[u++]=b,l[u++]=j,d[h++]=y}var k=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:k,index:t,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},jt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},cd=jt.API,Hh=cd.getCharWidthsArray=function(e,t){var s,a,o=(t=t||{}).font||this.internal.getFont(),l=t.fontSize||this.internal.getFontSize(),d=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:o.metadata.Unicode.widths,h=u.fof?u.fof:1,g=t.kerning?t.kerning:o.metadata.Unicode.kerning,p=g.fof?g.fof:1,b=t.doKerning!==!1,j=0,y=e.length,k=0,S=u[0]||h,C=[];for(s=0;s<y;s++)a=e.charCodeAt(s),typeof o.metadata.widthOfString=="function"?C.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(a))+d*(1e3/l)||0)/1e3):(j=b&&xr(g[a])==="object"&&!isNaN(parseInt(g[a][k],10))?g[a][k]/p:0,C.push((u[a]||S)/h+j)),k=a;return C},my=cd.getStringUnitWidth=function(e,t){var s=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),o=t.charSpace||this.internal.getCharSpace();return cd.processArabic&&(e=cd.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,s,o)/s:Hh.apply(this,arguments).reduce(function(l,d){return l+d},0)},py=function(e,t,s,a){for(var o=[],l=0,d=e.length,u=0;l!==d&&u+t[l]<s;)u+=t[l],l++;o.push(e.slice(0,l));var h=l;for(u=0;l!==d;)u+t[l]>a&&(o.push(e.slice(h,l)),u=0,h=l),u+=t[l],l++;return h!==l&&o.push(e.slice(h,l)),o},gy=function(e,t,s){s||(s={});var a,o,l,d,u,h,g,p=[],b=[p],j=s.textIndent||0,y=0,k=0,S=e.split(" "),C=Hh.apply(this,[" ",s])[0];if(h=s.lineIndent===-1?S[0].length+2:s.lineIndent||0){var L=Array(h).join(" "),D=[];S.map(function(F){(F=F.split(/\s*\n/)).length>1?D=D.concat(F.map(function(X,ue){return(ue&&X.length?`
`:"")+X})):D.push(F[0])}),S=D,h=my.apply(this,[L,s])}for(l=0,d=S.length;l<d;l++){var _=0;if(a=S[l],h&&a[0]==`
`&&(a=a.substr(1),_=1),j+y+(k=(o=Hh.apply(this,[a,s])).reduce(function(F,X){return F+X},0))>t||_){if(k>t){for(u=py.apply(this,[a,o,t-(j+y),t]),p.push(u.shift()),p=[u.pop()];u.length;)b.push([u.shift()]);k=o.slice(a.length-(p[0]?p[0].length:0)).reduce(function(F,X){return F+X},0)}else p=[a];b.push(p),j=k+h,y=C}else p.push(a),j+=y+k,y=C}return g=h?function(F,X){return(X?L:"")+F.join(" ")}:function(F){return F.join(" ")},b.map(g)},cd.splitTextToSize=function(e,t,s){var a,o=(s=s||{}).fontSize||this.internal.getFontSize(),l=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var b=this.internal.getFont(p.fontName,p.fontStyle),j="Unicode";return b.metadata[j]?{widths:b.metadata[j].widths||{0:1},kerning:b.metadata[j].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var d=1*this.internal.scaleFactor*t/o;l.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/o:0,l.lineIndent=s.lineIndent;var u,h,g=[];for(u=0,h=a.length;u<h;u++)g=g.concat(gy.apply(this,[a[u],d,l]));return g},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",s="klmnopqrstuvwxyz",a={},o={},l=0;l<16;l++)a[s[l]]=t[l],o[t[l]]=s[l];var d=function(j){return"0x"+parseInt(j,10).toString(16)},u=e.__fontmetrics__.compress=function(j){var y,k,S,C,L=["{"];for(var D in j){if(y=j[D],isNaN(parseInt(D,10))?k="'"+D+"'":(D=parseInt(D,10),k=(k=d(D).slice(2)).slice(0,-1)+o[k.slice(-1)]),typeof y=="number")y<0?(S=d(y).slice(3),C="-"):(S=d(y).slice(2),C=""),S=C+S.slice(0,-1)+o[S.slice(-1)];else{if(xr(y)!=="object")throw new Error("Don't know what to do with value type "+xr(y)+".");S=u(y)}L.push(k+S)}return L.push("}"),L.join("")},h=e.__fontmetrics__.uncompress=function(j){if(typeof j!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,k,S,C,L={},D=1,_=L,F=[],X="",ue="",le=j.length-1,ie=1;ie<le;ie+=1)(C=j[ie])=="'"?y?(S=y.join(""),y=void 0):y=[]:y?y.push(C):C=="{"?(F.push([_,S]),_={},S=void 0):C=="}"?((k=F.pop())[0][k[1]]=_,S=void 0,_=k[0]):C=="-"?D=-1:S===void 0?a.hasOwnProperty(C)?(X+=a[C],S=parseInt(X,16)*D,D=1,X=""):X+=C:a.hasOwnProperty(C)?(ue+=a[C],_[S]=parseInt(ue,16)*D,D=1,S=void 0,ue=""):ue+=C;return L},g={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:g,"Courier-Bold":g,"Courier-BoldOblique":g,"Courier-Oblique":g,Helvetica:g,"Helvetica-Bold":g,"Helvetica-BoldOblique":g,"Helvetica-Oblique":g,"Times-Roman":g,"Times-Bold":g,"Times-BoldItalic":g,"Times-Italic":g}},b={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(j){var y=j.font,k=b.Unicode[y.postScriptName];k&&(y.metadata.Unicode={},y.metadata.Unicode.widths=k.widths,y.metadata.Unicode.kerning=k.kerning);var S=p.Unicode[y.postScriptName];S&&(y.metadata.Unicode.encoding=S,y.encoding=S.codePages[0])}])})(jt.API),(function(e){var t=function(s){for(var a=s.length,o=new Uint8Array(a),l=0;l<a;l++)o[l]=s.charCodeAt(l);return o};e.API.events.push(["addFont",function(s){var a=void 0,o=s.font,l=s.instance;if(!o.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(a=l.existsFileInVFS(o.postScriptName)===!1?l.loadFile(o.postScriptName):l.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(d,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(df(u)),d.metadata=e.API.TTFFont.open(u),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(o,a)}}])})(jt),jt.API.addSvgAsImage=function(e,t,s,a,o,l,d,u){if(isNaN(t)||isNaN(s))throw Sr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Sr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=o;var g=h.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(Rt.canvg?Promise.resolve(Rt.canvg):Gi(()=>import("./index.es-CtjrQ--6.js"),[])).catch(function(j){return Promise.reject(new Error("Could not load canvg: "+j))}).then(function(j){return j.default?j.default:j}).then(function(j){return j.fromString(g,e,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(j){return j.render(p)}).then(function(){b.addImage(h.toDataURL("image/jpeg",1),t,s,a,o,d,u)})},jt.API.putTotalPages=function(e){var t,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),s=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var o=0;o<this.internal.pages[a].length;o++)this.internal.pages[a][o]=this.internal.pages[a][o].replace(t,s);return this},jt.API.viewerPreferences=function(e,t){var s;e=e||{},t=t||!1;var a,o,l,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(d),h=[],g=0,p=0,b=0;function j(k,S){var C,L=!1;for(C=0;C<k.length;C+=1)k[C]===S&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var y=u.length;for(b=0;b<y;b+=1)s[u[b]].value=s[u[b]].defaultValue,s[u[b]].explicitSet=!1}if(xr(e)==="object"){for(o in e)if(l=e[o],j(u,o)&&l!==void 0){if(s[o].type==="boolean"&&typeof l=="boolean")s[o].value=l;else if(s[o].type==="name"&&j(s[o].valueSet,l))s[o].value=l;else if(s[o].type==="integer"&&Number.isInteger(l))s[o].value=l;else if(s[o].type==="array"){for(g=0;g<l.length;g+=1)if(a=!0,l[g].length===1&&typeof l[g][0]=="number")h.push(String(l[g]-1));else if(l[g].length>1){for(p=0;p<l[g].length;p+=1)typeof l[g][p]!="number"&&(a=!1);a===!0&&h.push([l[g][0]-1,l[g][1]-1].join(" "))}s[o].value="["+h.join(" ")+"]"}else s[o].value=s[o].defaultValue;s[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,S=[];for(k in s)s[k].explicitSet===!0&&(s[k].type==="name"?S.push("/"+k+" /"+s[k].value):S.push("/"+k+" "+s[k].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},(function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(a)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),g=l.length+d.length+u.length+o.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(o+l+d+u+h),this.internal.write("endstream"),this.internal.write("endobj")},s=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",s),this.internal.events.subscribe("postPutResources",t)),this}})(jt.API),(function(e){var t=e.API,s=t.pdfEscape16=function(l,d){for(var u,h=d.metadata.Unicode.widths,g=["","0","00","000","0000"],p=[""],b=0,j=l.length;b<j;++b){if(u=d.metadata.characterToGlyph(l.charCodeAt(b)),d.metadata.glyIdsUsed.push(u),d.metadata.toUnicode[u]=l.charCodeAt(b),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(d.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(g[4-u.length],u)}return p.join("")},a=function(l){var d,u,h,g,p,b,j;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],b=0,j=(u=Object.keys(l).sort(function(y,k){return y-k})).length;b<j;b++)d=u[b],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),l[d]!==void 0&&l[d]!==null&&typeof l[d].toString=="function"&&(g=("0000"+l[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),h.push("<"+d+"><"+g+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(l){(function(d){var u=d.font,h=d.out,g=d.newObject,p=d.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var b=u.metadata.Unicode.widths,j=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),y="",k=0;k<j.length;k++)y+=String.fromCharCode(j[k]);var S=g();p({data:y,addLength1:!0,objectId:S}),h("endobj");var C=g();p({data:a(u.metadata.toUnicode),addLength1:!0,objectId:C}),h("endobj");var L=g();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+ud(u.fontName)),h("/FontFile2 "+S+" 0 R"),h("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var D=g();h("<<"),h("/Type /Font"),h("/BaseFont /"+ud(u.fontName)),h("/FontDescriptor "+L+" 0 R"),h("/W "+e.API.PDFObject.convert(b)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=g(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+C+" 0 R"),h("/BaseFont /"+ud(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+D+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(l)}]),t.events.push(["putFont",function(l){(function(d){var u=d.font,h=d.out,g=d.newObject,p=d.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var b=u.metadata.rawData,j="",y=0;y<b.length;y++)j+=String.fromCharCode(b[y]);var k=g();p({data:j,addLength1:!0,objectId:k}),h("endobj");var S=g();p({data:a(u.metadata.toUnicode),addLength1:!0,objectId:S}),h("endobj");var C=g();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+k+" 0 R"),h("/Flags 96"),h("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+ud(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=g();for(var L=0;L<u.metadata.hmtx.widths.length;L++)u.metadata.hmtx.widths[L]=parseInt(u.metadata.hmtx.widths[L]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+ud(u.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(l)}]);var o=function(l){var d,u=l.text||"",h=l.x,g=l.y,p=l.options||{},b=l.mutex||{},j=b.pdfEscape,y=b.activeFontKey,k=b.fonts,S=y,C="",L=0,D="",_=k[S].encoding;if(k[S].encoding!=="Identity-H")return{text:u,x:h,y:g,options:p,mutex:b};for(D=u,S=y,Array.isArray(u)&&(D=u[0]),L=0;L<D.length;L+=1)k[S].metadata.hasOwnProperty("cmap")&&(d=k[S].metadata.cmap.unicode.codeMap[D[L].charCodeAt(0)]),d||D[L].charCodeAt(0)<256&&k[S].metadata.hasOwnProperty("Unicode")?C+=D[L]:C+="";var F="";return parseInt(S.slice(1))<14||_==="WinAnsiEncoding"?F=j(C,S).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(F=s(C,k[S])),b.isHex=!0,{text:F,x:h,y:g,options:p,mutex:b}};t.events.push(["postProcessText",function(l){var d=l.text||"",u=[],h={text:d,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(d)){var g=0;for(g=0;g<d.length;g+=1)Array.isArray(d[g])&&d[g].length===3?u.push([o(Object.assign({},h,{text:d[g][0]})).text,d[g][1],d[g][2]]):u.push(o(Object.assign({},h,{text:d[g]})).text);l.text=u}else l.text=o(Object.assign({},h,{text:d})).text}])})(jt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0},e.addFileToVFS=function(s,a){return t.call(this),this.internal.vFS[s]=a,this},e.getFileFromVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}})(jt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var o,l,d,u,h,g,p,b=t,j=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,_=0;this.__bidiEngine__={};var F=function(O){var B=O.charCodeAt(),te=B>>8,re=S[te];return re!==void 0?b[256*re+(255&B)]:te===252||te===253?"AL":L.test(te)?"L":te===8?"R":"N"},X=function(O){for(var B,te=0;te<O.length;te++){if((B=F(O.charAt(te)))==="L")return!1;if(B==="R")return!0}return!1},ue=function(O,B,te,re){var H,K,V,Z,pe=B[re];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(pe="AN");break;case"AL":D=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":re<1||re+1>=B.length||(H=te[re-1])!=="EN"&&H!=="AN"||(K=B[re+1])!=="EN"&&K!=="AN"?pe="N":D&&(K="AN"),pe=K===H?K:"N";break;case"ES":pe=(H=re>0?te[re-1]:"B")==="EN"&&re+1<B.length&&B[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&te[re-1]==="EN"){pe="EN";break}if(D){pe="N";break}for(V=re+1,Z=B.length;V<Z&&B[V]==="ET";)V++;pe=V<Z&&B[V]==="EN"?"EN":"N";break;case"NSM":if(d&&!u){for(Z=B.length,V=re+1;V<Z&&B[V]==="NSM";)V++;if(V<Z){var we=O[re],J=we>=1425&&we<=2303||we===64286;if(H=B[V],J&&(H==="R"||H==="AL")){pe="R";break}}}pe=re<1||(H=B[re-1])==="B"?"N":te[re-1];break;case"B":D=!1,o=!0,pe=_;break;case"S":l=!0,pe="N"}return pe},le=function(O,B,te){var re=O.split("");return te&&ie(re,te,{hiLevel:_}),re.reverse(),B&&B.reverse(),re.join("")},ie=function(O,B,te){var re,H,K,V,Z,pe=-1,we=O.length,J=0,E=[],R=_?y:j,G=[];for(D=!1,o=!1,l=!1,H=0;H<we;H++)G[H]=F(O[H]);for(K=0;K<we;K++){if(Z=J,E[K]=ue(O,G,E,K),re=240&(J=R[Z][k[E[K]]]),J&=15,B[K]=V=R[J][5],re>0)if(re===16){for(H=pe;H<K;H++)B[H]=1;pe=-1}else pe=-1;if(R[J][6])pe===-1&&(pe=K);else if(pe>-1){for(H=pe;H<K;H++)B[H]=V;pe=-1}G[K]==="B"&&(B[K]=0),te.hiLevel|=V}l&&(function(oe,$,fe){for(var ke=0;ke<fe;ke++)if(oe[ke]==="S"){$[ke]=_;for(var Se=ke-1;Se>=0&&oe[Se]==="WS";Se--)$[Se]=_}})(G,B,we)},ee=function(O,B,te,re,H){if(!(H.hiLevel<O)){if(O===1&&_===1&&!o)return B.reverse(),void(te&&te.reverse());for(var K,V,Z,pe,we=B.length,J=0;J<we;){if(re[J]>=O){for(Z=J+1;Z<we&&re[Z]>=O;)Z++;for(pe=J,V=Z-1;pe<V;pe++,V--)K=B[pe],B[pe]=B[V],B[V]=K,te&&(K=te[pe],te[pe]=te[V],te[V]=K);J=Z}J++}}},me=function(O,B,te){var re=O.split(""),H={hiLevel:_};return te||(te=[]),ie(re,te,H),(function(K,V,Z){if(Z.hiLevel!==0&&p)for(var pe,we=0;we<K.length;we++)V[we]===1&&(pe=C.indexOf(K[we]))>=0&&(K[we]=C[pe+1])})(re,te,H),ee(2,re,B,te,H),ee(1,re,B,te,H),re.join("")};return this.__bidiEngine__.doBidiReorder=function(O,B,te){if((function(H,K){if(K)for(var V=0;V<H.length;V++)K[V]=V;u===void 0&&(u=X(H)),g===void 0&&(g=X(H))})(O,B),d||!h||g)if(d&&h&&u^g)_=u?1:0,O=le(O,B,te);else if(!d&&h&&g)_=u?1:0,O=me(O,B,te),O=le(O,B);else if(!d||u||h||g){if(d&&!h&&u^g)O=le(O,B),u?(_=0,O=me(O,B,te)):(_=1,O=me(O,B,te),O=le(O,B));else if(d&&u&&!h&&g)_=1,O=me(O,B,te),O=le(O,B);else if(!d&&!h&&u^g){var re=p;u?(_=1,O=me(O,B,te),_=0,p=!1,O=me(O,B,te),p=re):(_=0,O=me(O,B,te),O=le(O,B),_=1,p=!1,O=me(O,B,te),p=re,O=le(O,B))}}else _=0,O=me(O,B,te);else _=u?1:0,O=me(O,B,te);return O},this.__bidiEngine__.setOptions=function(O){O&&(d=O.isInputVisual,h=O.isOutputVisual,u=O.isInputRtl,g=O.isOutputRtl,p=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var o=a.text;a.x,a.y;var l=a.options||{};a.mutex,l.lang;var d=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,s.setOptions(l),Object.prototype.toString.call(o)==="[object Array]"){var u=0;for(d=[],u=0;u<o.length;u+=1)Object.prototype.toString.call(o[u])==="[object Array]"?d.push([s.doBidiReorder(o[u][0]),o[u][1],o[u][2]]):d.push([s.doBidiReorder(o[u])]);a.text=d}else a.text=s.doBidiReorder(o);s.setOptions({isInputVisual:!0})}])})(jt),jt.API.TTFFont=(function(){function e(t){var s;if(this.rawData=t,s=this.contents=new kl(t),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new g8(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new r8(this.contents),this.head=new n8(this),this.name=new c8(this),this.cmap=new Jv(this),this.toUnicode={},this.hhea=new a8(this),this.maxp=new d8(this),this.hmtx=new u8(this),this.post=new o8(this),this.os2=new i8(this),this.loca=new p8(this),this.glyf=new h8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,s,a,o,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,u,h,g;for(g=[],d=0,u=(h=this.bbox).length;d<u;d++)t=h[d],g.push(Math.round(t*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(a=255&(o=this.post.italic_angle),32768&(s=o>>16)&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var s;return((s=this.cmap.unicode)!=null?s.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*s},e.prototype.widthOfString=function(t,s,a){var o,l,d,u;for(d=0,l=0,u=(t=""+t).length;0<=u?l<u:l>u;l=0<=u?++l:--l)o=t.charCodeAt(l),d+=this.widthOfGlyph(this.characterToGlyph(o))+a*(1e3/s)||0;return d*(s/1e3)},e.prototype.lineHeight=function(t,s){var a;return s==null&&(s=!1),a=s?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e})();var wi,kl=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var s,a;for(a=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)a[s]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var s,a,o;for(o=[],s=0,a=t.length;0<=a?s<a:s>a;s=0<=a?++s:--s)o.push(this.writeByte(t.charCodeAt(s)));return o},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,s,a,o,l,d,u,h;return t=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),d=this.readByte(),u=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^s)+1099511627776*(255^a)+4294967296*(255^o)+16777216*(255^l)+65536*(255^d)+256*(255^u)+(255^h)+1):72057594037927940*t+281474976710656*s+1099511627776*a+4294967296*o+16777216*l+65536*d+256*u+h},e.prototype.writeLongLong=function(t){var s,a;return s=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var s,a;for(s=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)s.push(this.readByte());return s},e.prototype.write=function(t){var s,a,o,l;for(l=[],a=0,o=t.length;a<o;a++)s=t[a],l.push(this.writeByte(s));return l},e})(),r8=(function(){var e;function t(s){var a,o,l;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},o=0,l=this.tableCount;0<=l?o<l:o>l;o=0<=l?++o:--o)a={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(s){var a,o,l,d,u,h,g,p,b,j,y,k,S;for(S in y=Object.keys(s).length,h=Math.log(2),b=16*Math.floor(Math.log(y)/h),d=Math.floor(b/h),p=16*y-b,(o=new kl).writeInt(this.scalarType),o.writeShort(y),o.writeShort(b),o.writeShort(d),o.writeShort(p),l=16*y,g=o.pos+l,u=null,k=[],s)for(j=s[S],o.writeString(S),o.writeInt(e(j)),o.writeInt(g),o.writeInt(j.length),k=k.concat(j),S==="head"&&(u=g),g+=j.length;g%4;)k.push(0),g++;return o.write(k),a=2981146554-e(o.data),o.pos=u+8,o.writeUInt32(a),o.data},e=function(s){var a,o,l,d;for(s=Qv.call(s);s.length%4;)s.push(0);for(l=new kl(s),o=0,a=0,d=s.length;a<d;a=a+=4)o+=l.readUInt32();return 4294967295&o},t})(),s8={}.hasOwnProperty,Ji=function(e,t){for(var s in t)s8.call(t,s)&&(e[s]=t[s]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};wi=(function(){function e(t){var s;this.file=t,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var n8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,wi),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var s;return(s=new kl).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(t),s.writeShort(this.glyphDataFormat),s.data},e})(),ky=(function(){function e(t,s){var a,o,l,d,u,h,g,p,b,j,y,k,S,C,L,D,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=s+t.readInt(),b=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(y=t.readUInt16(),j=y/2,t.pos+=6,l=(function(){var F,X;for(X=[],h=F=0;0<=j?F<j:F>j;h=0<=j?++F:--F)X.push(t.readUInt16());return X})(),t.pos+=2,S=(function(){var F,X;for(X=[],h=F=0;0<=j?F<j:F>j;h=0<=j?++F:--F)X.push(t.readUInt16());return X})(),g=(function(){var F,X;for(X=[],h=F=0;0<=j?F<j:F>j;h=0<=j?++F:--F)X.push(t.readUInt16());return X})(),p=(function(){var F,X;for(X=[],h=F=0;0<=j?F<j:F>j;h=0<=j?++F:--F)X.push(t.readUInt16());return X})(),o=(this.length-t.pos+this.offset)/2,u=(function(){var F,X;for(X=[],h=F=0;0<=o?F<o:F>o;h=0<=o?++F:--F)X.push(t.readUInt16());return X})(),h=L=0,_=l.length;L<_;h=++L)for(C=l[h],a=D=k=S[h];k<=C?D<=C:D>=C;a=k<=C?++D:--D)p[h]===0?d=a+g[h]:(d=u[p[h]/2+(a-k)-(j-h)]||0)!==0&&(d+=g[h]),this.codeMap[a]=65535&d}t.pos=b}return e.encode=function(t,s){var a,o,l,d,u,h,g,p,b,j,y,k,S,C,L,D,_,F,X,ue,le,ie,ee,me,O,B,te,re,H,K,V,Z,pe,we,J,E,R,G,oe,$,fe,ke,Se,Te,ge,De;switch(re=new kl,d=Object.keys(t).sort(function(Xe,Oe){return Xe-Oe}),s){case"macroman":for(S=0,C=(function(){var Xe=[];for(k=0;k<256;++k)Xe.push(0);return Xe})(),D={0:0},l={},H=0,pe=d.length;H<pe;H++)D[Se=t[o=d[H]]]==null&&(D[Se]=++S),l[o]={old:t[o],new:D[t[o]]},C[o]=D[t[o]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(C),{charMap:l,subtable:re.data,maxGlyphID:S+1};case"unicode":for(B=[],b=[],_=0,D={},a={},L=g=null,K=0,we=d.length;K<we;K++)D[X=t[o=d[K]]]==null&&(D[X]=++_),a[o]={old:X,new:D[X]},u=D[X]-o,L!=null&&u===g||(L&&b.push(L),B.push(o),g=u),L=o;for(L&&b.push(L),b.push(65535),B.push(65535),me=2*(ee=B.length),ie=2*Math.pow(Math.log(ee)/Math.LN2,2),j=Math.log(ie/2)/Math.LN2,le=2*ee-ie,h=[],ue=[],y=[],k=V=0,J=B.length;V<J;k=++V){if(O=B[k],p=b[k],O===65535){h.push(0),ue.push(0);break}if(O-(te=a[O].new)>=32768)for(h.push(0),ue.push(2*(y.length+ee-k)),o=Z=O;O<=p?Z<=p:Z>=p;o=O<=p?++Z:--Z)y.push(a[o].new);else h.push(te-O),ue.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*ee+2*y.length),re.writeUInt16(0),re.writeUInt16(me),re.writeUInt16(ie),re.writeUInt16(j),re.writeUInt16(le),fe=0,E=b.length;fe<E;fe++)o=b[fe],re.writeUInt16(o);for(re.writeUInt16(0),ke=0,R=B.length;ke<R;ke++)o=B[ke],re.writeUInt16(o);for(Te=0,G=h.length;Te<G;Te++)u=h[Te],re.writeUInt16(u);for(ge=0,oe=ue.length;ge<oe;ge++)F=ue[ge],re.writeUInt16(F);for(De=0,$=y.length;De<$;De++)S=y[De],re.writeUInt16(S);return{charMap:a,subtable:re.data,maxGlyphID:_+1}}},e})(),Jv=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,wi),e.prototype.tag="cmap",e.prototype.parse=function(t){var s,a,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)s=new ky(t,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},e.encode=function(t,s){var a,o;return s==null&&(s="macroman"),a=ky.encode(t,s),(o=new kl).writeUInt16(0),o.writeUInt16(1),a.table=o.data.concat(a.subtable),a},e})(),a8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,wi),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),i8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,wi),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var s,a;for(a=[],s=0;s<10;++s)a.push(t.readByte());return a})(),this.charRange=(function(){var s,a;for(a=[],s=0;s<4;++s)a.push(t.readInt());return a})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var s,a;for(a=[],s=0;s<2;s=++s)a.push(t.readInt());return a})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),o8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,wi),e.prototype.tag="post",e.prototype.parse=function(t){var s,a,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(a=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)s=t.readByte(),o.push(this.names.push(t.readString(s)));return o;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var d,u,h;for(h=[],l=d=0,u=this.file.maxp.numGlyphs;0<=u?d<u:d>u;l=0<=u?++d:--d)h.push(t.readUInt32());return h}).call(this)}},e})(),l8=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},c8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,wi),e.prototype.tag="name",e.prototype.parse=function(t){var s,a,o,l,d,u,h,g,p,b,j;for(t.pos=this.offset,t.readShort(),s=t.readShort(),u=t.readShort(),a=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(h={},l=p=0,b=a.length;p<b;l=++p)o=a[l],t.pos=o.offset,g=t.readString(o.length),d=new l8(g,o),h[j=o.nameID]==null&&(h[j]=[]),h[o.nameID].push(d);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e})(),d8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,wi),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),u8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,wi),e.prototype.tag="hmtx",e.prototype.parse=function(t){var s,a,o,l,d,u,h;for(t.pos=this.offset,this.metrics=[],s=0,u=this.file.hhea.numberOfMetrics;0<=u?s<u:s>u;s=0<=u?++s:--s)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var g,p;for(p=[],s=g=0;0<=o?g<o:g>o;s=0<=o?++g:--g)p.push(t.readInt16());return p})(),this.widths=(function(){var g,p,b,j;for(j=[],g=0,p=(b=this.metrics).length;g<p;g++)l=b[g],j.push(l.advance);return j}).call(this),a=this.widths[this.widths.length-1],h=[],s=d=0;0<=o?d<o:d>o;s=0<=o?++d:--d)h.push(this.widths.push(a));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),Qv=[].slice,h8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,wi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var s,a,o,l,d,u,h,g,p,b;return t in this.cache?this.cache[t]:(l=this.file.loca,s=this.file.contents,a=l.indexOf(t),(o=l.lengthOf(t))===0?this.cache[t]=null:(s.pos=this.offset+a,d=(u=new kl(s.read(o))).readShort(),g=u.readShort(),b=u.readShort(),h=u.readShort(),p=u.readShort(),this.cache[t]=d===-1?new m8(u,g,b,h,p):new f8(u,d,g,b,h,p),this.cache[t]))},e.prototype.encode=function(t,s,a){var o,l,d,u,h;for(d=[],l=[],u=0,h=s.length;u<h;u++)o=t[s[u]],l.push(d.length),o&&(d=d.concat(o.encode(a)));return l.push(d.length),{table:d,offsets:l}},e})(),f8=(function(){function e(t,s,a,o,l,d){this.raw=t,this.numberOfContours=s,this.xMin=a,this.yMin=o,this.xMax=l,this.yMax=d,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),m8=(function(){function e(t,s,a,o,l){var d,u;for(this.raw=t,this.xMin=s,this.yMin=a,this.xMax=o,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;u=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&u;)d.pos+=1&u?4:2,128&u?d.pos+=8:64&u?d.pos+=4:8&u&&(d.pos+=2)}return e.prototype.encode=function(){var t,s,a;for(s=new kl(Qv.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)s.pos=this.glyphOffsets[t];return s.data},e})(),p8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,wi),e.prototype.tag="loca",e.prototype.parse=function(t){var s,a;return t.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var o,l;for(l=[],a=0,o=this.length;a<o;a+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var o,l;for(l=[],a=0,o=this.length;a<o;a+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,s){for(var a=new Uint32Array(this.offsets.length),o=0,l=0,d=0;d<a.length;++d)if(a[d]=o,l<s.length&&s[l]==d){++l,a[d]=o;var u=this.offsets[d],h=this.offsets[d+1]-u;h>0&&(o+=h)}for(var g=new Array(4*a.length),p=0;p<a.length;++p)g[4*p+3]=255&a[p],g[4*p+2]=(65280&a[p])>>8,g[4*p+1]=(16711680&a[p])>>16,g[4*p]=(4278190080&a[p])>>24;return g},e})(),g8=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,s,a,o,l;for(s in o=this.font.cmap.tables[0].codeMap,t={},l=this.subset)a=l[s],t[s]=o[a];return t},e.prototype.glyphsFor=function(t){var s,a,o,l,d,u,h;for(o={},d=0,u=t.length;d<u;d++)o[l=t[d]]=this.font.glyf.glyphFor(l);for(l in s=[],o)(a=o[l])!=null&&a.compound&&s.push.apply(s,a.glyphIDs);if(s.length>0)for(l in h=this.glyphsFor(s))a=h[l],o[l]=a;return o},e.prototype.encode=function(t,s){var a,o,l,d,u,h,g,p,b,j,y,k,S,C,L;for(o in a=Jv.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(t),y={0:0},L=a.charMap)y[(h=L[o]).old]=h.new;for(k in j=a.maxGlyphID,d)k in y||(y[k]=j++);return p=(function(D){var _,F;for(_ in F={},D)F[D[_]]=_;return F})(y),b=Object.keys(p).sort(function(D,_){return D-_}),S=(function(){var D,_,F;for(F=[],D=0,_=b.length;D<_;D++)u=b[D],F.push(p[u]);return F})(),l=this.font.glyf.encode(d,S,y),g=this.font.loca.encode(l.offsets,S),C={cmap:this.font.cmap.raw(),glyf:l.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},e})();jt.API.PDFObject=(function(){var e;function t(){}return e=function(s,a){return(Array(a+1).join("0")+s).slice(-a)},t.convert=function(s){var a,o,l,d;if(Array.isArray(s))return"["+(function(){var u,h,g;for(g=[],u=0,h=s.length;u<h;u++)a=s[u],g.push(t.convert(a));return g})().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s?.isString)return"("+s+")";if(s instanceof Date)return"(D:"+e(s.getUTCFullYear(),4)+e(s.getUTCMonth(),2)+e(s.getUTCDate(),2)+e(s.getUTCHours(),2)+e(s.getUTCMinutes(),2)+e(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(o in l=["<<"],s)d=s[o],l.push("/"+o+" "+t.convert(d));return l.push(">>"),l.join(`
`)}return""+s},t})();const x8={data:null,isLoading:!1,error:null,dashboardData:null,dashboardLoading:!1,dashboardError:null},Cu=Pr("cityTax/fetchData",async(e,{rejectWithValue:t})=>{try{const{touristTaxAPI:s}=await Gi(async()=>{const{touristTaxAPI:o}=await import("./touristTax.api-DdEkuGhG.js");return{touristTaxAPI:o}},[]);return await s.getTouristTax(e)}catch(s){return console.error("Redux: Error fetching city tax:",s),t(s.response?.data?.message||s.message||"Failed to fetch city tax data")}}),Xv=Ro({name:"touristTax",initialState:x8,reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(Cu.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Cu.fulfilled,(t,s)=>{console.log("City Tax API Response:",s.payload),t.isLoading=!1,t.data=s.payload.totalTax,console.log("Redux State Updated:",t.data)}).addCase(Cu.rejected,(t,s)=>{t.isLoading=!1,t.error=s.payload})}}),{clearError:FA}=Xv.actions,y8=Xv.reducer,v8={properties:[{id:392776,name:"Piece of Heaven",address:"Algarve, Portugal",type:"Apartment",bedrooms:2,bathrooms:2,maxGuests:4,hostkitId:"10027",status:"active",images:[],amenities:["WiFi","Kitchen","Parking"],createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:392777,name:"Lote 16 Pt 1 3-B",address:"Algarve, Portugal",type:"House",bedrooms:3,bathrooms:2,maxGuests:6,hostkitId:"10030",status:"active",images:[],amenities:["WiFi","Kitchen","Pool"],createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:392778,name:"Lote 8 4-B",address:"Algarve, Portugal",type:"Villa",bedrooms:4,bathrooms:3,maxGuests:8,hostkitId:"10029",status:"active",images:[],amenities:["WiFi","Kitchen","Garden"],createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:392779,name:"Lote 12 4-A",address:"Algarve, Portugal",type:"House",bedrooms:3,bathrooms:2,maxGuests:6,hostkitId:"10028",status:"active",images:[],amenities:["WiFi","Kitchen","Terrace"],createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:392780,name:"Lote 16 Pt1 4-B",address:"Algarve, Portugal",type:"Apartment",bedrooms:2,bathrooms:2,maxGuests:4,hostkitId:"10032",status:"active",images:[],amenities:["WiFi","Kitchen","Balcony"],createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:392781,name:"Lote 7 3-A",address:"Algarve, Portugal",type:"Villa",bedrooms:4,bathrooms:3,maxGuests:8,hostkitId:"10031",status:"active",images:[],amenities:["WiFi","Kitchen","Garden","Pool"],createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:414661,name:"Waterfront Pool Penthouse View",address:"Algarve, Portugal",type:"Penthouse",bedrooms:3,bathrooms:2,maxGuests:6,hostkitId:"12602",status:"active",images:[],amenities:["WiFi","Kitchen","Pool","Penthouse","Waterfront"],createdAt:"2024-01-01",updatedAt:"2024-01-01"}],selectedProperty:null,isLoading:!1,error:null},wd=Pr("properties/fetchProperties",async()=>{try{return(await Vt.get("/property-management")).data}catch(e){throw new Error(e.response?.data?.message||"Failed to fetch properties")}}),Zv=Ro({name:"properties",initialState:v8,reducers:{setSelectedProperty:(e,t)=>{e.selectedProperty=t.payload},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(wd.pending,t=>{t.isLoading=!0,t.error=null}).addCase(wd.fulfilled,(t,s)=>{t.isLoading=!1,s.payload?t.properties=s.payload.properties||s.payload:t.properties=[],t.error=null}).addCase(wd.rejected,(t,s)=>{t.isLoading=!1,t.error=s.error.message||"Failed to fetch properties"})}}),{setSelectedProperty:IA,clearError:TA}=Zv.actions,b8=Zv.reducer,w8=()=>{const[e,t]=q.useState(392776),[s,a]=q.useState({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[o,l]=q.useState("checkin"),d=Ls(),u=Ot(_=>_.touristTax),{data:h,isLoading:g,error:p}=u,{properties:b,isLoading:j}=Ot(_=>_.properties),y=h?{propertyId:h.propertyId||e||392776,startDate:h.startDate||s.startDate,endDate:h.endDate||s.endDate,cityTaxCalculated:h.cityTaxCalculated||0,cityTaxCalculatedFormatted:h.cityTaxCalculatedFormatted||"0,00",cityTaxNights:h.cityTaxNights||0,childrenNights:h.childrenNights||0,nightsBeyond:h.nightsBeyond||0,totalNights:h.totalNights||0,hostkitTotalNights:h.hostkitTotalNights||0,cityTaxInvoiced:h.cityTaxInvoiced||0,cityTaxInvoicedFormatted:h.cityTaxInvoicedFormatted||"0,00",cityTaxInvoicedNights:h.cityTaxInvoicedNights||0,totalTax:h.totalTax||0,totalTaxFormatted:h.totalTaxFormatted||"0,00",totalBookings:h.totalBookings||0,totalGuests:h.totalGuests||0,adultNights:h.adultNights||0,exemptNights:h.exemptNights||0,taxableNights:h.taxableNights||0,averageTaxPerNight:h.averageTaxPerNight||0,averageTaxPerNightFormatted:h.averageTaxPerNightFormatted||"0,00",averageTaxPerGuest:h.averageTaxPerGuest||0,averageTaxPerGuestFormatted:h.averageTaxPerGuestFormatted||"0,00",bookingsPlatforms:h.bookingsPlatforms||{},taxStatus:h.taxStatus||"not_implemented",dataSource:h.dataSource||"api",futureReady:h.futureReady||!0,currency:"EUR"}:{propertyId:e||392776,startDate:s.startDate,endDate:s.endDate,totalTax:0,totalTaxFormatted:"0,00",totalBookings:0,totalGuests:0,totalNights:0,adultNights:0,childrenNights:0,exemptNights:0,taxableNights:0,averageTaxPerNight:0,averageTaxPerNightFormatted:"0,00",averageTaxPerGuest:0,averageTaxPerGuestFormatted:"0,00",bookingsPlatforms:{},taxStatus:"not_implemented",dataSource:"fallback",futureReady:!0,currency:"EUR"};q.useEffect(()=>{b.length===0&&!j&&d(wd())},[d,b.length,j]),q.useEffect(()=>{e&&d(Cu({propertyId:e,startDate:s.startDate,endDate:s.endDate,filterType:o}))},[d,e,s,o]);const k=(_,F)=>{a(X=>({...X,[_]:F}))},S=()=>{e&&d(Cu({propertyId:e,startDate:s.startDate,endDate:s.endDate,filterType:o}))},C=()=>{if(console.log("Export PDF button clicked"),console.log("Data available:",!!h),console.log("Selected property ID:",e),console.log("Display data:",y),!h||!e){alert("No data available to export");return}try{console.log("Creating PDF document...");const _=new jt,F=_.internal.pageSize.getWidth(),X=_.internal.pageSize.getHeight(),ue=b?.find(O=>O.id===e)?.name||`Property ID: ${e}`;_.setFontSize(20),_.setFont("helvetica","bold"),_.text("Tourist Tax Report",F/2,20,{align:"center"}),_.setFontSize(12),_.setFont("helvetica","normal"),_.text(`Property: ${ue}`,20,35),_.text(`Date Range: ${new Date(s.startDate).toLocaleDateString()} - ${new Date(s.endDate).toLocaleDateString()}`,20,45),_.text(`Generated: ${new Date().toLocaleString()}`,20,55);let le=70;_.setFontSize(14),_.setFont("helvetica","bold"),_.text("Summary",20,le),le+=10,_.setFontSize(10),_.setFont("helvetica","normal"),[["Tax Status",D(y.taxStatus)],["Current Tax Collected",h?.totalTaxFormatted||"0,00"],["Estimated Tax Potential",h?.totalTaxFormatted||"0,00"],["Total Bookings",y.totalBookings.toString()],["Total Guests",y.totalGuests.toString()],["Total Nights",y.totalNights.toString()],["Adult Nights",y.adultNights.toString()],["Children Nights",y.childrenNights.toString()],["Taxable Nights",y.taxableNights.toString()],["Exempt Nights",y.exemptNights.toString()],["Average Tax per Night",y.averageTaxPerNightFormatted],["Average Tax per Guest",y.averageTaxPerGuestFormatted],["Tax Rate per Adult Night",h?.averageTaxPerGuestFormatted||"0,00"]].forEach(([O,B])=>{_.text(`${O}:`,25,le),_.text(`${B}`,100,le),le+=6}),le+=10,Object.keys(y.bookingsPlatforms).length>0&&(_.setFontSize(14),_.setFont("helvetica","bold"),_.text("Bookings by Platform",20,le),le+=10,_.setFontSize(10),_.setFont("helvetica","normal"),Object.entries(y.bookingsPlatforms).forEach(([O,B])=>{const te=typeof B=="number"?B:B?.bookings||0,re=(te/y.totalBookings*100).toFixed(1);_.text(`${O}: ${te} bookings (${re}%)`,25,le),le+=6}),le+=10);const ee=_.getNumberOfPages();for(let O=1;O<=ee;O++)_.setPage(O),_.setFontSize(8),_.setFont("helvetica","italic"),_.text("Generated by OwnerPortal Tourist Tax System",F/2,X-10,{align:"center"});const me=`TouristTax_${ue.replace(/[^a-zA-Z0-9]/g,"_")}_${s.startDate}_to_${s.endDate}.pdf`;console.log("Saving PDF with filename:",me),_.save(me),console.log("PDF export completed successfully")}catch(_){console.error("Error exporting PDF:",_),alert("Error generating PDF: "+(_ instanceof Error?_.message:String(_)))}},L=_=>{switch(_){case"active":return"text-green-800 bg-green-100";case"not_implemented":return"text-yellow-800 bg-yellow-100";case"exempt":return"text-gray-800 bg-gray-100";default:return"text-gray-800 bg-gray-100"}},D=_=>{switch(_){case"active":return"Active Collection";case"not_implemented":return"Not Implemented";case"exempt":return"Tax Exempt";default:return"Unknown"}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50/30",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-8 mb-8",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tourist Tax"}),e&&b&&r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Property: ",b.find(_=>_.id===e)?.name||`ID: ${e}`]}),r.jsx("p",{className:"text-gray-500",children:"Monitor and manage tourist tax collection and reporting"}),h&&r.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Data source: ",typeof h.dataSource=="string"?h.dataSource:"api","  Last updated: ",new Date().toLocaleTimeString(),r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-400",children:"Note: Shows all bookings overlapping with selected date range. The API may return data for a broader period, but we filter to show only relevant bookings."})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[r.jsxs("button",{onClick:C,className:"px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200 shadow-md hover:shadow-lg font-semibold",disabled:!h||g,children:[r.jsx(_l,{className:"h-4 w-4 mr-2"}),"Export PDF Report"]}),r.jsxs("button",{onClick:S,className:"px-4 py-2 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg hover:from-green-600 hover:to-blue-600 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all duration-200 shadow-md hover:shadow-lg font-semibold",disabled:g,children:[g?r.jsx(Dr,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]})}),r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 mb-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property"}),j?r.jsx("div",{className:"w-full px-4 py-3 bg-gray-100 border border-gray-200 rounded-2xl text-gray-500",children:"Loading properties..."}):r.jsxs(r.Fragment,{children:[console.log("Properties for selector:",b),r.jsx(Ba,{properties:b,selectedId:e,onChange:t,placeholder:"Select Property"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),r.jsx("input",{type:"date",value:s.startDate,onChange:_=>k("startDate",_.target.value),className:"w-full px-4 py-2 bg-white border-2 border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),r.jsx("input",{type:"date",value:s.endDate,onChange:_=>k("endDate",_.target.value),className:"w-full px-4 py-2 bg-white border-2 border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter Type"}),r.jsxs("select",{value:o,onChange:_=>l(_.target.value),className:"w-full px-4 py-2 bg-white border-2 border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[r.jsx("option",{value:"checkout",children:"Check-out"}),r.jsx("option",{value:"checkin",children:"Check-in"})]})]})]})}),e?r.jsx(r.Fragment,{children:g?r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-12 text-center",children:[r.jsx(Dr,{className:"h-12 w-12 mx-auto text-gray-400 mb-4 animate-spin"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading City Tax Data"}),r.jsx("p",{className:"text-gray-500",children:"Fetching city tax information..."})]}):h?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 hover:shadow-2xl transition-all duration-300",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Tax Status"}),r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${L(y.taxStatus)}`,children:D(y.taxStatus)})]}),r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl",children:r.jsx(vu,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 hover:shadow-2xl transition-all duration-300",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Current Tax Collected"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h?.totalTaxFormatted||"0,00"})]}),r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:r.jsx(xa,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 hover:shadow-2xl transition-all duration-300",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Bookings"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.totalBookings})]}),r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl",children:r.jsx(Ns,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 hover:shadow-2xl transition-all duration-300",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Guests"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.totalGuests})]}),r.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl",children:r.jsx(gi,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 hover:shadow-2xl transition-all duration-300",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Estimated Tax Potential"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h?.totalTaxFormatted||"0,00"})]}),r.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl",children:r.jsx(mi,{className:"h-6 w-6 text-white"})})]})})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"City Tax Report Data"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl w-fit mx-auto mb-3",children:r.jsx(xa,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:y.cityTaxCalculatedFormatted}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"City Tax Calculated"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Current tax amount"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-xl w-fit mx-auto mb-3",children:r.jsx(Ns,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:y.cityTaxNights}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"City Tax Nights"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Taxable nights"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl w-fit mx-auto mb-3",children:r.jsx(Jx,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:y.childrenNights}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Children Nights"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Often exempt"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl w-fit mx-auto mb-3",children:r.jsx(Tu,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:y.hostkitTotalNights}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Nights"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Guest nights (Hostkit format)"})]})]}),(y.nightsBeyond||0)>0&&r.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg mr-3",children:r.jsx(Ns,{className:"h-5 w-5 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Long-stay Exemptions"}),r.jsxs("p",{className:"text-xs text-yellow-600",children:[y.nightsBeyond," nights beyond 30-day threshold (typically exempt)"]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 text-center hover:shadow-2xl transition-all duration-300",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl w-fit mx-auto mb-4",children:r.jsx(pi,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:y.adultNights}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Adult Nights"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Taxable: ",y.taxableNights]})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 text-center hover:shadow-2xl transition-all duration-300",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl w-fit mx-auto mb-4",children:r.jsx(Jx,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:y.childrenNights}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Children Nights"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Exempt: ",y.exemptNights]})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 text-center hover:shadow-2xl transition-all duration-300",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-xl w-fit mx-auto mb-4",children:r.jsx(Tu,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:y.averageTaxPerNightFormatted}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg per Night"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Taxable nights only"})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 text-center hover:shadow-2xl transition-all duration-300",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl w-fit mx-auto mb-4",children:r.jsx(mi,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:y.averageTaxPerGuestFormatted}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg per Guest"}),r.jsx("p",{className:"text-xs text-gray-500",children:"All guests included"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bookings by Platform"}),r.jsx("div",{className:"space-y-4",children:Object.entries(y.bookingsPlatforms).map(([_,F])=>{const X=typeof F=="number"?F:F?.bookings||0,ue=(X/y.totalBookings*100).toFixed(1);return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded-sm mr-3"}),r.jsx("span",{className:"font-medium text-gray-900 capitalize",children:_})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:X}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",ue,"%)"]})]})]},_)})})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"City Tax Summary"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[r.jsx("span",{className:"text-gray-600",children:"Current Tax Collected"}),r.jsx("span",{className:"font-semibold text-gray-900",children:h?.totalTaxFormatted||"0,00"})]}),r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[r.jsx("span",{className:"text-gray-600",children:"Estimated Tax Potential"}),r.jsx("span",{className:"font-semibold text-green-600",children:h?.totalTaxFormatted||"0,00"})]}),r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[r.jsx("span",{className:"text-gray-600",children:"Tax Rate per Adult Night"}),r.jsx("span",{className:"font-semibold text-blue-600",children:h?.averageTaxPerGuestFormatted||"0,00"})]}),r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[r.jsx("span",{className:"text-gray-600",children:"Total Taxable Nights"}),r.jsx("span",{className:"font-semibold text-purple-600",children:h?.adultNights||0})]}),r.jsxs("div",{className:"flex justify-between items-center py-2",children:[r.jsx("span",{className:"text-gray-600",children:"Implementation Status"}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${h?.taxStatus==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:h?.taxStatus==="active"?"Active":"Not Implemented"})]})]})]})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"City Tax Summary"}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"City Tax data focuses on aggregated metrics rather than individual booking details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-900",children:"Total City Tax Nights"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y.cityTaxNights})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-green-900",children:"Children Nights"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.childrenNights})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-purple-900",children:"Hostkit Total Nights"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:y.hostkitTotalNights})]})]})]}),y.taxStatus!=="active"?r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl shadow-xl border border-blue-200 p-6 mb-8",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl",children:r.jsx(mi,{className:"h-6 w-6 text-white"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Future-Ready City Tax"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"While city tax is not currently active for this property, all booking data is being tracked and analyzed. When tax collection is implemented, historical data will be available for reporting and compliance."}),r.jsxs("div",{className:"mt-3 text-sm text-blue-600",children:[r.jsxs("p",{children:[" Booking data collected: ",r.jsxs("strong",{className:"text-gray-900",children:[y.totalBookings," bookings"]})]}),r.jsxs("p",{children:[" Guest tracking: ",r.jsxs("strong",{className:"text-gray-900",children:[y.totalGuests," guests"]})]}),r.jsxs("p",{children:[" Night analysis: ",r.jsxs("strong",{className:"text-gray-900",children:[y.totalNights," nights"]})]})]})]})]})}):r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-12 text-center mb-8",children:[r.jsx(vu,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No City Tax Data Available"}),r.jsx("p",{className:"text-gray-500",children:"No tax data found for the selected property and date range."})]})]}):r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-12 text-center mb-8",children:[r.jsx(Dr,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Data Available"}),r.jsx("p",{className:"text-gray-500",children:"No city tax data found for the selected property and date range."})]})}):r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-12 text-center mb-8",children:[r.jsx(vu,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Property"}),r.jsx("p",{className:"text-gray-500",children:"Choose a property from the dropdown above to view city tax analytics."})]}),p&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-2xl shadow-xl p-6 mb-8",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-lg mr-3",children:r.jsx(Dr,{className:"h-5 w-5 text-red-600"})}),r.jsx("p",{className:"text-red-800 font-medium",children:p})]})})]})})},N8={statuses:{},isLoading:!1,error:null},uc=Pr("siba/fetchStatus",async(e,{rejectWithValue:t})=>{try{const{sibaAPI:s}=await Gi(async()=>{const{sibaAPI:o}=await import("./siba.api-jZZo98H3.js");return{sibaAPI:o}},[]),a=await s.getSibaStatus(e);return console.log("SIBA API Response:",{propertyId:e,result:a}),a}catch(s){return console.error("SIBA API Error:",s),t(s.response?.data?.message||"Failed to fetch SIBA status")}}),Dp=Pr("siba/submit",async({propertyId:e,reservationId:t,data:s},{rejectWithValue:a})=>{try{const{sibaAPI:o}=await Gi(async()=>{const{sibaAPI:l}=await import("./siba.api-jZZo98H3.js");return{sibaAPI:l}},[]);return await o.submitSiba(e,t,s)}catch(o){return a(o.response?.data?.message||"Failed to submit SIBA")}}),Fp=Pr("siba/validate",async(e,{rejectWithValue:t})=>{try{const{sibaAPI:s}=await Gi(async()=>{const{sibaAPI:a}=await import("./siba.api-jZZo98H3.js");return{sibaAPI:a}},[]);return await s.validateSiba(e)}catch(s){return t(s.response?.data?.message||"Failed to validate SIBA")}});Pr("siba/getHistory",async(e,{rejectWithValue:t})=>{try{const{sibaAPI:s}=await Gi(async()=>{const{sibaAPI:a}=await import("./siba.api-jZZo98H3.js");return{sibaAPI:a}},[]);return await s.getSibaHistory(e)}catch(s){return t(s.response?.data?.message||"Failed to get SIBA history")}});const eb=Ro({name:"siba",initialState:N8,reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(uc.pending,t=>{t.isLoading=!0,t.error=null}).addCase(uc.fulfilled,(t,s)=>{t.isLoading=!1,s.payload&&s.payload.propertyId?t.statuses[s.payload.propertyId]=s.payload:console.error("Invalid SIBA response payload:",s.payload)}).addCase(uc.rejected,(t,s)=>{t.isLoading=!1,t.error=s.payload}).addCase(Dp.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Dp.fulfilled,t=>{t.isLoading=!1}).addCase(Dp.rejected,(t,s)=>{t.isLoading=!1,t.error=s.payload}).addCase(Fp.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Fp.fulfilled,t=>{t.isLoading=!1}).addCase(Fp.rejected,(t,s)=>{t.isLoading=!1,t.error=s.payload})}}),{clearError:RA}=eb.actions,j8=eb.reducer,S8=()=>{const[e,t]=q.useState(392776),[s,a]=q.useState({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),o=Ls(),{properties:l}=Ot(X=>X.properties),{bookings:d,isLoading:u}=Ot(X=>X.bookings),{statuses:h,isLoading:g}=Ot(X=>X.siba);q.useEffect(()=>{e&&(o(uc(e)),o(_n({propertyId:e,startDate:s.startDate,endDate:s.endDate})))},[o,e,s]);const p=h[e||0],b=d?.length||0,j=d?.reduce((X,ue)=>X+ue.adults+ue.children,0)||0,y=j,k=0,S=j>0?Math.round(y/j*100):0,C=X=>X?new Date(X).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",L=X=>{switch(X){case"green":return"border-green-200 bg-green-50";case"amber":return"border-yellow-200 bg-yellow-50";case"red":return"border-red-200 bg-red-50";default:return"border-gray-200 bg-gray-50"}},D=X=>{switch(X){case"green":return"Compliant";case"amber":return"Warning";case"red":return"Overdue";default:return"Unknown"}},_=X=>{switch(X){case"green":return r.jsx(Dn,{className:"h-8 w-8 text-green-600"});case"amber":return r.jsx(pd,{className:"h-8 w-8 text-yellow-600"});case"red":return r.jsx(En,{className:"h-8 w-8 text-red-600"});default:return r.jsx(Ma,{className:"h-8 w-8 text-gray-400"})}},F=g||u;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50/30 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"SIBA Compliance"}),r.jsx("p",{className:"text-gray-600",children:"Real-time compliance monitoring and guest reporting"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Ba,{selectedId:e,onChange:t,properties:l}),r.jsxs("button",{onClick:()=>{e&&(o(uc(e)),o(_n({propertyId:e,startDate:s.startDate,endDate:s.endDate})))},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Dr,{className:"h-4 w-4"}),r.jsx("span",{children:"Refresh"})]})]})]})}),F?r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dr,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Real Data"}),r.jsx("p",{className:"text-gray-500",children:"Fetching SIBA status and booking information..."})]})}):p?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl border-2 p-8 mb-8 hover:shadow-3xl transition-all duration-300 ${L(p.status)}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl",children:_(p.status)}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:["SIBA Status: ",D(p.status)]}),r.jsx("p",{className:"text-lg text-gray-600 mb-2",children:p.message}),p.lastSibaSendDate&&r.jsxs("p",{className:"text-sm text-gray-500",children:["Last submission: ",r.jsx("span",{className:`font-semibold ${p.status==="green"?"text-green-600":p.status==="amber"?"text-yellow-600":"text-red-600"}`,children:C(p.lastSibaSendDate)})]}),p.nextDueDate&&r.jsxs("p",{className:"text-sm text-gray-500",children:["Next due: ",r.jsx("span",{className:`font-semibold ${(p.daysUntilDue||0)>7?"text-green-600":(p.daysUntilDue||0)>0?"text-yellow-600":"text-red-600"}`,children:C(p.nextDueDate)})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-4xl font-bold text-gray-900 mb-2",children:[S,"%"]}),r.jsx("p",{className:"text-lg text-gray-600",children:"Compliance Rate"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Data source: ",p.dataSource,"  Last updated: ",new Date().toLocaleTimeString()]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-8 text-center hover:shadow-2xl hover:scale-105 transition-all duration-300",children:[r.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl w-fit mx-auto mb-6",children:r.jsx(gi,{className:"h-8 w-8 text-white"})}),r.jsx("p",{className:"text-4xl font-bold text-gray-900 mb-2",children:y}),r.jsx("p",{className:"text-lg text-gray-600 mb-1",children:"Submitted Guests"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Real booking data"})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-8 text-center hover:shadow-2xl hover:scale-105 transition-all duration-300",children:[r.jsx("div",{className:"p-4 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-2xl w-fit mx-auto mb-6",children:r.jsx(Do,{className:"h-8 w-8 text-white"})}),r.jsx("p",{className:"text-4xl font-bold text-gray-900 mb-2",children:k}),r.jsx("p",{className:"text-lg text-gray-600 mb-1",children:"Pending Guests"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Awaiting submission"})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-8 text-center hover:shadow-2xl hover:scale-105 transition-all duration-300",children:[r.jsx("div",{className:"p-4 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl w-fit mx-auto mb-6",children:r.jsx(Ns,{className:"h-8 w-8 text-white"})}),r.jsx("p",{className:"text-4xl font-bold text-gray-900 mb-2",children:b}),r.jsx("p",{className:"text-lg text-gray-600 mb-1",children:"Total Bookings"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Current period"})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-8 text-center hover:shadow-2xl hover:scale-105 transition-all duration-300",children:[r.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl w-fit mx-auto mb-6",children:r.jsx(V2,{className:"h-8 w-8 text-white"})}),r.jsx("p",{className:"text-4xl font-bold text-gray-900 mb-2",children:j}),r.jsx("p",{className:"text-lg text-gray-600 mb-1",children:"Total Guests"}),r.jsx("p",{className:"text-sm text-gray-500",children:"All visitors"})]})]})]}):r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx(En,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No SIBA Data Available"}),r.jsx("p",{className:"text-gray-500",children:"Unable to fetch SIBA status for the selected property."})]})})]})})},k8=()=>{const e=Ls(),{bulkDashboard:t}=Ot(_=>_.sibaManager),{properties:s}=Ot(_=>_.propertyManagement),{bookings:a}=Ot(_=>_.bookings),{statuses:o}=Ot(_=>_.siba),[l,d]=q.useState({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[u,h]=q.useState(null),[g,p]=q.useState(!1);q.useEffect(()=>{e(Ra())},[e]),q.useEffect(()=>{s&&s.length>0&&s.forEach(_=>{e(uc(_.id))})},[e,s]),q.useEffect(()=>{e(_n({propertyId:void 0,startDate:l.startDate,endDate:l.endDate}))},[e,l]);const j=!s||s.length===0?[]:s.map(_=>{const F=o[_.id],X=a.filter(re=>re.propertyId===_.id),ue=X.length;X.reduce((re,H)=>re+(H.adults||0)+(H.children||0),0);const le=new Date,ie=new Date(le.getTime()-720*60*60*1e3),ee=X.filter(re=>{const H=new Date(re.checkOut||re.departureDate||new Date);return H>=ie&&H<=le}),me=ee.length,O=ee.filter(re=>{const H=new Date(re.checkOut||re.departureDate||new Date);return Math.floor((le.getTime()-H.getTime())/(1e3*60*60*24))>7}).length,B=me>0?Math.round((me-O)/me*100):100,te=[];return O>0?te.push("overdue"):me>0?te.push("pending"):F?.status==="green"?te.push("compliant"):F?.status==="amber"?te.push("due_soon"):F?.status==="red"&&te.push("overdue"),B<80&&te.push("low_compliance"),{propertyId:_.id,propertyName:_.name||`Property ${_.id}`,sibaStatus:F?.status||"red",lastSubmission:F?.lastSibaSendDate||null,nextDue:F?.nextDueDate||null,daysUntilDue:F?.daysUntilDue||null,totalReservations:ue,pendingSubmissions:me,overdueSubmissions:O,complianceRate:B,flags:te}}),y=async()=>{if(!g){p(!0),h({type:"info",message:"Refreshing all SIBA data..."});try{const F=(await e(Ra())).payload?.properties||s;if(F&&F.length>0){const X=F.map(ue=>e(uc(ue.id)));await Promise.all(X)}await e(_n({startDate:l.startDate,endDate:l.endDate})),h({type:"success",message:"Data refreshed successfully!"}),setTimeout(()=>h(null),3e3)}catch(_){console.error("Refresh error:",_),h({type:"error",message:"Failed to refresh data. Please try again."}),setTimeout(()=>h(null),3e3)}finally{p(!1)}}},k=_=>{switch(_){case"green":return r.jsx(Dn,{className:"h-5 w-5 text-green-600"});case"amber":return r.jsx(pd,{className:"h-5 w-5 text-yellow-600"});case"red":return r.jsx(En,{className:"h-5 w-5 text-red-600"});default:return r.jsx(Ma,{className:"h-5 w-5 text-gray-400"})}},S=_=>{switch(_){case"overdue":return"bg-red-100 text-red-800";case"due_soon":return"bg-yellow-100 text-yellow-800";case"compliant":return"bg-green-100 text-green-800";case"pending":return"bg-blue-100 text-blue-800";case"low_compliance":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},C=j,L=_=>_?new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",D={totalProperties:j.length,overdue:j.filter(_=>_.flags.includes("overdue")).length,dueSoon:j.filter(_=>_.flags.includes("due_soon")).length,compliant:j.filter(_=>_.flags.includes("compliant")).length,errors:j.filter(_=>_.flags.includes("error")).length};return t.isLoading?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50/30 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dr,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading SIBA Dashboard"}),r.jsx("p",{className:"text-gray-500",children:"Fetching compliance data for all properties..."})]})})})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50/30 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[u&&r.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-md ${u.type==="success"?"bg-green-100 border border-green-300 text-green-800":u.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-100 border border-blue-300 text-blue-800"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[u.type==="success"&&r.jsx(Dn,{className:"h-5 w-5"}),u.type==="error"&&r.jsx(En,{className:"h-5 w-5"}),u.type==="info"&&r.jsx(pd,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:u.message})]})}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"SIBA Manager Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Real-time SIBA compliance monitoring with Hostkit data"}),r.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:["Data source: Hostkit API  Last updated: ",new Date().toLocaleTimeString()]}),j.length>0&&r.jsx("span",{className:"text-xs text-green-600",children:" Real booking data"})]})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("button",{onClick:y,disabled:g,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${g?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[r.jsx(Dr,{className:`h-4 w-4 ${g?"animate-spin":""}`}),r.jsx("span",{children:g?"Refreshing...":"Refresh"})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 text-center",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl w-fit mx-auto mb-4",children:r.jsx(Ma,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:D.totalProperties}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Properties"})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-red-200 p-6 text-center",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-red-500 to-red-600 rounded-xl w-fit mx-auto mb-4",children:r.jsx(En,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:D.overdue}),r.jsx("p",{className:"text-sm text-gray-600",children:"Overdue"})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-yellow-200 p-6 text-center",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl w-fit mx-auto mb-4",children:r.jsx(Do,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:D.dueSoon}),r.jsx("p",{className:"text-sm text-gray-600",children:"Due Soon"})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-green-200 p-6 text-center",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-xl w-fit mx-auto mb-4",children:r.jsx(Dn,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:D.compliant}),r.jsx("p",{className:"text-sm text-gray-600",children:"Compliant"})]}),r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-6 text-center",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-gray-500 to-gray-600 rounded-xl w-fit mx-auto mb-4",children:r.jsx(pd,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:D.errors}),r.jsx("p",{className:"text-sm text-gray-600",children:"Errors"})]})]}),r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Property"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Last Submission"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Next Due"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Reservations"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Compliance"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Flags"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:C&&C.length>0?C.map(_=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.propertyName}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",_.propertyId]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[k(_.sibaStatus),r.jsx("span",{className:"text-sm font-medium capitalize",children:_.sibaStatus})]})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:L(_.lastSubmission)}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:L(_.nextDue)}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"text-gray-900",children:[_.totalReservations," total"]}),r.jsxs("div",{className:"text-red-600",children:[_.overdueSubmissions," overdue"]}),r.jsxs("div",{className:"text-yellow-600",children:[_.pendingSubmissions," pending"]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[_.complianceRate,"%"]}),r.jsx("div",{className:`w-16 h-2 rounded-full ${_.complianceRate>=80?"bg-green-200":_.complianceRate>=60?"bg-yellow-200":"bg-red-200"}`,children:r.jsx("div",{className:`h-2 rounded-full ${_.complianceRate>=80?"bg-green-600":_.complianceRate>=60?"bg-yellow-600":"bg-red-600"}`,style:{width:`${_.complianceRate}%`}})})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:_.flags.map((F,X)=>r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S(F)}`,children:F.replace("_"," ")},X))})})]},_.propertyId)):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No properties data available. Click refresh to load data."})})})]})})})]})})},A8=async(e,t)=>{console.log(" uploadPropertyImages called with:",{propertyId:e,imagesCount:t.length,images:t.map(o=>({name:o.name,size:o.size,type:o.type}))});const s=new FormData;return t.forEach((o,l)=>{console.log(` Appending image ${l}:`,{name:o.name,size:o.size,type:o.type}),s.append("images",o)}),console.log(" FormData entries:",Array.from(s.entries())),await Vt.post(`/image-upload/${e}`,s,{headers:{"Content-Type":void 0}})},C8=async(e,t)=>await Vt.delete(`/image-upload/${e}/${encodeURIComponent(t)}`),_8=()=>{const e=Ls(),{user:t}=Ot(R=>R.auth),{properties:s,selectedProperty:a,isLoading:o,isCreating:l,isUpdating:d,isDeleting:u,isTesting:h,error:g,hostkitTestResult:p}=Ot(R=>R.propertyManagement),b=X4(t?.role||null),[j,y]=q.useState(!1),[k,S]=q.useState(!1),[C,L]=q.useState(!1),[D,_]=q.useState({}),[F,X]=q.useState(null),[ue,le]=q.useState([]),[ie,ee]=q.useState(!1),[me,O]=q.useState({id:0,name:"",address:"",type:"Apartment",bedrooms:1,bathrooms:1,maxGuests:2,hostkitId:"",hostkitApiKey:"",status:"active",images:[],amenities:[]});q.useEffect(()=>{e(Ra())},[e]);const B=R=>{const{name:G,value:oe}=R.target;O($=>({...$,[G]:G==="id"||G==="bedrooms"||G==="bathrooms"||G==="maxGuests"?parseInt(oe)||0:oe}))},te=R=>{const G=R.target.value.split(",").map(oe=>oe.trim()).filter(oe=>oe);O(oe=>({...oe,amenities:G}))},re=async()=>{me.hostkitId&&me.hostkitApiKey&&await e(nf({hostkitId:me.hostkitId,apiKey:me.hostkitApiKey}))},H=R=>{const G=Array.from(R.target.files||[]);console.log(" Files selected:",G.length,G.map(oe=>oe.name)),le(oe=>[...oe,...G])},K=async()=>{if(console.log(" handleImageUpload called with:",{localSelectedProperty:F,selectedImages:ue,selectedImagesLength:ue.length,selectedImagesDetails:ue.map(R=>({name:R.name,size:R.size,type:R.type}))}),!F||ue.length===0){console.log(" No property selected or no images selected");return}console.log(" Starting image upload:",{propertyId:F.id,selectedImages:ue.length,imageNames:ue.map(R=>R.name)}),ee(!0);try{const R=await A8(F.id.toString(),ue);console.log(" Images uploaded successfully:",R),e(Ra()),le([]);const G=document.getElementById("image-upload");G&&(G.value="")}catch(R){console.error(" Error uploading images:",R),console.error(" Error details:",R.response?.data||R.message)}finally{ee(!1)}},V=async R=>{if(F)try{const G=await C8(F.id.toString(),R);console.log(" Image deleted successfully:",G),e(Ra())}catch(G){console.error(" Error deleting image:",G)}},Z=async R=>{if(R.preventDefault(),console.log(" Form submission debug:",{showEditForm:k,selectedProperty:a?a.id:null,selectedPropertyId:a?._id,localSelectedProperty:F?F.id:null,localSelectedPropertyId:F?._id,formData:Object.keys(me)}),k&&F){console.log(" Calling updatePropertyAsync with:",{propertyId:F._id,propertyData:me});const G=await e(Su({propertyId:F._id,propertyData:me}));Su.fulfilled.match(G)&&(S(!1),J(),e(Ra()))}else{console.log(" Calling createPropertyAsync instead of update - this is the problem!"),console.log("showEditForm:",k),console.log("selectedProperty:",a),console.log("localSelectedProperty:",F);try{const G=await e(ju(me));ju.fulfilled.match(G)&&(y(!1),J(),await e(Ra()))}catch(G){console.error("Error creating property:",G)}}},pe=R=>{console.log(" handleEdit called with property:",{id:R.id,_id:R._id,name:R.name,hostkitApiKey:R.hostkitApiKey?"Present":"Missing",hostkitApiKeyLength:R.hostkitApiKey?R.hostkitApiKey.length:0,allPropertyKeys:Object.keys(R)}),X(R),Th(R);const G={id:R.id,name:R.name,address:R.address,type:R.type,bedrooms:R.bedrooms,bathrooms:R.bathrooms,maxGuests:R.maxGuests,hostkitId:R.hostkitId,hostkitApiKey:R.hostkitApiKey||"",status:R.status,images:R.images||[],amenities:R.amenities||[]};console.log(" Setting form data with hostkitApiKey:",G.hostkitApiKey?"Present":"Empty"),console.log(" hostkitApiKey value:",G.hostkitApiKey),O(G),S(!0),console.log(" showEditForm set to true, localSelectedProperty set")},we=async()=>{a&&(await e(sf(a._id)),g||(L(!1),Th(null)))},J=()=>{O({id:0,name:"",address:"",type:"Apartment",bedrooms:1,bathrooms:1,maxGuests:2,hostkitId:"",hostkitApiKey:"",status:"active",images:[],amenities:[]}),X(null),le([]),e(f6())},E=({property:R})=>(console.log(" PropertyCard rendering:",{propertyName:R.name,images:R.images,imageUrl:R.images&&R.images.length>0?`http://localhost:5000${R.images[0]}`:"No images"}),r.jsx("div",{className:"card hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"card-content",children:[r.jsx("div",{className:"mb-4",children:R.images&&R.images.length>0?r.jsx("img",{src:`http://localhost:5000${R.images[0]}`,alt:R.name,className:"w-full h-48 object-cover rounded-md",onError:G=>{console.error(" Image failed to load:",G.currentTarget.src)},onLoad:G=>{console.log(" Image loaded successfully:",G.currentTarget.src)}}):r.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-md flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(Zm,{className:"h-12 w-12 mx-auto mb-2"}),r.jsx("p",{className:"text-sm",children:"Property Image"})]})})}),r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:R.name}),r.jsxs("p",{className:"text-sm text-gray-600 flex items-center mt-1",children:[r.jsx(vu,{className:"h-4 w-4 mr-1"}),R.address]})]}),r.jsx("span",{className:`badge ${R.status==="active"?"badge-success":R.status==="inactive"?"badge-warning":"badge-error"}`,children:R.status})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Zm,{className:"h-4 w-4 mr-1"}),R.type]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(gi,{className:"h-4 w-4 mr-1"}),R.maxGuests," guests"]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(l3,{className:"h-4 w-4 mr-1"}),R.bedrooms," bed",R.bedrooms!==1?"s":""]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(o3,{className:"h-4 w-4 mr-1"}),R.bathrooms," bath",R.bathrooms!==1?"s":""]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Hostkit ID:"}),r.jsx("div",{className:"text-sm font-mono bg-gray-100 p-2 rounded",children:R.hostkitId})]}),R.amenities&&R.amenities.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Amenities:"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.amenities.slice(0,3).map((G,oe)=>r.jsx("span",{className:"badge badge-secondary text-xs",children:G},oe)),R.amenities.length>3&&r.jsxs("span",{className:"text-xs text-gray-500",children:["+",R.amenities.length-3," more"]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[r.jsxs("button",{onClick:()=>pe(R),className:"btn-outline btn-sm flex-1",disabled:d||!b,title:b?"":"Only owners can edit properties",children:[r.jsx(To,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsx("button",{onClick:()=>{e(Th(R)),L(!0)},className:"btn-outline btn-sm text-red-600 border-red-300 hover:bg-red-50",disabled:u||!b,title:b?"":"Only owners can delete properties",children:r.jsx(Kf,{className:"h-4 w-4"})})]})]})}));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Property Management"}),r.jsx("p",{className:"text-gray-600",children:b?"Manage your properties and Hostkit integrations":"View properties (Read-only mode)"}),!b&&r.jsxs("div",{className:"mt-2 inline-flex items-center px-3 py-1 rounded-full text-sm bg-amber-100 text-amber-800",children:[r.jsx(En,{className:"h-4 w-4 mr-1"}),"Read-only access - Only owners can modify properties"]})]}),r.jsxs("button",{onClick:()=>{J(),e(op()),y(!0)},className:"btn-primary",disabled:l||!b,title:b?"":"Only owners can create properties",children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Add Property"]})]}),g&&r.jsxs("div",{className:"alert alert-error",children:[r.jsx(En,{className:"h-4 w-4"}),r.jsx("span",{children:g}),r.jsx("button",{onClick:()=>e(op()),className:"ml-auto",children:r.jsx(jl,{className:"h-4 w-4"})})]}),o?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx(cu,{className:"h-8 w-8 animate-spin text-primary-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading properties..."})]}):s.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Zm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No properties yet"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Add your first property to get started"}),r.jsxs("button",{onClick:()=>{J(),e(op()),y(!0)},className:"btn-primary",disabled:!b,title:b?"":"Only owners can create properties",children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Add Your First Property"]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(R=>r.jsx(E,{property:R},R._id))}),(j||k)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold",children:k?"Edit Property":"Add New Property"}),r.jsx("button",{onClick:()=>{y(!1),S(!1),J()},className:"text-gray-400 hover:text-gray-600",children:r.jsx(jl,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property ID *"}),r.jsx("input",{type:"number",name:"id",value:me.id||"",onChange:B,className:"input",required:!0,disabled:k})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type *"}),r.jsxs("select",{name:"type",value:me.type,onChange:B,className:"input",required:!0,children:[r.jsx("option",{value:"Apartment",children:"Apartment"}),r.jsx("option",{value:"House",children:"House"}),r.jsx("option",{value:"Villa",children:"Villa"}),r.jsx("option",{value:"Condominium",children:"Condominium"}),r.jsx("option",{value:"Penthouse",children:"Penthouse"}),r.jsx("option",{value:"Studio",children:"Studio"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Name *"}),r.jsx("input",{type:"text",name:"name",value:me.name,onChange:B,className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),r.jsx("input",{type:"text",name:"address",value:me.address,onChange:B,className:"input",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms *"}),r.jsx("input",{type:"number",name:"bedrooms",value:me.bedrooms,onChange:B,className:"input",min:"0",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms *"}),r.jsx("input",{type:"number",name:"bathrooms",value:me.bathrooms,onChange:B,className:"input",min:"0",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Guests *"}),r.jsx("input",{type:"number",name:"maxGuests",value:me.maxGuests,onChange:B,className:"input",min:"1",required:!0})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Hostkit Integration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hostkit ID *"}),r.jsx("input",{type:"text",name:"hostkitId",value:me.hostkitId,onChange:B,className:"input font-mono",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hostkit API Key *"}),r.jsx("input",{type:"password",name:"hostkitApiKey",value:me.hostkitApiKey,onChange:B,className:"input font-mono",required:!0})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("button",{type:"button",onClick:re,className:"btn-outline btn-sm",disabled:h||!me.hostkitId||!me.hostkitApiKey,children:h?r.jsxs(r.Fragment,{children:[r.jsx(cu,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(w3,{className:"h-4 w-4 mr-2"}),"Test Connection"]})}),p&&r.jsx("div",{className:`mt-2 p-3 rounded-md ${p.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:r.jsxs("div",{className:"flex items-center",children:[p.success?r.jsx(Dn,{className:"h-4 w-4 mr-2"}):r.jsx(jl,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"text-sm",children:p.message})]})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amenities (comma-separated)"}),r.jsx("input",{type:"text",value:me.amenities?.join(", ")||"",onChange:te,className:"input",placeholder:"WiFi, Kitchen, Pool, Parking"})]}),k&&F&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Images"}),F.images&&F.images.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Images:"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:F.images.map((R,G)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:`http://localhost:5000${R}`,alt:`Property ${G+1}`,className:"w-full h-24 object-cover rounded-md border"}),r.jsx("button",{type:"button",onClick:()=>V(R),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},G))})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("input",{id:"image-upload",type:"file",multiple:!0,accept:"image/*",onChange:H,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary/80"}),ue.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Selected Images:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ue.map((R,G)=>r.jsxs("div",{className:"flex items-center bg-gray-100 px-2 py-1 rounded text-sm",children:[r.jsx("span",{className:"mr-2",children:R.name}),r.jsx("button",{type:"button",onClick:()=>le(oe=>oe.filter(($,fe)=>fe!==G)),className:"text-red-500 hover:text-red-700",children:""})]},G))})]}),r.jsx("button",{type:"button",onClick:()=>{console.log(" Upload button clicked, selectedImages:",ue.length),K()},disabled:ue.length===0||ie,className:"btn-outline btn-sm",children:ie?r.jsxs(r.Fragment,{children:[r.jsx(cu,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(N3,{className:"h-4 w-4 mr-2"}),"Upload Images"]})})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{y(!1),S(!1),J()},className:"btn-outline flex-1",children:"Cancel"}),r.jsx("button",{type:"submit",className:"btn-primary flex-1",disabled:l||d||!b,title:b?"":"Only owners can create/update properties",children:l||d?r.jsxs(r.Fragment,{children:[r.jsx(cu,{className:"h-4 w-4 mr-2 animate-spin"}),k?"Updating...":"Creating..."]}):k?"Update Property":"Create Property"})]})]})]})})}),C&&a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 mx-auto bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(En,{className:"h-6 w-6 text-red-600"})}),r.jsx("div",{className:"ml-4",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Property"})})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:['Are you sure you want to delete "',a.name,'"? This action cannot be undone.']}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>{L(!1),Th(null)},className:"btn-outline flex-1",children:"Cancel"}),r.jsx("button",{onClick:we,className:"btn-primary bg-red-600 hover:bg-red-700 flex-1",disabled:u||!b,title:b?"":"Only owners can delete properties",children:u?r.jsxs(r.Fragment,{children:[r.jsx(cu,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})})]})},P8=({propertyId:e,startDate:t,endDate:s})=>{const[a,o]=q.useState({bookings:[],blockedDates:[],availableDates:[]}),[l,d]=q.useState(!1),[u,h]=q.useState(null),{token:g}=Ot(y=>y.auth),p=async()=>{if(g){d(!0),h(null);try{const y=await Vt.get(`/calendar/${e}?startDate=${t}&endDate=${s}`);console.log("Calendar API response:",y);const k={bookings:y.bookings||y.result||[],blockedDates:y.blockedDates||[],availableDates:y.availableDates||[]};console.log("Structured calendar data:",k),o(k)}catch(y){console.error("Calendar fetch error:",y),h(y.message||"Failed to fetch calendar data")}finally{d(!1)}}},b=async(y,k,S)=>{if(g){d(!0),h(null);try{const C=await Vt.put(`/calendar/${e}`,{startDate:y,endDate:k,status:S});return await p(),C}catch(C){throw h(C.message||"Failed to update calendar"),C}finally{d(!1)}}},j=async()=>{};return q.useEffect(()=>{t&&s&&g&&(console.log("useCalendar: Fetching calendar data for:",{propertyId:e,startDate:t,endDate:s}),p())},[e,t,s,g]),{calendarData:a,isLoading:l,error:u,fetchCalendarData:p,updateCalendar:b,fetchBookings:j}},Ip=async(e,t)=>await Vt.get(`/calendar/${e}/date/${t}`),L8=async(e,t,s)=>{console.log("API: Fetching calendar pricing for:",{listingId:e,year:t,month:s});const a=await Vt.get(`/calendar/${e}/month/${t}/${s}`);return console.log("API: Raw response:",a),console.log("API: Pricing data:",a.pricingData),a.pricingData},E8=async(e,t)=>await Vt.put(`/calendar/${e}/pricing`,t),D8=async(e,t)=>await Vt.put(`/calendar/${e}/minimum-stay`,t),Ay=async(e,t,s,a)=>await Vt.put("/calendar",{listingId:e,startDate:t,endDate:s,isAvailable:a}),F8=({propertyId:e,onDateSelect:t})=>{const s=Ls(),{user:a}=Ot(Be=>Be.auth),[o,l]=q.useState(e||392776),[d,u]=q.useState(new Date),[h,g]=q.useState(null),[p,b]=q.useState(!1),[j,y]=q.useState(!1),[k,S]=q.useState(null),[C,L]=q.useState(null),[D,_]=q.useState(!1),[F,X]=q.useState(!1),[ue,le]=q.useState(0),[ie,ee]=q.useState(1),[me,O]=q.useState({}),[B,te]=q.useState(!1),re=new Date(d.getFullYear(),d.getMonth()-1,1).toISOString().split("T")[0],H=new Date(d.getFullYear(),d.getMonth()+2,0).toISOString().split("T")[0],{token:K}=Ot(Be=>Be.auth),V=Ot(Be=>Be.propertyManagement.properties);q.useEffect(()=>{V.length===0&&s(Ra())},[s,V.length]);const{calendarData:Z,isLoading:pe,error:we,updateCalendar:J}=P8({propertyId:o||392776,startDate:re,endDate:H}),E={bookings:Z?.bookings||[],blockedDates:Z?.blockedDates||[],availableDates:Z?.availableDates||[],calendar:Z?.result||[]},R=Be=>{u(Ue=>{const Q=new Date(Ue);return Be==="prev"?Q.setMonth(Ue.getMonth()-1):Q.setMonth(Ue.getMonth()+1),Q})},G=async()=>{if(o)try{te(!0);const Be=d.getFullYear(),Ue=d.getMonth();console.log("Fetching monthly pricing data:",{selectedPropertyId:o,year:Be,month:Ue});const Q=await L8(o,Be,Ue);console.log("Received monthly pricing data:",Q),console.log("Sample pricing data keys:",Object.keys(Q).slice(0,5)),console.log("Sample pricing data values:",Object.values(Q).slice(0,3)),O(Q)}catch(Be){if(console.error("Failed to fetch monthly pricing data:",Be),Be&&typeof Be=="object"&&"response"in Be&&Be.response&&typeof Be.response=="object"&&"status"in Be.response&&Be.response.status===401){console.error("Authentication failed - token may be expired. Please refresh the page."),alert("Your session has expired. Please refresh the page to continue.");return}const Ue=d.getFullYear(),Q=d.getMonth(),de=new Date(Ue,Q+1,0),Ne={};for(let Ce=1;Ce<=de.getDate();Ce++){const Ie=new Date(Ue,Q,Ce).toISOString().split("T")[0];Ne[Ie]={price:289,minimumStay:2,status:"available"}}O(Ne)}finally{te(!1)}};q.useEffect(()=>{G()},[d,o]);const oe=async Be=>{if(!ad(a?.role||null)){alert("Only owners can manage calendar dates. You can view the calendar but cannot make changes.");return}S(Be),y(!0),_(!0);try{const Ue=Be.toISOString().split("T")[0],Q=await Ip(o||392776,Ue);L(Q),le(Q.price||0),ee(Q.minimumStay||1)}catch(Ue){console.error("Failed to fetch calendar date data:",Ue),L({date:Be.toISOString().split("T")[0],status:"available",price:null,minimumStay:null,checkInAvailable:!0,checkOutAvailable:!0})}finally{_(!1)}if(!h)g({start:Be.toISOString().split("T")[0],end:Be.toISOString().split("T")[0]});else{const Ue=new Date(h.start),Q=new Date(h.end),de=Be;de<Ue?g({start:de.toISOString().split("T")[0],end:h.end}):de>Q?g({start:h.start,end:de.toISOString().split("T")[0]}):g(null)}},$=async()=>{if(!(!h||!o)){b(!0);try{await J(h.start,h.end,"blocked"),g(null)}catch(Be){console.error("Failed to block dates:",Be)}finally{b(!1)}}},fe=async()=>{if(!(!h||!o)){b(!0);try{await J(h.start,h.end,"available"),g(null)}catch(Be){console.error("Failed to unblock dates:",Be)}finally{b(!1)}}},ke=async()=>{if(!(!k||!o)){b(!0);try{const Be=k.getFullYear(),Ue=String(k.getMonth()+1).padStart(2,"0"),Q=String(k.getDate()).padStart(2,"0"),de=`${Be}-${Ue}-${Q}`;console.log("Blocking date:",{clickedDate:k,dateStr:de});const Ne=await Ay(o,de,de,0);console.log("Date blocked successfully:",Ne),y(!1),t&&t(de),window.location.reload()}catch(Be){console.error("Failed to block date:",Be),alert("Failed to block date. Please try again.")}finally{b(!1)}}},Se=async()=>{if(!(!k||!o)){b(!0);try{const Be=k.getFullYear(),Ue=String(k.getMonth()+1).padStart(2,"0"),Q=String(k.getDate()).padStart(2,"0"),de=`${Be}-${Ue}-${Q}`;console.log("Unblocking date:",{clickedDate:k,dateStr:de});const Ne=await Ay(o,de,de,1);console.log("Date unblocked successfully:",Ne),y(!1),t&&t(de),window.location.reload()}catch(Be){console.error("Failed to unblock date:",Be),alert("Failed to unblock date. Please try again.")}finally{b(!1)}}},Te=async()=>{if(!(!k||!o)){b(!0);try{const Be=k.toISOString().split("T")[0];await E8(o,{startDate:Be,endDate:Be,price:ue});const Ue=await Ip(o,Be);L(Ue),O(Q=>({...Q,[Be]:{...Q[Be],price:ue}})),X(!1)}catch(Be){console.error("Failed to update pricing:",Be)}finally{b(!1)}}},ge=async()=>{if(!(!k||!o)){b(!0);try{const Be=k.toISOString().split("T")[0];await D8(o,{startDate:Be,endDate:Be,minimumStay:ie});const Ue=await Ip(o,Be);L(Ue),O(Q=>({...Q,[Be]:{...Q[Be],minimumStay:ie}})),X(!1)}catch(Be){console.error("Failed to update minimum stay:",Be)}finally{b(!1)}}},De=Be=>{if(!h)return!1;const Ue=Be.toISOString().split("T")[0];return Ue>=h.start&&Ue<=h.end},Xe=Be=>{const Ue=Be.getFullYear(),Q=String(Be.getMonth()+1).padStart(2,"0"),de=String(Be.getDate()).padStart(2,"0"),Ne=`${Ue}-${Q}-${de}`;return console.log("Checking if date is blocked:",Ne,{blockedDates:E.blockedDates,bookings:E.bookings}),Array.isArray(E.blockedDates)&&E.blockedDates.some(Me=>{if(Me.date===Ne)return Me.status==="unavailable"||Me.status==="blocked";if(Me.startDate&&Me.endDate){const Ie=new Date(Me.startDate),Ve=new Date(Me.endDate),at=new Date(Ne);return at>=Ie&&at<=Ve&&(Me.status==="unavailable"||Me.status==="blocked")}return!1})?(console.log(`Date ${Ne} is blocked via blockedDates`),!0):Array.isArray(E.bookings)&&E.bookings.some(Me=>Me.date===Ne?Me.status==="unavailable"||Me.status==="blocked":!1)?(console.log(`Date ${Ne} is blocked via result array`),!0):!1},Oe=Be=>{const Ue=Be.getFullYear(),Q=String(Be.getMonth()+1).padStart(2,"0"),de=String(Be.getDate()).padStart(2,"0"),Ne=`${Ue}-${Q}-${de}`;return E.bookings.some(Ce=>{const Me=Ce.arrivalDate||Ce.checkIn,Ie=Ce.departureDate||Ce.checkOut,Ve=Ce.status||Ce.bookingStatus,at=new Date(Me),et=new Date(Ie),rt=new Date(Ne);return rt>=at&&rt<=et&&(Ve==="Modified"||Ve==="Confirmed"||Ve==="Paid")})},ce=Be=>{const Ue=Be.getFullYear(),Q=String(Be.getMonth()+1).padStart(2,"0"),de=String(Be.getDate()).padStart(2,"0"),Ne=`${Ue}-${Q}-${de}`;if(Array.isArray(E.bookings)){const Ce=E.bookings.find(Me=>{const Ie=Me.arrivalDate||Me.checkIn,Ve=Me.departureDate||Me.checkOut,at=Me.status||Me.bookingStatus,et=new Date(Ie),rt=new Date(Ve),ft=new Date(Ne);return ft>=et&&ft<=rt&&(at==="Modified"||at==="Confirmed"||at==="Paid")});if(Ce)return{guestName:Ce.guestName||"Guest",guestCount:(Ce.adults||0)+(Ce.children||0),isCheckInDay:Ne===(Ce.arrivalDate||Ce.checkIn),isCheckOutDay:Ne===(Ce.departureDate||Ce.checkOut),checkInTime:Ce.checkInTime||"16:00",checkOutTime:Ce.checkOutTime||"11:00"}}return null},Ht=Be=>{const Ue=Be.getFullYear(),Q=String(Be.getMonth()+1).padStart(2,"0"),de=String(Be.getDate()).padStart(2,"0"),Ne=`${Ue}-${Q}-${de}`;return Array.isArray(E.bookings)?E.bookings.filter(Ce=>{const Me=Ce.arrivalDate||Ce.checkIn,Ie=Ce.departureDate||Ce.checkOut,Ve=Ce.status||Ce.bookingStatus,at=new Date(Me),et=new Date(Ie),rt=new Date(Ne);return(rt.getTime()===at.getTime()||rt.getTime()===et.getTime()||rt>at&&rt<et)&&(Ve==="Modified"||Ve==="Confirmed"||Ve==="Paid")}).map(Ce=>{const Me=Ce.arrivalDate||Ce.checkIn,Ie=Ce.departureDate||Ce.checkOut,Ve=new Date(Me),at=new Date(Ie),et=new Date(Ne);return{guestName:Ce.guestName||"Guest",guestCount:(Ce.adults||0)+(Ce.children||0),isCheckInDay:et.getTime()===Ve.getTime(),isCheckOutDay:et.getTime()===at.getTime(),checkInTime:Ce.checkInTime||"16:00",checkOutTime:Ce.checkOutTime||"11:00",isStaying:et>Ve&&et<at}}):[]},Et=()=>{const Be=d.getFullYear(),Ue=d.getMonth(),Q=new Date(Be,Ue,1),de=new Date(Be,Ue+1,0),Ne=new Date(Q);Ne.setDate(Ne.getDate()-Q.getDay());const Ce=new Date(de);Ce.setDate(Ce.getDate()+(6-de.getDay()));const Me=[],Ie=new Date(Ne);for(;Ie<=Ce;)Me.push(new Date(Ie)),Ie.setDate(Ie.getDate()+1);return Me.map((Ve,at)=>{const et=Ve.getMonth()===Ue,rt=Ve.toDateString()===new Date().toDateString(),ft=Oe(Ve);ce(Ve);const it=Xe(Ve),er=De(Ve);return r.jsxs("div",{className:`
              relative min-h-[120px] p-0 group
              ${et?"bg-gray-50":"bg-gray-100"}
              ${rt?"bg-blue-50":""}
              ${ft?"bg-teal-50":""}
              ${it?"bg-red-50":""}
              ${er?"bg-green-100 border-2 border-green-400":""}
              ${(()=>{const zt=Ve.getFullYear(),nt=String(Ve.getMonth()+1).padStart(2,"0"),St=String(Ve.getDate()).padStart(2,"0"),Mt=`${zt}-${nt}-${St}`,ot=me[Mt];return ot?.status==="reserved"?"bg-teal-50":ot?.status==="blocked"?"bg-red-50":""})()}
            `,style:{overflow:"visible"},children:[r.jsxs("div",{className:"flex justify-between items-center mb-2 p-2",children:[r.jsx("span",{className:`
               text-sm font-medium px-2 py-1 rounded
               ${et?"text-gray-900 bg-gray-200":"text-gray-400 bg-gray-100"}
               ${rt?"text-blue-600 bg-blue-100":""}
               ${er?"text-green-800 bg-green-200 font-bold":""}
               ${it?"text-red-800 bg-red-200 font-bold":""}
             `,children:Ve.getDate()}),it&&r.jsx("span",{className:"text-xs bg-red-500 text-white px-2 py-1 rounded font-bold",children:"BLOCKED"})]}),et&&(()=>{const zt=Ve.getFullYear(),nt=String(Ve.getMonth()+1).padStart(2,"0"),St=String(Ve.getDate()).padStart(2,"0"),Mt=`${zt}-${nt}-${St}`,ot=me[Mt];return B?r.jsx("div",{className:"absolute bottom-1 right-1 px-3 py-2 bg-gray-100 rounded-md text-xs text-gray-400 z-20 shadow-md",children:"Loading..."}):r.jsxs("div",{className:`absolute bottom-1 right-1 px-3 py-2 bg-gray-100 rounded-md space-y-1 z-20 shadow-md transition-opacity duration-200 ${ot?.status==="reserved"?"opacity-0 group-hover:opacity-100":"opacity-100"}`,children:[r.jsxs("div",{className:`text-xs font-semibold ${ot?.status==="reserved"?"text-teal-700":ot?.status==="blocked"?"text-red-700":"text-gray-700"}`,children:["",ot?.price||"N/A"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[ot?.minimumStay||"N/A"," nights min"]}),ot?.status==="reserved"&&r.jsx("div",{className:"text-xs text-teal-600 font-bold",children:"RESERVED"}),ot?.status==="blocked"&&r.jsx("div",{className:"text-xs text-red-600 font-bold",children:"BLOCKED"})]})})(),ft&&(()=>{const zt=Ht(Ve);return r.jsx("div",{className:"mt-2 relative",style:{height:"40px"},children:zt.map((nt,St)=>{const Mt=nt.isCheckInDay,ot=nt.isCheckOutDay;nt.isStaying;let It,At,dr,tr;if(ot&&!Mt)It="40px",At="0px",dr="30%",tr="0px";else if(Mt&&!ot)It="40px",At="0px",dr="70%",tr="30%";else{if(ot&&Mt)return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute bg-teal-500 flex items-center px-2",style:{left:"-6px",top:"0px",height:"40px",width:"30%",zIndex:10,borderRadius:"0 6px 6px 0"},children:r.jsx("div",{className:"flex-1"})},`${St}-checkout`),r.jsx("div",{className:"absolute bg-teal-500 flex items-center px-2",style:{left:"30%",top:"0px",height:"40px",width:"70%",zIndex:10,borderRadius:"0"},children:r.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[r.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:nt.guestName?nt.guestName.charAt(0).toUpperCase():"G"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-xs font-medium text-white truncate",children:nt.guestName}),r.jsxs("div",{className:"text-xs text-teal-100",children:[nt.guestCount," guests"]})]})]})},`${St}-checkin`)]});It="40px",At="0px",dr="100%",tr="0px"}return r.jsxs("div",{className:"absolute bg-teal-500 flex items-center px-2",style:{left:tr==="0px"?"-9px":tr,right:tr==="0px"?"-9px":"0px",top:At,height:It,width:dr,zIndex:10,borderRadius:Mt?"6px 0 0 6px":ot?"0 6px 6px 0":"0"},children:[Mt&&r.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[r.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:nt.guestName?nt.guestName.charAt(0).toUpperCase():"G"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-xs font-medium text-white truncate",children:nt.guestName}),r.jsxs("div",{className:"text-xs text-teal-100",children:[nt.guestCount," guests"]})]})]}),ot&&!Mt&&r.jsx("div",{className:"flex-1"})]},St)})})})(),r.jsx("button",{onClick:()=>oe(Ve),disabled:!et||ft||!ad(a?.role||null),className:`absolute inset-0 w-full h-full opacity-0 ${ad(a?.role||null)?"cursor-pointer disabled:cursor-not-allowed":"cursor-not-allowed"}`,title:ad(a?.role||null)?"":"Only owners can manage calendar dates"})]},at)})};return pe?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):we?r.jsxs("div",{className:"flex items-center justify-center p-8 text-red-600",children:[r.jsx(En,{className:"h-5 w-5 mr-2"}),we]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Property Calendar"}),!ad(a?.role||null)&&r.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-amber-100 text-amber-800 rounded-md text-xs",children:[r.jsx(ef,{className:"h-3 w-3"}),r.jsx("span",{children:"View Only"})]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:ad(a?.role||null)?"Manage availability and view bookings":"View availability and bookings (read-only)"})]}),r.jsx("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:r.jsx(Ba,{properties:V,selectedId:o,onChange:l})})]}),r.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[r.jsx("button",{onClick:()=>R("prev"),className:"p-3 hover:bg-gray-100 rounded-lg transition-all duration-200 border border-gray-200 hover:shadow-md",children:r.jsx(d3,{className:"h-5 w-5 text-gray-600"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:d.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),r.jsx("button",{onClick:()=>R("next"),className:"p-3 hover:bg-gray-100 rounded-lg transition-all duration-200 border border-gray-200 hover:shadow-md",children:r.jsx(u3,{className:"h-5 w-5 text-gray-600"})})]}),r.jsxs("div",{className:"bg-white rounded-lg border",children:[r.jsx("div",{className:"grid grid-cols-7 gap-1 bg-gray-100 p-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(Be=>r.jsx("div",{className:"p-3 text-center text-sm font-semibold text-gray-600 bg-white rounded-lg border border-gray-200",children:Be},Be))}),r.jsx("div",{className:"grid grid-cols-7 gap-0 bg-gray-100 p-0 rounded-lg",children:Et()})]}),r.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-6 text-sm text-gray-600 bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-green-50 border border-green-300 rounded mr-2"}),r.jsx("span",{className:"font-medium text-gray-700",children:"Booked"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-red-50 border border-red-300 rounded mr-2"}),r.jsx("span",{className:"font-medium text-gray-700",children:"Blocked"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-white border border-gray-300 rounded mr-2"}),r.jsx("span",{className:"font-medium text-gray-700",children:"Available"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-teal-100 border border-teal-300 rounded mr-2"}),r.jsx("span",{className:"font-medium text-gray-700",children:"Guest Details"})]})]}),h&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Selected: ",h.start," to ",h.end]}),r.jsx("p",{className:"text-xs text-blue-700",children:"Click to block or unblock these dates"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:$,disabled:p,className:"btn-primary btn-sm",children:[p?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(Ln,{className:"h-4 w-4 mr-1"}),"Block Dates"]}),r.jsxs("button",{onClick:fe,disabled:p,className:"btn-outline btn-sm",children:[p?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}):r.jsx(Lo,{className:"h-4 w-4 mr-1"}),"Unblock Dates"]}),r.jsx("button",{onClick:()=>g(null),className:"text-blue-600 hover:text-blue-800",children:"Cancel"})]})]})}),j&&k&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Manage Date"}),r.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ln,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Selected Date:"}),r.jsx("p",{className:"text-lg font-medium text-gray-900",children:k.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),D?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"Loading date data..."})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Date Status:"}),r.jsx("div",{className:"flex items-center space-x-2",children:C?.status==="unavailable"||Xe(k)?r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[r.jsx(Ln,{className:"h-3 w-3 mr-1"}),"Blocked"]}):Oe(k)?r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:[r.jsx(Lo,{className:"h-3 w-3 mr-1"}),"Booked"]}):r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx(Lo,{className:"h-3 w-3 mr-1"}),"Available"]})})]}),r.jsxs("div",{className:"mb-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(xa,{className:"h-4 w-4 text-gray-500 mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Price per night:"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:C?.price?`${C.price}`:"Not set"}),r.jsx("button",{onClick:()=>X(!F),className:"text-blue-600 hover:text-blue-800",children:r.jsx(To,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Do,{className:"h-4 w-4 text-gray-500 mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Minimum stay:"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:C?.minimumStay?`${C.minimumStay} nights`:"Not set"}),r.jsx("button",{onClick:()=>X(!F),className:"text-blue-600 hover:text-blue-800",children:r.jsx(To,{className:"h-4 w-4"})})]})]})]}),F&&r.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Edit Date Settings"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-blue-700 mb-1",children:"Price per night ()"}),r.jsx("input",{type:"number",value:ue,onChange:Be=>le(Number(Be.target.value)),className:"w-full px-3 py-2 border border-blue-200 rounded-md text-sm",placeholder:"Enter price"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-blue-700 mb-1",children:"Minimum stay (nights)"}),r.jsx("input",{type:"number",value:ie,onChange:Be=>ee(Number(Be.target.value)),className:"w-full px-3 py-2 border border-blue-200 rounded-md text-sm",placeholder:"Enter minimum nights",min:"1"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:Te,disabled:p,className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-md text-sm hover:bg-blue-700 disabled:opacity-50",children:p?"Updating...":"Update Price"}),r.jsx("button",{onClick:ge,disabled:p,className:"flex-1 bg-green-600 text-white px-3 py-2 rounded-md text-sm hover:bg-green-700 disabled:opacity-50",children:p?"Updating...":"Update Min Stay"})]})]})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[!Oe(k)&&r.jsx(r.Fragment,{children:Xe(k)?r.jsx("button",{onClick:Se,disabled:p,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:p?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsxs(r.Fragment,{children:[r.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Unblock Date"]})}):r.jsx("button",{onClick:ke,disabled:p,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:p?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsxs(r.Fragment,{children:[r.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Block Date"]})})}),r.jsx("button",{onClick:()=>y(!1),className:"flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300",children:"Close"})]}),Oe(k)&&r.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-blue-800",children:"This date is booked and cannot be blocked or unblocked."})})]})]})})]})},I8=()=>{const e=Ls(),[t]=Cd(),[s,a]=q.useState({propertyId:void 0,startDate:void 0,endDate:void 0});return q.useEffect(()=>{e(wd())},[e]),q.useEffect(()=>{const o=t.get("propertyId"),l=t.get("startDate"),d=t.get("endDate"),u=t.get("period");(o||l||d)&&a({propertyId:o?parseInt(o):void 0,startDate:l||void 0,endDate:d||void 0}),u&&console.log(`Applied ${u==="thisMonth"?"this month":u==="lastMonth"?"last month":u} calendar filters for property ${o}`)},[t]),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Property Calendar"}),r.jsxs("p",{className:"text-slate-400 mt-2",children:["Manage your property availability and view bookings",s.propertyId&&` for Property ${s.propertyId}`]})]}),r.jsx("div",{children:r.jsx(F8,{propertyId:s.propertyId})})]})},T8=({propertyId:e,month:t})=>{const[s,a]=q.useState(null),[o,l]=q.useState(!1),[d,u]=q.useState(null),{token:h}=Ot(b=>b.auth),g=async()=>{if(!(!t||!h)){l(!0),u(null);try{const b=await fetch(`/api/performance/${e}?month=${t}`,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(!b.ok){const y=await b.text();throw console.error("Performance API error:",b.status,y),new Error(`Failed to fetch performance data: ${b.status}`)}const j=await b.json();a(j)}catch(b){console.error("Performance fetch error:",b),u(b.message||"Failed to fetch performance data")}finally{l(!1)}}},p=()=>{g()};return q.useEffect(()=>{t&&g()},[e,t]),{performanceData:s,isLoading:o,error:d,refreshData:p}},R8=({propertyId:e,month:t})=>{const[s,a]=q.useState(e||392776),[o,l]=q.useState(t||new Date().toISOString().slice(0,7)),d=Ot(k=>k.propertyManagement.properties),{token:u}=Ot(k=>k.auth),{performanceData:h,isLoading:g,error:p,refreshData:b}=T8({propertyId:s||392776,month:o}),j=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(k),y=()=>{const k=[],S=new Date;for(let C=0;C<12;C++){const L=new Date(S.getFullYear(),S.getMonth()-C,1),D=L.toISOString().slice(0,7),_=L.toLocaleDateString("en-US",{month:"long",year:"numeric"});k.push({value:D,label:_})}return k};return g?r.jsx("div",{className:"bg-white rounded-lg border p-6",children:r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):p?r.jsx("div",{className:"bg-white rounded-lg border p-6",children:r.jsxs("div",{className:"text-center text-red-600",children:[r.jsx("p",{className:"font-medium",children:"Error loading performance data"}),r.jsx("p",{className:"text-sm",children:p}),r.jsx("button",{onClick:b,className:"mt-2 text-blue-600 hover:text-blue-800 underline",children:"Try again"})]})}):h?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Performance"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Revenue, commission, and payout overview"})]}),r.jsxs("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[r.jsx(Ba,{properties:d,selectedId:s,onChange:a}),r.jsx("select",{value:o,onChange:k=>l(k.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:y().map(k=>r.jsx("option",{value:k.value,children:k.label},k.value))}),r.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 rounded-lg",title:"Refresh data",children:r.jsx(Dr,{className:"h-5 w-5"})})]})]}),h?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg border p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Gross Revenue"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j(h.grossRevenue)})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(f3,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-lg border p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Commission"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j(h.commissionTotal)}),r.jsxs("p",{className:"text-sm text-gray-500",children:[h.commissionPercent,"% of gross"]})]}),r.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:r.jsx(bu,{className:"h-6 w-6 text-orange-600"})})]})}),r.jsx("div",{className:"bg-white rounded-lg border p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cleaning Fees"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j(h.cleaningFees)}),r.jsx("p",{className:"text-sm text-gray-500",children:"Deducted from gross"})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(gi,{className:"h-6 w-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-lg border p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Net Payout"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:j(h.netPayout)}),r.jsx("p",{className:"text-sm text-gray-500",children:"Your earnings"})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(mi,{className:"h-6 w-6 text-green-600"})})]})})]}),r.jsx("div",{className:"grid grid-cols-1 gap-6",children:r.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Breakdown"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Gross Revenue"}),r.jsx("span",{className:"font-medium",children:j(h.grossRevenue)})]}),r.jsxs("div",{className:"flex justify-between items-center text-red-600",children:[r.jsxs("span",{children:["Commission (",h.commissionPercent,"%)"]}),r.jsxs("span",{className:"font-medium",children:["-",j(h.commissionTotal)]})]}),r.jsxs("div",{className:"flex justify-between items-center text-red-600",children:[r.jsx("span",{children:"Cleaning Fees"}),r.jsxs("span",{className:"font-medium",children:["-",j(h.cleaningFees)]})]}),r.jsxs("div",{className:"border-t pt-3 flex justify-between items-center font-bold text-lg",children:[r.jsx("span",{children:"Net Payout"}),r.jsx("span",{className:"text-green-600",children:j(h.netPayout)})]})]})]})})]}):r.jsxs("div",{className:"bg-white rounded-lg border p-6 text-center text-gray-500",children:[r.jsx(Ns,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No performance data available for the selected month"})]})]}):r.jsx("div",{className:"bg-white rounded-lg border p-6",children:r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx("p",{className:"font-medium",children:"No performance data available"}),r.jsx("p",{className:"text-sm",children:"Select a property and month to view performance metrics"})]})})})},O8=()=>{const{propertyId:e}=S0(),[t]=Cd(),[s,a]=q.useState({propertyId:e?parseInt(e):void 0,month:void 0}),[o,l]=q.useState(null);return q.useEffect(()=>{const d=t.get("startDate");t.get("endDate");const u=t.get("period");if(d){const g=new Date(d).toISOString().slice(0,7);a({propertyId:e?parseInt(e):void 0,month:g})}if(u){const h=u==="thisMonth"?"this month":u==="lastMonth"?"last month":u;console.log(`Applied ${h} performance filters for property ${e}`),l({propertyId:e?parseInt(e):void 0,period:h,month:d?new Date(d).toISOString().slice(0,7):void 0})}},[t,e]),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Property Performance"}),r.jsxs("p",{className:"text-slate-400 mt-2",children:["Track your monthly performance metrics and revenue breakdown",e&&` for Property ${e}`]}),o&&r.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("span",{className:"text-sm text-blue-700 font-medium",children:["Showing ",o.period," data",o.propertyId&&` for Property ${o.propertyId}`,o.month&&` (${o.month})`]})]})})]}),r.jsx("div",{children:r.jsx(R8,{propertyId:s.propertyId,month:s.month})})]})},M8=()=>{Ls();const[e,t]=q.useState([]),[s,a]=q.useState("2025-01"),[o,l]=q.useState(null),[d,u]=q.useState(null),[h,g]=q.useState(!0),[p,b]=q.useState("overview"),{properties:j,isLoading:y}=Ot(D=>D.propertyManagement),{token:k}=Ot(D=>D.auth);q.useEffect(()=>{S()},[e,s]);const S=async()=>{if(k){g(!0);try{const D=await fetch(`/api/portfolio/overview?propertyIds=${e.join(",")}&month=${s}`,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}});if(D.ok){const F=await D.json();l(F)}const _=await fetch(`/api/portfolio/trends?propertyIds=${e.join(",")}&months=2024-12,2025-01,2025-02`,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}});if(_.ok){const F=await _.json();u(F)}}catch(D){console.error("Error fetching portfolio data:",D)}finally{g(!1)}}},C=D=>new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}).format(D),L=D=>D==null?"0.0%":`${D>=0?"+":""}${D.toFixed(1)}%`;return h?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dr,{className:"h-12 w-12 animate-spin text-primary-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading portfolio data..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Portfolio Management"}),r.jsx("p",{className:"text-slate-400 mt-1",children:"Multi-property performance overview and analytics"})]}),r.jsxs("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[r.jsxs("button",{className:"btn-outline btn-sm",children:[r.jsx(_l,{className:"h-4 w-4 mr-2"}),"Export Report"]}),r.jsxs("button",{onClick:S,className:"btn-primary btn-sm",disabled:h,children:[r.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Properties"}),r.jsx(Ba,{properties:j,selectedId:e[0],onChange:D=>t(D?[D]:[]),placeholder:"Select Properties"})]}),r.jsxs("div",{className:"w-full lg:w-48",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),r.jsx("input",{type:"month",value:s,onChange:D=>a(D.target.value),className:"input"})]})]})})}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",name:"Overview",icon:Tu},{id:"trends",name:"Trends",icon:mi},{id:"comparison",name:"Comparison",icon:c3}].map(D=>{const _=D.icon;return r.jsxs("button",{onClick:()=>b(D.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${p===D.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(_,{className:"h-4 w-4 mr-2"}),D.name]},D.id)})})}),p==="overview"&&r.jsx("div",{className:"space-y-6",children:o?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:r.jsx(xa,{className:"h-4 w-4 text-primary-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C(o.totalRevenue||0)}),r.jsxs("div",{className:"flex items-center mt-1",children:[(o.revenueGrowth||0)>=0?r.jsx(mi,{className:"h-4 w-4 text-green-500 mr-1"}):r.jsx(bu,{className:"h-4 w-4 text-red-500 mr-1"}),r.jsx("span",{className:`text-sm ${(o.revenueGrowth||0)>=0?"text-green-600":"text-red-600"}`,children:L(o.revenueGrowth)})]})]})]})})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-success-100 rounded-full flex items-center justify-center",children:r.jsx(Ns,{className:"h-4 w-4 text-success-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Bookings"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalBookings||0}),r.jsxs("p",{className:"text-sm text-gray-500",children:[o.totalNights||0," nights"]})]})]})})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-warning-100 rounded-full flex items-center justify-center",children:r.jsx(Jn,{className:"h-4 w-4 text-warning-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Occupancy"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(o.averageOccupancy||0).toFixed(1),"%"]}),r.jsxs("div",{className:"flex items-center mt-1",children:[(o.occupancyGrowth||0)>=0?r.jsx(mi,{className:"h-4 w-4 text-green-500 mr-1"}):r.jsx(bu,{className:"h-4 w-4 text-red-500 mr-1"}),r.jsx("span",{className:`text-sm ${(o.occupancyGrowth||0)>=0?"text-green-600":"text-red-600"}`,children:L(o.occupancyGrowth)})]})]})]})})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(xa,{className:"h-4 w-4 text-purple-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Daily Rate"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C(o.averageDailyRate||0)})]})]})})})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Property Performance"})}),r.jsx("div",{className:"card-content",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Property"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Revenue"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Bookings"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Occupancy"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"ADR"}),r.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),r.jsx("tbody",{children:(o.properties||[]).map(D=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-4 px-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Jn,{className:"h-4 w-4 text-gray-400 mr-2"}),r.jsx("span",{className:"font-medium text-gray-900",children:D.name})]})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"font-medium text-gray-900",children:C(D.revenue||0)})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"text-gray-900",children:D.bookings||0})}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("span",{className:"text-gray-900",children:[(D.occupancy||0).toFixed(1),"%"]})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"text-gray-900",children:C(D.adr||0)})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("div",{className:"flex items-center justify-end space-x-2",children:r.jsx("button",{className:"p-1 text-blue-400 hover:text-blue-600",title:"View Details",children:r.jsx(Oa,{className:"h-4 w-4"})})})})]},D.id))})]})})})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 mb-4",children:r.jsx(Jn,{className:"h-12 w-12 mx-auto"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Portfolio Data"}),r.jsx("p",{className:"text-gray-500",children:"Select a property and month to view portfolio metrics."})]})}),p==="trends"&&d&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Monthly Trends"})}),r.jsx("div",{className:"card-content",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Month"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Revenue"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Bookings"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Occupancy"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"ADR"})]})}),r.jsx("tbody",{children:(d.monthlyData||[]).map((D,_)=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"font-medium text-gray-900",children:D.month})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"font-medium text-gray-900",children:C(D.revenue||0)})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"text-gray-900",children:D.bookings||0})}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("span",{className:"text-gray-900",children:[(D.occupancy||0).toFixed(1),"%"]})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"text-gray-900",children:C(D.adr||0)})})]},D.month))})]})})})]})}),p==="comparison"&&d&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Property Comparison"})}),r.jsx("div",{className:"card-content",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(d.propertyComparison||[]).map(D=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:D.propertyName}),r.jsxs("div",{className:"flex items-center",children:[D.trend==="up"&&r.jsx(mi,{className:"h-4 w-4 text-green-500"}),D.trend==="down"&&r.jsx(bu,{className:"h-4 w-4 text-red-500"}),D.trend==="stable"&&r.jsx("div",{className:"h-4 w-4 bg-gray-400 rounded-full"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Performance Score"}),r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[(D.performance||0).toFixed(1),"/10"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${(D.performance||0)/10*100}%`}})})]})]},D.propertyId))})})]})})]})},B8=()=>{const[e,t]=q.useState([]),[s,a]=q.useState(null),[o,l]=q.useState(!0),[d,u]=q.useState(392776),[h,g]=q.useState(""),[p,b]=q.useState(""),[j,y]=q.useState(""),[k,S]=q.useState(""),[C,L]=q.useState(!1),[D,_]=q.useState(null),[F,X]=q.useState("all"),{properties:ue}=Ot(V=>V.properties),{token:le,user:ie}=Ot(V=>V.auth);q.useEffect(()=>{ee()},[d,h,j,k]);const ee=async()=>{if(!(!le||!d)){l(!0);try{const V=new URLSearchParams;V.append("propertyId",d.toString()),h&&V.append("status",h),j&&V.append("startDate",j),k&&V.append("endDate",k);const Z=await fetch(`/api/credit-notes?${V.toString()}`,{headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"}});if(Z.ok){const pe=await Z.json();t(pe.creditNotes||[]);const we=pe.creditNotes?.filter(oe=>oe.status==="pending").length||0,J=pe.creditNotes?.filter(oe=>oe.status==="approved").length||0,E=pe.creditNotes?.filter(oe=>oe.status==="rejected").length||0,R=pe.creditNotes?.reduce((oe,$)=>oe+$.amount,0)||0,G=pe.creditNotes?.filter(oe=>oe.status==="pending").reduce((oe,$)=>oe+$.amount,0)||0;a({totalPending:we,totalApproved:J,totalRejected:E,totalAmount:R,pendingAmount:G})}}catch(V){console.error("Error fetching credit notes:",V)}finally{l(!1)}}},me=async V=>{if(le)try{(await fetch(`/api/credit-notes/${V}/approve`,{method:"POST",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"}})).ok&&(ee(),L(!1))}catch(Z){console.error("Error approving credit note:",Z)}},O=async(V,Z)=>{if(le)try{(await fetch(`/api/credit-notes/${V}/reject`,{method:"POST",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"},body:JSON.stringify({reason:Z})})).ok&&(ee(),L(!1))}catch(pe){console.error("Error rejecting credit note:",pe)}},B=V=>new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}).format(V),te=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),re=V=>{const Z=new Date;switch(V){case"7d":return new Date(Z.getTime()-10080*60*1e3).toISOString().split("T")[0];case"30d":return new Date(Z.getTime()-720*60*60*1e3).toISOString().split("T")[0];case"90d":return new Date(Z.getTime()-2160*60*60*1e3).toISOString().split("T")[0];case"1y":return new Date(Z.getFullYear()-1,Z.getMonth(),Z.getDate()).toISOString().split("T")[0];default:return new Date(Z.getTime()-720*60*60*1e3).toISOString().split("T")[0]}},H=V=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",processed:"bg-blue-100 text-blue-800"})[V]||"bg-gray-100 text-gray-800",K=e.filter(V=>{const Z=p===""||V.guestName.toLowerCase().includes(p.toLowerCase())||V.bookingId.toLowerCase().includes(p.toLowerCase()),pe=F==="all"||V.status===F;return Z&&pe});return o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dr,{className:"h-12 w-12 animate-spin text-primary-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading credit notes..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Credit Notes"}),r.jsx("p",{className:"text-slate-400 mt-1",children:"Manage credit note requests and approvals"})]}),r.jsx("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:r.jsxs("button",{className:"btn-outline btn-sm",children:[r.jsx(_l,{className:"h-4 w-4 mr-2"}),"Export"]})})]}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property"}),r.jsx(Ba,{properties:ue,selectedId:d,onChange:u,placeholder:"Select Property"})]}),r.jsxs("div",{className:"w-full lg:w-48",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:h,onChange:V=>g(V.target.value),className:"input",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"processed",children:"Processed"})]})]}),r.jsxs("div",{className:"w-full lg:w-40",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),r.jsx("input",{type:"date",value:j,onChange:V=>y(V.target.value),className:"input"})]}),r.jsxs("div",{className:"w-full lg:w-40",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),r.jsx("input",{type:"date",value:k,onChange:V=>S(V.target.value),className:"input"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(O0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",value:p,onChange:V=>b(V.target.value),placeholder:"Search by guest name or booking ID...",className:"input pl-10"})]})]}),r.jsxs("div",{className:"flex items-end space-x-2",children:[r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("button",{onClick:()=>{y(re("7d")),S(new Date().toISOString().split("T")[0])},className:"btn-outline btn-xs",children:"7D"}),r.jsx("button",{onClick:()=>{y(re("30d")),S(new Date().toISOString().split("T")[0])},className:"btn-outline btn-xs",children:"30D"}),r.jsx("button",{onClick:()=>{y(re("90d")),S(new Date().toISOString().split("T")[0])},className:"btn-outline btn-xs",children:"90D"}),r.jsx("button",{onClick:()=>{y(re("1y")),S(new Date().toISOString().split("T")[0])},className:"btn-outline btn-xs",children:"1Y"})]}),r.jsxs("button",{onClick:()=>{y(""),S(""),g(""),b("")},className:"btn-outline btn-sm",children:[r.jsx(Ru,{className:"h-4 w-4 mr-2"}),"Clear"]})]})]})})}),s&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx(Do,{className:"h-4 w-4 text-yellow-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalPending}),r.jsx("p",{className:"text-sm text-gray-500",children:B(s.pendingAmount)})]})]})})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Lo,{className:"h-4 w-4 text-green-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalApproved})]})]})})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(Ln,{className:"h-4 w-4 text-red-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalRejected})]})]})})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(xa,{className:"h-4 w-4 text-blue-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B(s.totalAmount)})]})]})})})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"all",name:"All Credit Notes",count:e.length},{id:"pending",name:"Pending",count:s?.totalPending||0},{id:"approved",name:"Approved",count:s?.totalApproved||0},{id:"rejected",name:"Rejected",count:s?.totalRejected||0}].map(V=>r.jsxs("button",{onClick:()=>X(V.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${F===V.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[V.name,V.count>0&&r.jsx("span",{className:"ml-2 bg-gray-100 text-gray-600 text-xs px-2 py-0.5 rounded-full",children:V.count})]},V.id))})}),r.jsx("div",{className:"space-y-4",children:K.map(V=>r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${H(V.status)}`,children:V.status}),r.jsxs("span",{className:"text-sm text-gray-500",children:["#",V.bookingId]}),r.jsx("span",{className:"text-sm text-gray-500",children:""}),r.jsx("span",{className:"text-sm text-gray-500",children:te(V.requestedDate)})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:V.guestName}),r.jsx("p",{className:"text-gray-700 mb-2",children:V.reason}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(xa,{className:"h-4 w-4 mr-1"}),B(V.amount)]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(pi,{className:"h-4 w-4 mr-1"}),V.requestedBy]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Jn,{className:"h-4 w-4 mr-1"}),V.propertyName]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsxs("button",{onClick:()=>{_(V),L(!0)},className:"btn-outline btn-sm",children:[r.jsx(Oa,{className:"h-4 w-4 mr-2"}),"View Details"]}),V.status==="pending"&&ie?.role&&(Gx(ie.role)||Kx(ie.role))&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>me(V.id),className:"btn-success btn-sm",children:[r.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Approve"]}),r.jsxs("button",{onClick:()=>O(V.id,"Rejected by manager"),className:"btn-danger btn-sm",children:[r.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})]})})},V.id))}),K.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx($2,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No credit notes found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"No credit notes are currently available for this property."}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Note:"})," Credit notes are fetched from the Hostkit API. If you need to create credit notes, please use the Hostkit system directly."]})})]}),C&&D&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Credit Note Details"}),r.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ln,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${H(D.status)}`,children:D.status}),r.jsxs("span",{className:"text-sm text-gray-500",children:["#",D.bookingId]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B(D.amount)}),r.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount"})]})]}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:D.guestName}),r.jsx("p",{className:"text-gray-700",children:D.reason})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credit Note ID"}),r.jsx("p",{className:"text-sm text-gray-900",children:D.id})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking ID"}),r.jsx("p",{className:"text-sm text-gray-900",children:D.bookingId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property"}),r.jsx("p",{className:"text-sm text-gray-900",children:D.propertyName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),r.jsx("p",{className:"text-sm text-gray-900 font-semibold",children:B(D.amount)})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${H(D.status)}`,children:D.status})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requested By"}),r.jsx("p",{className:"text-sm text-gray-900",children:D.requestedBy})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requested Date"}),r.jsx("p",{className:"text-sm text-gray-900",children:te(D.requestedDate)})]}),D.approvedBy&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approved By"}),r.jsx("p",{className:"text-sm text-gray-900",children:D.approvedBy})]}),D.approvedDate&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approved Date"}),r.jsx("p",{className:"text-sm text-gray-900",children:te(D.approvedDate)})]})]})]}),D.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:r.jsx("p",{className:"text-sm text-gray-900",children:D.notes})})]}),D.invoiceId&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Invoice ID"}),r.jsx("p",{className:"text-sm text-gray-900",children:D.invoiceId})]}),D.creditNoteUrl&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Credit Note URL"}),r.jsxs("a",{href:D.creditNoteUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[r.jsx(Oa,{className:"h-4 w-4 mr-2"}),"View Credit Note"]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-8 pt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Close"}),D.status==="pending"&&ie?.role&&(Gx(ie.role)||Kx(ie.role))&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>me(D.id),className:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md transition-colors",children:[r.jsx(Lo,{className:"h-4 w-4 mr-2 inline"}),"Approve"]}),r.jsxs("button",{onClick:()=>O(D.id,"Rejected by manager"),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors",children:[r.jsx(Ln,{className:"h-4 w-4 mr-2 inline"}),"Reject"]})]})]})]})})})]})},U8=()=>r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50/30",children:r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 p-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Expenses"}),r.jsx("p",{className:"text-gray-600",children:"Expenses management coming soon..."})]})})}),z8=()=>{const[e,t]=q.useState([]),[s,a]=q.useState(null),[o,l]=q.useState(!1),[d,u]=q.useState(392776),[h,g]=q.useState(""),[p,b]=q.useState("all"),[j,y]=q.useState(!1),[k,S]=q.useState(null),[C,L]=q.useState(""),[D,_]=q.useState(!1),[F,X]=q.useState([]),{properties:ue}=Ot(V=>V.properties),{token:le,user:ie}=Ot(V=>V.auth);q.useEffect(()=>{ee(),me()},[d,h]);const ee=async()=>{if(!(!le||!d)){l(!0);try{const V=await fetch(`/api/reviews/${d}`,{headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"}}),Z=await fetch(`/api/reviews/${d}/stats`,{headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"}});if(V.ok&&Z.ok){const pe=await V.json(),we=await Z.json();console.log("Reviews API Response:",pe),console.log("Stats API Response:",we);let J=pe||[];if(h){const ke=new Date;let Se;switch(h){case"last7":Se=new Date(ke.getTime()-10080*60*1e3);break;case"last30":Se=new Date(ke.getTime()-720*60*60*1e3);break;case"last60":Se=new Date(ke.getTime()-1440*60*60*1e3);break;default:Se=new Date(0)}const Te=J.length;J=J.filter(ge=>new Date(ge.reviewDate)>=Se),console.log(`Date filter "${h}": ${Te} -> ${J.length} reviews`)}t(J);const E=J.length,R=E>0?J.reduce((ke,Se)=>ke+Se.rating,0)/E:we.averageRating||0,G=[5,4,3,2,1].map(ke=>{const Se=J.filter(Te=>Te.rating===ke).length;return{rating:ke,count:Se,percentage:E>0?Se/E*100:0}}),oe=["Airbnb","Booking.com","VRBO"].map(ke=>{const Se=J.filter(De=>De.platform===ke),Te=Se.length,ge=Te>0?Se.reduce((De,Xe)=>De+Xe.rating,0)/Te:0;return{platform:ke,count:Te,averageRating:ge}}).filter(ke=>ke.count>0),$=J.filter(ke=>ke.responseText).length,fe=E>0?$/E*100:0;a({averageRating:R,totalReviews:E,ratingDistribution:G,platformBreakdown:oe,recentTrend:"up",responseRate:fe})}else console.error("Failed to fetch reviews or stats"),t([]),a({averageRating:0,totalReviews:0,ratingDistribution:[],platformBreakdown:[],recentTrend:"stable",responseRate:0})}catch(V){console.error("Error fetching reviews:",V),t([]),a({averageRating:0,totalReviews:0,ratingDistribution:[],platformBreakdown:[],recentTrend:"stable",responseRate:0})}finally{l(!1)}}},me=async()=>{if(le)try{const V=await fetch("/api/property-mappings",{headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"}});if(V.ok){const Z=await V.json();X(Z.mappings||[])}}catch(V){console.error("Error fetching property mappings:",V)}},O=async()=>{if(!(!le||!d)){l(!0);try{const V=await fetch(`/api/reviews/${d}/sync`,{method:"POST",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"}});if(V.ok){const Z=await V.json();alert(`Successfully synced ${Z.syncedCount} reviews!`),ee()}else{const Z=await V.json();alert(`Failed to sync reviews: ${Z.message||"Unknown error"}`)}}catch(V){console.error("Error syncing reviews:",V),alert("Error syncing reviews. Please try again.")}finally{l(!1)}}},B=async()=>{if(!(!k||!C.trim()||!le))try{const V=await fetch(`/api/reviews/${k.reviewId}/response`,{method:"POST",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"},body:JSON.stringify({responseText:C})});if(V.ok)y(!1),L(""),S(null),ee(),alert("Response submitted successfully!");else{const Z=await V.json();alert(`Failed to submit response: ${Z.message||"Unknown error"}`)}}catch(V){console.error("Error submitting response:",V),alert("Error submitting response. Please try again.")}},te=V=>Array.from({length:5},(Z,pe)=>r.jsx(tf,{className:`h-4 w-4 ${pe<V?"text-yellow-400 fill-current":"text-gray-300"}`},pe)),re=V=>V>=4.5?"text-green-600":V>=3.5?"text-yellow-600":V>=2.5?"text-orange-600":"text-red-600",H=V=>({airbnb:"bg-pink-100 text-pink-800","booking.com":"bg-blue-100 text-blue-800",vrbo:"bg-purple-100 text-purple-800"})[V]||"bg-gray-100 text-gray-800",K=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dr,{className:"h-12 w-12 animate-spin text-primary-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading reviews..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Reviews & Ratings"}),r.jsx("p",{className:"text-slate-400 mt-1",children:"Manage guest reviews and maintain your reputation"})]})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property"}),r.jsx(Ba,{properties:ue,selectedId:d,onChange:u,placeholder:"Select Property"})]}),r.jsxs("div",{className:"w-full lg:w-48",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Filter"}),r.jsxs("select",{value:h,onChange:V=>g(V.target.value),className:"input text-sm",children:[r.jsx("option",{value:"",children:"All Time"}),r.jsx("option",{value:"last7",children:"Last 7 Days"}),r.jsx("option",{value:"last30",children:"Last 30 Days"}),r.jsx("option",{value:"last60",children:"Last 60 Days"})]})]})]})})}),s&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx(tf,{className:"h-4 w-4 text-yellow-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Rating"}),r.jsx("p",{className:`text-2xl font-bold ${re(s.averageRating)}`,children:(s.averageRating||0).toFixed(1)}),r.jsx("div",{className:"flex items-center mt-1",children:te(Math.round(s.averageRating))})]})]})})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(rp,{className:"h-4 w-4 text-blue-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Reviews"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalReviews})]})]})})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(sp,{className:"h-4 w-4 text-green-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Response Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(s.responseRate||0).toFixed(0),"%"]})]})]})})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.recentTrend==="up"?r.jsx(mi,{className:"h-4 w-4 text-green-600"}):s.recentTrend==="down"?r.jsx(bu,{className:"h-4 w-4 text-red-600"}):r.jsx(Tu,{className:"h-4 w-4 text-gray-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Trend"}),r.jsx("p",{className:"text-lg font-bold text-gray-900 capitalize",children:s.recentTrend})]})]})})})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"all",name:"All Reviews",icon:rp},{id:"unresponded",name:"Unresponded",icon:sp},{id:"analytics",name:"Analytics",icon:Tu}].map(V=>{const Z=V.icon;return r.jsxs("button",{onClick:()=>b(V.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${p===V.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Z,{className:"h-4 w-4 mr-2"}),V.name,V.id==="unresponded"&&r.jsx("span",{className:"ml-2 bg-red-100 text-red-600 text-xs px-2 py-0.5 rounded-full",children:e.filter(pe=>!pe.responseText).length})]},V.id)})})}),(p==="all"||p==="unresponded")&&r.jsx("div",{className:"space-y-4",children:e.filter(V=>p==="all"||!V.responseText).length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 mb-4",children:r.jsx(rp,{className:"h-12 w-12 mx-auto"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:h?`No reviews found for the selected time period (${h==="last7"?"Last 7 days":h==="last30"?"Last 30 days":"Last 60 days"}). Try selecting "All Time" to see all reviews.`:d?"This property has no reviews yet.":"No reviews match your current filters."}),r.jsxs("div",{className:"space-x-3",children:[r.jsx("button",{onClick:()=>g(""),className:"btn-secondary",children:"Show All Time"}),r.jsx("button",{onClick:O,className:"btn-primary",children:"Sync Reviews"})]})]}):e.filter(V=>p==="all"||!V.responseText).map(V=>r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("div",{className:"flex items-center",children:te(V.rating)}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${H(V.platform)}`,children:V.platform}),V.isVerified&&r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Verified"})]}),r.jsx("p",{className:"text-gray-700 mb-4",children:V.reviewText}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(pi,{className:"h-4 w-4 mr-1"}),V.guestName]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ns,{className:"h-4 w-4 mr-1"}),K(V.reviewDate)]})]}),V.responseText&&r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Your Response"}),r.jsx("span",{className:"text-xs text-gray-500",children:K(V.responseDate)})]}),r.jsx("p",{className:"text-gray-700",children:V.responseText})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[!V.responseText&&r.jsxs("button",{onClick:()=>{S(V),y(!0)},className:"btn-primary btn-sm",children:[r.jsx(sp,{className:"h-4 w-4 mr-2"}),"Respond"]}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",title:"View Details",children:r.jsx(Oa,{className:"h-4 w-4"})}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",title:"Flag Review",children:r.jsx(m3,{className:"h-4 w-4"})})]})]})})},V._id))}),p==="analytics"&&s&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Rating Distribution"})}),r.jsx("div",{className:"card-content",children:r.jsx("div",{className:"space-y-3",children:s.ratingDistribution.map(({rating:V,count:Z,percentage:pe})=>r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"flex items-center w-16",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:V}),r.jsx(tf,{className:"h-4 w-4 text-yellow-400 fill-current ml-1"})]}),r.jsx("div",{className:"flex-1 mx-4",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${pe}%`}})})}),r.jsxs("div",{className:"flex items-center space-x-2 w-20",children:[r.jsx("span",{className:"text-sm text-gray-600",children:Z}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",(pe||0).toFixed(0),"%)"]})]})]},V))})})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Platform Performance"})}),r.jsx("div",{className:"card-content",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.platformBreakdown.map(({platform:V,count:Z,averageRating:pe})=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${H(V)}`,children:V}),r.jsx("div",{className:"flex items-center",children:te(Math.round(pe))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Reviews"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:Z})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Average"}),r.jsx("span",{className:`text-sm font-medium ${re(pe)}`,children:(pe||0).toFixed(1)})]})]})]},V))})})]})]}),j&&k&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Respond to Review"}),r.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),r.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[te(k.rating),r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["by ",k.guestName]})]}),r.jsx("p",{className:"text-sm text-gray-700",children:k.reviewText})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Response"}),r.jsx("textarea",{value:C,onChange:V=>L(V.target.value),className:"input",rows:4,placeholder:"Write a professional response to this review...",required:!0})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[r.jsx("button",{onClick:()=>y(!1),className:"btn-outline btn-sm",children:"Cancel"}),r.jsx("button",{onClick:B,className:"btn-primary btn-sm",disabled:!C.trim(),children:"Submit Response"})]})]})]})})}),D&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-4/5 max-w-4xl shadow-lg rounded-md bg-white",children:r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"API Integration Settings"}),r.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Environment Variables Required"}),r.jsxs("div",{className:"space-y-2 text-xs text-blue-800",children:[r.jsxs("div",{children:[r.jsx("code",{children:"HOSTAWAY_TOKEN"})," - Your Hostaway API token (already configured)"]}),r.jsxs("div",{children:[r.jsx("code",{children:"HOSTAWAY_ACCOUNT_ID"})," - Your Hostaway account ID (already configured)"]}),r.jsxs("div",{children:[r.jsx("code",{children:"HOSTAWAY_API_BASE"})," - Hostaway API base URL (already configured)"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Property Mappings"}),r.jsx("div",{className:"space-y-3",children:F.map(V=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h5",{className:"font-medium text-gray-900",children:V.propertyName}),r.jsxs("span",{className:"text-xs text-gray-500",children:["ID: ",V.internalId]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hostaway Property ID"}),r.jsx("input",{type:"text",value:V.platformMappings.hostaway||"",className:"w-full text-xs border border-gray-300 rounded px-2 py-1",placeholder:"Hostaway property ID (e.g., 392776)"})]})})]},V.internalId))})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"API Status"}),r.jsxs("div",{className:"space-y-2 text-xs text-green-800",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Hostaway:"}),"  Already configured and ready to use"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Reviews API:"}),"  Connected to Hostaway Reviews endpoints"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Response API:"}),"  Can post responses to reviews"]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[r.jsx("button",{onClick:()=>_(!1),className:"btn-outline btn-sm",children:"Close"}),r.jsx("button",{onClick:()=>{alert("Property mappings updated! (This would save to database in production)"),_(!1)},className:"btn-primary btn-sm",children:"Save Changes"})]})]})})})]})},q8=()=>{const[e,t]=q.useState([]),[s,a]=q.useState(""),[o,l]=q.useState(""),[d,u]=q.useState(""),[h,g]=q.useState(25),[p,b]=q.useState(!1),[j,y]=q.useState(""),[k,S]=q.useState(null);q.useEffect(()=>{const _=new Date,F=new Date(_.getFullYear(),_.getMonth(),1),X=new Date(_.getFullYear(),_.getMonth()+1,0);l(F.toISOString().split("T")[0]),u(X.toISOString().split("T")[0])},[]),q.useEffect(()=>{(async()=>{try{const F=await $0();t(F.properties||[])}catch(F){console.error("Error fetching properties:",F),y("Failed to fetch properties")}})()},[]);const C=async()=>{if(!s||!o||!d){y("Please select property and date range");return}b(!0),y("");try{const _={startDate:o,endDate:d,year:new Date(o).getFullYear().toString(),month:(new Date(o).getMonth()+1).toString(),commissionPercentage:h.toString()},F=await Vt.get(`/owner-statements/property/${s}`,{params:_});S(F)}catch(_){console.error("Error generating statements:",_),y(_ instanceof Error?_.message:"Failed to generate statements")}finally{b(!1)}},L=_=>new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR"}).format(_),D=()=>{if(!k||k.length===0)return;const _=k[0],X=[["Property ID","Property Name","Period","Status","Generated At"],[_.propertyId.toString(),_.propertyName,`${_.period.startDate} to ${_.period.endDate}`,_.status,new Date(_.createdAt).toLocaleString()],[],["Financial Summary"],["Total Revenue",L(_.revenue.total)],["Gross Revenue",L(_.revenue.grossRevenue)],["Net Revenue",L(_.revenue.netRevenue)],["VAT",L(_.revenue.vat)],["Commission",L(_.expenses.commission)],["Fees",L(_.expenses.fees)],["Other Expenses",L(_.expenses.other)],["Total Expenses",L(_.expenses.total)],["Net Payout",L(_.netPayout)]].map(ee=>ee.join(",")).join(`
`),ue=new Blob([X],{type:"text/csv"}),le=window.URL.createObjectURL(ue),ie=document.createElement("a");ie.href=le,ie.download=`owner-statement-${_.propertyId}-${_.period.startDate}-${_.period.endDate}.csv`,ie.click(),window.URL.revokeObjectURL(le)};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"bg-white shadow rounded-lg",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[r.jsx(Zh,{className:"w-6 h-6 mr-2"}),"Owner Statements"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Generate financial statements for property owners"})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property"}),r.jsxs("select",{value:s,onChange:_=>a(_.target.value?parseInt(_.target.value):""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Property"}),e.map(_=>r.jsx("option",{value:_.id,children:_.name},_.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),r.jsx("input",{type:"date",value:o,onChange:_=>l(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),r.jsx("input",{type:"date",value:d,onChange:_=>u(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commission %"}),r.jsxs("select",{value:h,onChange:_=>g(parseInt(_.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:10,children:"10%"}),r.jsx("option",{value:25,children:"25%"}),r.jsx("option",{value:30,children:"30%"})]})]})]}),r.jsx("div",{className:"flex justify-end mb-6",children:r.jsx("button",{onClick:C,disabled:p||!s||!o||!d,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center",children:p?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Zh,{className:"w-4 h-4 mr-2"}),"Generate Statements"]})})}),j&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:r.jsx("p",{className:"text-red-600",children:j})}),k&&k.length>0&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(xa,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Revenue"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:L(k[0].revenue.total)})]})]})}),r.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zh,{className:"w-8 h-8 text-orange-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Management Commission"}),r.jsx("p",{className:"text-2xl font-bold text-orange-900",children:L(k[0].expenses.commission)})]})]})}),r.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(xa,{className:"w-8 h-8 text-green-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-green-600",children:"Net Amount Owner"}),r.jsx("p",{className:"text-2xl font-bold text-green-900",children:L(k[0].netPayout)})]})]})}),r.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(gi,{className:"w-8 h-8 text-purple-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Status"}),r.jsx("p",{className:"text-2xl font-bold text-purple-900 capitalize",children:k[0].status})]})]})})]}),r.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Financial Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Revenue:"}),r.jsx("span",{className:"font-medium",children:L(k[0].revenue.total)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Gross Revenue:"}),r.jsx("span",{className:"font-medium",children:L(k[0].revenue.grossRevenue)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Net Revenue:"}),r.jsx("span",{className:"font-medium",children:L(k[0].revenue.netRevenue)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"VAT:"}),r.jsx("span",{className:"font-medium",children:L(k[0].revenue.vat)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Commission:"}),r.jsx("span",{className:"font-medium",children:L(k[0].expenses.commission)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Fees:"}),r.jsx("span",{className:"font-medium",children:L(k[0].expenses.fees)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Other Expenses:"}),r.jsx("span",{className:"font-medium",children:L(k[0].expenses.other)})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2",children:[r.jsx("span",{className:"text-gray-900 font-semibold",children:"Net Payout:"}),r.jsx("span",{className:"font-bold text-green-600",children:L(k[0].netPayout)})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{onClick:D,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center",children:[r.jsx(_l,{className:"w-4 h-4 mr-2"}),"Download CSV"]})}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[r.jsx(Ki,{className:"w-5 h-5 mr-2"}),"Statement Details"]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Property Information"}),r.jsx("p",{className:"text-sm text-gray-900",children:k[0].propertyName}),r.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",k[0].propertyId]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Period"}),r.jsxs("p",{className:"text-sm text-gray-900",children:[new Date(k[0].period.startDate).toLocaleDateString()," - ",new Date(k[0].period.endDate).toLocaleDateString()]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Status"}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k[0].status==="paid"?"bg-green-100 text-green-800":k[0].status==="sent"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:k[0].status.toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Created"}),r.jsx("p",{className:"text-sm text-gray-900",children:new Date(k[0].createdAt).toLocaleString()})]})]})})]})]})]})]})})})},hd={async getUserProfile(){return Vt.get("/settings/profile")},async updateUserProfile(e){return Vt.put("/settings/profile",e)},async getNotificationSettings(){return Vt.get("/settings/notifications")},async updateNotificationSettings(e){return Vt.put("/settings/notifications",e)},async getSecuritySettings(){return Vt.get("/settings/security")},async updateSecuritySettings(e){return Vt.put("/settings/security",e)}},$8=()=>{const[e,t]=q.useState("profile"),[s,a]=q.useState(!1),[o,l]=q.useState(!1),[d,u]=q.useState(!1),[h,g]=q.useState(null),[p,b]=q.useState({firstName:"",lastName:"",email:"",phone:"",role:""}),[j,y]=q.useState({emailNotifications:!0,bookingAlerts:!0,paymentAlerts:!0,maintenanceAlerts:!1,weeklyReports:!0,monthlyReports:!0}),[k,S]=q.useState({twoFactorEnabled:!1,sessionTimeout:30,loginAlerts:!0}),[C,L]=q.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[D,_]=q.useState([]),{user:F,token:X}=Ot(H=>H.auth),ue=Ls();q.useEffect(()=>{F&&b({firstName:F.firstName||"",lastName:F.lastName||"",email:F.email||"",phone:"",role:F.role||""})},[F]),q.useEffect(()=>{le()},[]);const le=async()=>{if(X){a(!0);try{const H=await hd.getNotificationSettings();y(H);const K=await hd.getSecuritySettings();S(K),_([{id:"1",name:"Hostaway API",key:"ha_***",lastUsed:"2024-01-15",createdAt:"2024-01-15"},{id:"2",name:"Hostkit API",key:"hk_***",lastUsed:"2024-01-14",createdAt:"2024-01-14"}])}catch(H){console.error("Error fetching settings:",H),g({type:"error",text:"Failed to load settings"})}finally{a(!1)}}},ie=async()=>{if(X){l(!0);try{const H=await hd.updateUserProfile({name:`${p.firstName} ${p.lastName}`.trim(),phone:p.phone});g({type:"success",text:H.message}),ue(md())}catch(H){g({type:"error",text:H.response?.data?.message||"Error updating profile"})}finally{l(!1)}}},ee=async()=>{if(X){l(!0);try{const H=await hd.updateNotificationSettings(j);g({type:"success",text:H.message})}catch(H){g({type:"error",text:H.response?.data?.message||"Error updating notification settings"})}finally{l(!1)}}},me=async()=>{if(X){l(!0);try{const H=await hd.updateSecuritySettings(k);g({type:"success",text:H.message})}catch(H){g({type:"error",text:H.response?.data?.message||"Error updating security settings"})}finally{l(!1)}}},O=async()=>{if(X){if(C.newPassword!==C.confirmPassword){g({type:"error",text:"New passwords do not match"});return}l(!0);try{await new Promise(H=>setTimeout(H,1e3)),g({type:"success",text:"Password changed successfully"}),L({currentPassword:"",newPassword:"",confirmPassword:""})}catch{g({type:"error",text:"Error changing password"})}finally{l(!1)}}},B=async()=>{if(!X)return;const H=prompt("Enter a name for the API key:");if(H){l(!0);try{await new Promise(V=>setTimeout(V,1e3));const K={id:Date.now().toString(),name:H,key:"new_key_***",lastUsed:new Date().toISOString().split("T")[0],createdAt:new Date().toISOString().split("T")[0]};_([...D,K]),g({type:"success",text:"API key created successfully"})}catch{g({type:"error",text:"Error creating API key"})}finally{l(!1)}}},te=async H=>{if(X&&confirm("Are you sure you want to delete this API key?")){l(!0);try{await new Promise(K=>setTimeout(K,1e3)),_(D.filter(K=>K.id!==H)),g({type:"success",text:"API key deleted successfully"})}catch{g({type:"error",text:"Error deleting API key"})}finally{l(!1)}}},re=H=>new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Sd,{className:"h-12 w-12 animate-spin text-primary-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Settings"}),r.jsx("p",{className:"text-slate-400 mt-1",children:"Manage your account settings and preferences"})]}),h&&r.jsxs("div",{className:`p-4 rounded-lg flex items-center ${h.type==="success"?"bg-green-50 text-green-800":h.type==="error"?"bg-red-50 text-red-800":"bg-blue-50 text-blue-800"}`,children:[h.type==="success"?r.jsx(Lo,{className:"h-5 w-5 mr-2"}):h.type==="error"?r.jsx(Ln,{className:"h-5 w-5 mr-2"}):r.jsx(s0,{className:"h-5 w-5 mr-2"}),h.text,r.jsx("button",{onClick:()=>g(null),className:"ml-auto text-gray-400 hover:text-gray-600",children:r.jsx(Ln,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"profile",name:"Profile",icon:pi},{id:"notifications",name:"Notifications",icon:z2},{id:"security",name:"Security",icon:Ma},{id:"api",name:"API Keys",icon:yu}].map(H=>{const K=H.icon;return r.jsxs("button",{onClick:()=>t(H.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${e===H.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(K,{className:"h-4 w-4 mr-2"}),H.name]},H.id)})})}),e==="profile"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"})}),r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),r.jsx("input",{type:"text",value:p.firstName,onChange:H=>b({...p,firstName:H.target.value}),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",value:p.lastName,onChange:H=>b({...p,lastName:H.target.value}),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",value:p.email,onChange:H=>b({...p,email:H.target.value}),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),r.jsx("input",{type:"tel",value:p.phone,onChange:H=>b({...p,phone:H.target.value}),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),r.jsx("input",{type:"text",value:p.role,disabled:!0,className:"input bg-gray-50"})]})]}),r.jsx("div",{className:"mt-6",children:r.jsxs("button",{onClick:ie,disabled:o,className:"btn-primary",children:[r.jsx(ic,{className:"h-4 w-4 mr-2"}),o?"Saving...":"Save Changes"]})})]})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Change Password"})}),r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:d?"text":"password",value:C.currentPassword,onChange:H=>L({...C,currentPassword:H.target.value}),className:"input pr-10"}),r.jsx("button",{type:"button",onClick:()=>u(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?r.jsx(r0,{className:"h-4 w-4"}):r.jsx(Oa,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),r.jsx("input",{type:"password",value:C.newPassword,onChange:H=>L({...C,newPassword:H.target.value}),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),r.jsx("input",{type:"password",value:C.confirmPassword,onChange:H=>L({...C,confirmPassword:H.target.value}),className:"input"})]})]}),r.jsx("div",{className:"mt-6",children:r.jsxs("button",{onClick:O,disabled:o,className:"btn-primary",children:[r.jsx(ic,{className:"h-4 w-4 mr-2"}),o?"Changing...":"Change Password"]})})]})]})]}),e==="notifications"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email Notifications"})}),r.jsxs("div",{className:"card-content",children:[r.jsx("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",description:"Receive email notifications"},{key:"bookingAlerts",label:"Booking Alerts",description:"Get notified about new bookings"},{key:"paymentAlerts",label:"Payment Alerts",description:"Get notified about payments"},{key:"maintenanceAlerts",label:"Maintenance Alerts",description:"Get notified about maintenance issues"},{key:"weeklyReports",label:"Weekly Reports",description:"Receive weekly performance reports"},{key:"monthlyReports",label:"Monthly Reports",description:"Receive monthly performance reports"}].map(H=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:H.label}),r.jsx("p",{className:"text-sm text-gray-500",children:H.description})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:j[H.key],onChange:K=>y({...j,[H.key]:K.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]},H.key))}),r.jsx("div",{className:"mt-6",children:r.jsxs("button",{onClick:ee,disabled:o,className:"btn-primary",children:[r.jsx(ic,{className:"h-4 w-4 mr-2"}),o?"Saving...":"Save Settings"]})})]})]})}),e==="security"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Security Settings"})}),r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:k.twoFactorEnabled,onChange:H=>S({...k,twoFactorEnabled:H.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (minutes)"}),r.jsxs("select",{value:k.sessionTimeout,onChange:H=>S({...k,sessionTimeout:parseInt(H.target.value)}),className:"input",children:[r.jsx("option",{value:15,children:"15 minutes"}),r.jsx("option",{value:30,children:"30 minutes"}),r.jsx("option",{value:60,children:"1 hour"}),r.jsx("option",{value:120,children:"2 hours"}),r.jsx("option",{value:480,children:"8 hours"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Login Alerts"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when someone logs into your account"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:k.loginAlerts,onChange:H=>S({...k,loginAlerts:H.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]}),r.jsx("div",{className:"mt-6",children:r.jsxs("button",{onClick:me,disabled:o,className:"btn-primary",children:[r.jsx(ic,{className:"h-4 w-4 mr-2"}),o?"Saving...":"Save Settings"]})})]})]})}),e==="api"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"API Keys"}),r.jsxs("button",{onClick:B,disabled:o,className:"btn-primary btn-sm",children:[r.jsx(yu,{className:"h-4 w-4 mr-2"}),"Create API Key"]})]})}),r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"space-y-4",children:[D.map(H=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:H.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Created: ",H.createdAt?re(H.createdAt):"Unknown",H.lastUsed&&`  Last used: ${re(H.lastUsed)}`]}),r.jsxs("p",{className:"text-xs text-gray-400 font-mono mt-1",children:[H.key.substring(0,8),"...",H.key.substring(H.key.length-8)]})]}),r.jsx("button",{onClick:()=>te(H.id),className:"btn-danger btn-sm",children:"Delete"})]},H.id)),D.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(yu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No API Keys"}),r.jsx("p",{className:"text-gray-500",children:"Create your first API key to get started."})]})]})})]})})]})},V8=()=>{const[e,t]=q.useState(!1),[s,a]=q.useState(!1),[o,l]=q.useState(!1),[d,u]=q.useState(null),[h,g]=q.useState({firstName:"",lastName:"",email:"",phone:"",role:""}),{user:p,token:b}=Ot(C=>C.auth),j=Ls();q.useEffect(()=>{if(p){const C=(p.name||"").split(" ");g({firstName:C[0]||"",lastName:C.slice(1).join(" ")||"",email:p.email||"",phone:"",role:p.role||""})}},[p]);const y=async()=>{if(b){l(!0);try{const C=await hd.updateUserProfile({name:`${h.firstName} ${h.lastName}`.trim(),phone:h.phone});u({type:"success",text:C.message}),j(md()),t(!1)}catch(C){u({type:"error",text:C.response?.data?.message||"Error updating profile"})}finally{l(!1)}}},k=()=>{if(p){const C=(p.name||"").split(" ");g({firstName:C[0]||"",lastName:C.slice(1).join(" ")||"",email:p.email||"",phone:"",role:p.role||""})}t(!1),u(null)},S=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Profile"}),r.jsx("p",{className:"text-slate-400 mt-1",children:"View and manage your profile information"})]}),d&&r.jsxs("div",{className:`p-4 rounded-lg flex items-center ${d.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[d.type==="success"?r.jsx(ic,{className:"h-5 w-5 mr-2"}):r.jsx(Ln,{className:"h-5 w-5 mr-2"}),d.text,r.jsx("button",{onClick:()=>u(null),className:"ml-auto text-gray-400 hover:text-gray-600",children:r.jsx(Ln,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"}),e?r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:k,className:"btn-secondary btn-sm",children:[r.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Cancel"]}),r.jsxs("button",{onClick:y,disabled:o,className:"btn-primary btn-sm",children:[r.jsx(ic,{className:"h-4 w-4 mr-2"}),o?"Saving...":"Save Changes"]})]}):r.jsxs("button",{onClick:()=>t(!0),className:"btn-primary btn-sm",children:[r.jsx(To,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]})}),r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(pi,{className:"h-4 w-4 inline mr-2"}),"First Name"]}),r.jsx("input",{type:"text",value:h.firstName,onChange:C=>g({...h,firstName:C.target.value}),disabled:!e,className:`input ${e?"":"bg-gray-50"}`})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(pi,{className:"h-4 w-4 inline mr-2"}),"Last Name"]}),r.jsx("input",{type:"text",value:h.lastName,onChange:C=>g({...h,lastName:C.target.value}),disabled:!e,className:`input ${e?"":"bg-gray-50"}`})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(cc,{className:"h-4 w-4 inline mr-2"}),"Email"]}),r.jsx("input",{type:"email",value:h.email,disabled:!0,className:"input bg-gray-50"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(R0,{className:"h-4 w-4 inline mr-2"}),"Phone"]}),r.jsx("input",{type:"tel",value:h.phone,onChange:C=>g({...h,phone:C.target.value}),disabled:!e,className:`input ${e?"":"bg-gray-50"}`,placeholder:"Enter phone number"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ma,{className:"h-4 w-4 inline mr-2"}),"Role"]}),r.jsx("input",{type:"text",value:h.role,disabled:!0,className:"input bg-gray-50"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ns,{className:"h-4 w-4 inline mr-2"}),"Member Since"]}),r.jsx("input",{type:"text",value:p?.createdAt?S(p.createdAt):"N/A",disabled:!0,className:"input bg-gray-50"})]})]})})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Account Status"})}),r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${p?.isVerified?"bg-green-500":"bg-yellow-500"}`}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:p?.isVerified?"Verified Account":"Pending Verification"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ma,{className:"h-4 w-4 text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-600 capitalize",children:p?.role||"User"})]})]})})]})]})},H8=()=>{const[e,t]=q.useState([]),[s,a]=q.useState([]),[o,l]=q.useState(!0),[d,u]=q.useState(0),[h,g]=q.useState({}),[p,b]=q.useState(392776),[j,y]=q.useState({start:new Date().toISOString().split("T")[0],end:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0]}),[k,S]=q.useState(!1),[C,L]=q.useState(!1),[D,_]=q.useState(!1),[F,X]=q.useState(null),[ue,le]=q.useState("all"),[ie,ee]=q.useState([]),[me,O]=q.useState("single"),[B,te]=q.useState([p||392776]),[re,H]=q.useState("events"),{properties:K}=Ot(ge=>ge.properties),{token:V,user:Z}=Ot(ge=>ge.auth);q.useEffect(()=>{V&&(pe(),we())},[V,p,j]);const pe=async()=>{if(!V||!p){console.log("No token or property selected for fetching events"),l(!1);return}l(!0);try{const ge=new URLSearchParams({propertyId:p.toString(),startDate:j.start,endDate:j.end});console.log("Fetching advanced calendar events from:",`/advanced-calendar/events?${ge}`),console.log("Using token:",V.substring(0,20)+"...");const De=await Vt.get(`/advanced-calendar/events?${ge}`);console.log("Advanced calendar events data received:",De),t(De.events||[]),u(De.total||0),g(De.sources||{})}catch(ge){console.error("Error fetching advanced calendar events:",ge),t([])}finally{l(!1)}},we=async()=>{if(!V){console.log("No token available for fetching bulk operations");return}try{console.log("Fetching bulk operations from:","/advanced-calendar/bulk-operations");const ge=await Vt.get("/advanced-calendar/bulk-operations");console.log("Bulk operations data received:",ge),a(ge.operations||[])}catch(ge){console.error("Error fetching bulk operations:",ge),a([])}},J=async ge=>{if(!(!V||!p))try{await Vt.post("/advanced-calendar/events",{...ge,propertyId:p}),pe(),S(!1)}catch(De){console.error("Error creating event:",De)}},E=async ge=>{if(!(!V||!ge.id))try{await Vt.put(`/advanced-calendar/events/${ge.id}`,ge),pe(),L(!1),X(null)}catch(De){console.error("Error updating event:",De)}},R=async ge=>{if(V&&confirm("Are you sure you want to delete this event?"))try{await Vt.delete(`/advanced-calendar/events/${ge}`),pe()}catch(De){console.error("Error deleting event:",De)}},G=async ge=>{if(V)try{await Vt.post("/advanced-calendar/bulk-operations",ge),we(),_(!1)}catch(De){console.error("Error creating bulk operation:",De)}},oe=ge=>new Date(ge).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),$=ge=>new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}).format(ge),fe=ge=>({block:"bg-red-100 text-red-800",price_update:"bg-blue-100 text-blue-800",minimum_stay:"bg-yellow-100 text-yellow-800",maintenance:"bg-orange-100 text-orange-800",cleaning:"bg-green-100 text-green-800"})[ge]||"bg-gray-100 text-gray-800",ke=ge=>({active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"})[ge]||"bg-gray-100 text-gray-800",Se=ge=>({hostaway:"bg-blue-100 text-blue-800",hostkit:"bg-purple-100 text-purple-800",manual:"bg-gray-100 text-gray-800"})[ge]||"bg-gray-100 text-gray-800",Te=ge=>{switch(ge){case"hostaway":return r.jsx(Jn,{className:"h-3 w-3"});case"hostkit":return r.jsx(Sd,{className:"h-3 w-3"});case"manual":return r.jsx(To,{className:"h-3 w-3"});default:return r.jsx(s0,{className:"h-3 w-3"})}};return o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dr,{className:"h-12 w-12 animate-spin text-primary-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading calendar events..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Advanced Calendar"}),r.jsx("p",{className:"text-slate-400 mt-1",children:"Manage calendar events, bulk operations, and pricing"})]}),r.jsxs("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[r.jsxs("button",{className:"btn-outline btn-sm",children:[r.jsx(_l,{className:"h-4 w-4 mr-2"}),"Export"]}),r.jsxs("button",{onClick:()=>_(!0),className:"btn-outline btn-sm",children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Bulk Operations"]}),r.jsxs("button",{onClick:()=>S(!0),className:"btn-primary btn-sm",children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Create Event"]})]})]}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property"}),r.jsx(Ba,{properties:K,selectedId:p,onChange:b,placeholder:"Select Property"})]}),r.jsxs("div",{className:"w-full lg:w-48",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),r.jsx("input",{type:"date",value:j.start,onChange:ge=>y({...j,start:ge.target.value}),className:"input"})]}),r.jsxs("div",{className:"w-full lg:w-48",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),r.jsx("input",{type:"date",value:j.end,onChange:ge=>y({...j,end:ge.target.value}),className:"input"})]})]})})}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"events",name:"Calendar Events",icon:Ns},{id:"bulk",name:"Bulk Operations",icon:Ru},{id:"templates",name:"Templates",icon:ic}].map(ge=>{const De=ge.icon;return r.jsxs("button",{onClick:()=>H(ge.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${re===ge.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(De,{className:"h-4 w-4 mr-2"}),ge.name]},ge.id)})})}),re==="events"&&r.jsx("div",{className:"space-y-4",children:e.map(ge=>r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${fe(ge.type)}`,children:ge.type.replace("_"," ")}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ke(ge.status)}`,children:ge.status}),ge.source&&r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Se(ge.source)}`,children:[Te(ge.source),r.jsx("span",{className:"ml-1",children:ge.source})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[oe(ge.startDate)," - ",oe(ge.endDate)]})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:ge.title}),ge.description&&r.jsx("p",{className:"text-gray-700 mb-2",children:ge.description}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Jn,{className:"h-4 w-4 mr-1"}),ge.propertyName]}),ge.price&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(xa,{className:"h-4 w-4 mr-1"}),$(ge.price)]}),ge.minimumStay&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Do,{className:"h-4 w-4 mr-1"}),ge.minimumStay," nights min"]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(gi,{className:"h-4 w-4 mr-1"}),ge.createdBy]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsxs("button",{onClick:()=>{X(ge),L(!0)},className:"btn-outline btn-sm",children:[r.jsx(To,{className:"h-4 w-4 mr-2"}),"Edit"]}),r.jsxs("button",{onClick:()=>R(ge.id),className:"btn-danger btn-sm",children:[r.jsx(Kf,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})},ge.id))}),re==="bulk"&&r.jsx("div",{className:"space-y-4",children:s.map(ge=>r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${fe(ge.type)}`,children:ge.type.replace("_"," ")}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ke(ge.status)}`,children:ge.status}),r.jsx("span",{className:"text-sm text-gray-500",children:oe(ge.createdAt)})]}),r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Bulk ",ge.type.replace("_"," ")," Operation"]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Jn,{className:"h-4 w-4 mr-1"}),ge.properties.length," properties"]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ns,{className:"h-4 w-4 mr-1"}),ge.dates.length," dates"]}),ge.parameters.price&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(xa,{className:"h-4 w-4 mr-1"}),$(ge.parameters.price)]})]}),ge.results&&r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsxs("span",{className:"text-green-600",children:[r.jsx(Dn,{className:"h-4 w-4 inline mr-1"}),ge.results.success," successful"]}),r.jsxs("span",{className:"text-red-600",children:[r.jsx(En,{className:"h-4 w-4 inline mr-1"}),ge.results.failed," failed"]})]})]}),r.jsx("div",{className:"flex items-center space-x-2 ml-4",children:ge.status==="completed"&&r.jsxs("button",{className:"btn-outline btn-sm",children:[r.jsx(s0,{className:"h-4 w-4 mr-2"}),"View Details"]})})]})})},ge.id))}),re==="templates"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Event Templates"})}),r.jsx("div",{className:"card-content",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{name:"Maintenance Block",type:"block",description:"Block dates for maintenance work"},{name:"Cleaning Schedule",type:"cleaning",description:"Schedule cleaning between bookings"},{name:"Price Increase",type:"price_update",description:"Increase prices for peak season"},{name:"Minimum Stay Update",type:"minimum_stay",description:"Set minimum stay requirements"},{name:"Holiday Block",type:"block",description:"Block dates for personal use"},{name:"Seasonal Pricing",type:"price_update",description:"Apply seasonal pricing rules"}].map((ge,De)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary-300 cursor-pointer",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:ge.name}),r.jsx("p",{className:"text-sm text-gray-500 mb-3",children:ge.description}),r.jsx("button",{className:"btn-outline btn-sm w-full",children:"Use Template"})]},De))})})]})}),e.length===0&&re==="events"&&!o&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ns,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"No events match your current filters."}),r.jsxs("button",{onClick:()=>S(!0),className:"btn-primary btn-sm",children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Create Your First Event"]})]}),s.length===0&&re==="bulk"&&!o&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ru,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bulk operations found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Create bulk operations to manage multiple properties at once."}),r.jsxs("button",{onClick:()=>_(!0),className:"btn-primary btn-sm",children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Create Bulk Operation"]})]}),k&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Event"}),r.jsxs("form",{onSubmit:ge=>{ge.preventDefault();const De=new FormData(ge.target);let Xe=[];me==="single"?Xe=[p||392776]:Xe=B.length>0?B:[p||392776],Xe.forEach(Oe=>{const ce={propertyId:Oe,type:De.get("type"),title:De.get("title"),description:De.get("description"),startDate:De.get("startDate"),endDate:De.get("endDate"),price:De.get("price")?Number(De.get("price")):void 0,minimumStay:De.get("minimumStay")?Number(De.get("minimumStay")):void 0};J(ce)})},children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Properties"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"eventPropertySelection",value:"single",checked:me==="single",onChange:ge=>O(ge.target.value),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:"Current Property"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"eventPropertySelection",value:"multiple",checked:me==="multiple",onChange:ge=>O(ge.target.value),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:"Select Properties"})]})]}),me==="multiple"&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>te(K.map(ge=>ge.id)),className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Select All"}),r.jsx("button",{type:"button",onClick:()=>te([]),className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Clear All"}),r.jsxs("span",{className:"text-xs text-gray-500 self-center",children:[B.length," selected"]})]}),r.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-md p-2",children:K.map(ge=>r.jsxs("label",{className:"flex items-center mb-1",children:[r.jsx("input",{type:"checkbox",checked:B.includes(ge.id),onChange:De=>{De.target.checked?te([...B,ge.id]):te(B.filter(Xe=>Xe!==ge.id))},className:"mr-2"}),r.jsx("span",{className:"text-sm",children:ge.name})]},ge.id))})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{name:"type",required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[r.jsx("option",{value:"block",children:"Block"}),r.jsx("option",{value:"price_update",children:"Price Update"}),r.jsx("option",{value:"minimum_stay",children:"Minimum Stay"}),r.jsx("option",{value:"maintenance",children:"Maintenance"}),r.jsx("option",{value:"cleaning",children:"Cleaning"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),r.jsx("input",{name:"title",type:"text",required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{name:"description",className:"w-full border border-gray-300 rounded-md px-3 py-2",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),r.jsx("input",{name:"startDate",type:"date",required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),r.jsx("input",{name:"endDate",type:"date",required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ()"}),r.jsx("input",{name:"price",type:"number",step:"0.01",className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Stay (nights)"}),r.jsx("input",{name:"minimumStay",type:"number",className:"w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{type:"button",onClick:()=>{S(!1),O("single"),te([p||392776])},className:"btn-outline btn-sm",children:"Cancel"}),r.jsx("button",{type:"submit",className:"btn-primary btn-sm",children:"Create Event"})]})]})]})}),C&&F&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit Event"}),r.jsxs("form",{onSubmit:ge=>{ge.preventDefault();const De=new FormData(ge.target),Xe={id:F.id,propertyId:F.propertyId,type:De.get("type"),title:De.get("title"),description:De.get("description"),startDate:De.get("startDate"),endDate:De.get("endDate"),price:De.get("price")?Number(De.get("price")):void 0,minimumStay:De.get("minimumStay")?Number(De.get("minimumStay")):void 0};E(Xe)},children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property"}),r.jsxs("div",{className:"p-2 bg-gray-50 rounded-md text-sm text-gray-600",children:[F.propertyName," (ID: ",F.propertyId,")"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{name:"type",defaultValue:F.type,required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[r.jsx("option",{value:"block",children:"Block"}),r.jsx("option",{value:"price_update",children:"Price Update"}),r.jsx("option",{value:"minimum_stay",children:"Minimum Stay"}),r.jsx("option",{value:"maintenance",children:"Maintenance"}),r.jsx("option",{value:"cleaning",children:"Cleaning"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),r.jsx("input",{name:"title",type:"text",defaultValue:F.title,required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{name:"description",defaultValue:F.description,className:"w-full border border-gray-300 rounded-md px-3 py-2",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),r.jsx("input",{name:"startDate",type:"date",defaultValue:F.startDate,required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),r.jsx("input",{name:"endDate",type:"date",defaultValue:F.endDate,required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ()"}),r.jsx("input",{name:"price",type:"number",step:"0.01",defaultValue:F.price,className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Stay (nights)"}),r.jsx("input",{name:"minimumStay",type:"number",defaultValue:F.minimumStay,className:"w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{type:"button",onClick:()=>{L(!1),X(null)},className:"btn-outline btn-sm",children:"Cancel"}),r.jsx("button",{type:"submit",className:"btn-primary btn-sm",children:"Update Event"})]})]})]})}),D&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Bulk Operation"}),r.jsxs("form",{onSubmit:ge=>{ge.preventDefault();const De=new FormData(ge.target);let Xe=[];ue==="all"?Xe=K.map(ce=>ce.id):Xe=ie.length>0?ie:[p||392776];const Oe={type:De.get("type"),properties:Xe,dates:[De.get("date")],parameters:{price:De.get("price")?Number(De.get("price")):void 0,minimumStay:De.get("minimumStay")?Number(De.get("minimumStay")):void 0,reason:De.get("reason"),maintenanceType:De.get("maintenanceType"),cleaningType:De.get("cleaningType"),checkInAvailable:De.get("checkInAvailable")==="true",checkOutAvailable:De.get("checkOutAvailable")==="true"}};G(Oe)},children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{name:"type",required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2",onChange:ge=>{document.getElementById("price-field")?.classList.add("hidden"),document.getElementById("minimum-stay-field")?.classList.add("hidden"),document.getElementById("maintenance-field")?.classList.add("hidden"),document.getElementById("cleaning-field")?.classList.add("hidden"),document.getElementById("coa-cod-field")?.classList.add("hidden");const De=ge.target.value;De==="price_update"?document.getElementById("price-field")?.classList.remove("hidden"):De==="minimum_stay_update"?document.getElementById("minimum-stay-field")?.classList.remove("hidden"):De==="maintenance"?document.getElementById("maintenance-field")?.classList.remove("hidden"):De==="cleaning"?document.getElementById("cleaning-field")?.classList.remove("hidden"):De==="coa_cod"&&document.getElementById("coa-cod-field")?.classList.remove("hidden")},children:[r.jsx("option",{value:"block_dates",children:"Block Dates"}),r.jsx("option",{value:"price_update",children:"Price Update"}),r.jsx("option",{value:"minimum_stay_update",children:"Minimum Stay Update"}),r.jsx("option",{value:"maintenance",children:"Maintenance"}),r.jsx("option",{value:"cleaning",children:"Cleaning"}),r.jsx("option",{value:"coa_cod",children:"Check-in/Check-out Control"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Properties"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"propertySelection",value:"all",checked:ue==="all",onChange:ge=>le(ge.target.value),className:"mr-2"}),r.jsxs("span",{className:"text-sm",children:["All Properties (",K.length,")"]})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"propertySelection",value:"selected",checked:ue==="selected",onChange:ge=>le(ge.target.value),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:"Select Properties"})]})]}),ue==="selected"&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>ee(K.map(ge=>ge.id)),className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Select All"}),r.jsx("button",{type:"button",onClick:()=>ee([]),className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Clear All"}),r.jsxs("span",{className:"text-xs text-gray-500 self-center",children:[ie.length," selected"]})]}),r.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-md p-2",children:K.map(ge=>r.jsxs("label",{className:"flex items-center mb-1",children:[r.jsx("input",{type:"checkbox",checked:ie.includes(ge.id),onChange:De=>{De.target.checked?ee([...ie,ge.id]):ee(ie.filter(Xe=>Xe!==ge.id))},className:"mr-2"}),r.jsx("span",{className:"text-sm",children:ge.name})]},ge.id))})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),r.jsx("input",{name:"date",type:"date",required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),r.jsxs("div",{id:"price-field",className:"hidden",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ()"}),r.jsx("input",{name:"price",type:"number",step:"0.01",className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),r.jsxs("div",{id:"minimum-stay-field",className:"hidden",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Stay (nights)"}),r.jsx("input",{name:"minimumStay",type:"number",className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),r.jsxs("div",{id:"maintenance-field",className:"hidden",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maintenance Type"}),r.jsx("input",{name:"maintenanceType",type:"text",placeholder:"e.g., HVAC, Plumbing, Electrical",className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),r.jsxs("div",{id:"cleaning-field",className:"hidden",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cleaning Type"}),r.jsx("input",{name:"cleaningType",type:"text",placeholder:"e.g., Deep Clean, Regular Clean, Post-Construction",className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),r.jsx("div",{id:"coa-cod-field",className:"hidden",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Available"}),r.jsxs("select",{name:"checkInAvailable",className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[r.jsx("option",{value:"true",children:"Yes"}),r.jsx("option",{value:"false",children:"No"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Available"}),r.jsxs("select",{name:"checkOutAvailable",className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[r.jsx("option",{value:"true",children:"Yes"}),r.jsx("option",{value:"false",children:"No"})]})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason/Description"}),r.jsx("input",{name:"reason",type:"text",placeholder:"Optional reason or description",className:"w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{type:"button",onClick:()=>{_(!1),le("all"),ee([])},className:"btn-outline btn-sm",children:"Cancel"}),r.jsx("button",{type:"submit",className:"btn-primary btn-sm",children:"Create Bulk Operation"})]})]})]})})]})},W8=()=>{const e=Ls(),{properties:t}=Ot($=>$.properties),[s,a]=q.useState("automations"),[o,l]=q.useState([]),[d,u]=q.useState([]),[h,g]=q.useState([]),[p,b]=q.useState(!0),[j,y]=q.useState({}),[k,S]=q.useState(null),[C,L]=q.useState(!1),[D,_]=q.useState(!1),[F,X]=q.useState(!1),[ue,le]=q.useState(!1),[ie,ee]=q.useState(null),[me,O]=q.useState(null),[B,te]=q.useState({name:"",description:"",type:"saft_generation",schedule:"0 9 2 * *",config:{emailNotification:!0,autoFix:!1},propertyId:null});q.useEffect(()=>{e(wd())},[e]),q.useEffect(()=>{re()},[k]);const re=async()=>{b(!0);try{const fe={Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},ke=k?`?propertyId=${k}`:"",[Se,Te,ge]=await Promise.all([fetch(`/automations${ke}`,{headers:fe}),fetch("/automations/templates",{headers:fe}),fetch("/automations/activity?limit=50",{headers:fe})]);if(Se.ok){const De=await Se.json();console.log("Automations data received:",De),l(De.automations||[])}else console.error("Automations request failed:",Se.status);if(Te.ok){const De=await Te.json();console.log("Templates data received:",De),u(De.templates||[])}else console.error("Templates request failed:",Te.status);if(ge.ok){const De=await ge.json();console.log("Activities data received:",De),g(De.activities||[])}else console.error("Activities request failed:",ge.status)}catch($){console.error("Error fetching data:",$)}finally{b(!1)}},H=async $=>{y(fe=>({...fe,[`run-${$}`]:!0}));try{const fe=localStorage.getItem("token");(await fetch(`/automations/${$}/run`,{method:"POST",headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"}})).ok&&await re()}catch(fe){console.error("Error running automation:",fe)}finally{y(fe=>({...fe,[`run-${$}`]:!1}))}},K=$=>{const fe=o.find(ke=>ke.id===$);fe&&(ee(fe),X(!0))},V=$=>{const fe=o.find(ke=>ke.id===$);fe&&(O(fe),le(!0))},Z=()=>{te({name:"",description:"",type:"saft_generation",schedule:"0 9 2 * *",config:{emailNotification:!0,autoFix:!1},propertyId:k}),L(!0)},pe=async()=>{try{const $=localStorage.getItem("token");(await fetch("/automations",{method:"POST",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify(B)})).ok?(L(!1),await re()):console.error("Failed to create automation")}catch($){console.error("Error creating automation:",$)}},we=async $=>{y(fe=>({...fe,[`template-${$}`]:!0}));try{const fe=localStorage.getItem("token");(await fetch(`/automations/templates/${$}/create`,{method:"POST",headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"}})).ok&&(await re(),_(!1))}catch(fe){console.error("Error creating from template:",fe)}finally{y(fe=>({...fe,[`template-${$}`]:!1}))}},J=$=>{switch($){case"saft_generation":return Ki;case"siba_alerts":return pd;case"calendar_sync":return Do;default:return ap}},E=$=>{switch($){case"saft_generation":return"bg-blue-100 text-blue-800";case"siba_alerts":return"bg-orange-100 text-orange-800";case"calendar_sync":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},R=$=>{switch($){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"disabled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},G=$=>{switch($){case"success":return"bg-green-100 text-green-800";case"warning":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},oe=$=>new Date($).toLocaleDateString();return p?r.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dr,{className:"h-12 w-12 animate-spin text-green-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading automations..."})]})}):r.jsx("div",{className:"min-h-screen bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Automations"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Automate your property management workflows"})]}),r.jsxs("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[r.jsxs("button",{onClick:()=>_(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[r.jsx(ep,{className:"h-4 w-4 mr-2"}),"Templates"]}),r.jsxs("button",{onClick:Z,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Create Automation"]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:r.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property"}),r.jsx(Ba,{properties:t,selectedId:k,onChange:S,placeholder:"All Properties"})]})})}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"automations",name:"My Automations",icon:ap},{id:"templates",name:"Templates",icon:ep},{id:"activity",name:"Activity",icon:Do}].map($=>{const fe=$.icon;return r.jsxs("button",{onClick:()=>a($.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${s===$.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(fe,{className:"h-4 w-4 mr-2"}),$.name]},$.id)})})}),s==="automations"&&r.jsx("div",{className:"space-y-6",children:o&&o.length>0?o.map($=>{const fe=J($.type);return r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx(fe,{className:"h-5 w-5 text-gray-400"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E($.type)}`,children:$.type}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R($.status)}`,children:$.status}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Schedule: ",$.schedule]})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:$.name}),r.jsx("p",{className:"text-gray-700 mb-3",children:$.description}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[r.jsxs("span",{children:["Runs: ",$.runCount]}),$.lastRunAt&&r.jsxs("span",{children:["Last run: ",oe($.lastRunAt)]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsxs("button",{onClick:()=>H($.id),disabled:j[`run-${$.id}`],className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[j[`run-${$.id}`]?r.jsx(Dr,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(v3,{className:"h-4 w-4 mr-2"}),j[`run-${$.id}`]?"Running...":"Run"]}),r.jsxs("button",{onClick:()=>K($.id),className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[r.jsx(Oa,{className:"h-4 w-4 mr-2"}),"View"]}),r.jsxs("button",{onClick:()=>V($.id),className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[r.jsx(To,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]})},$.id)}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ap,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No automations found"}),r.jsx("p",{className:"text-gray-500",children:"Create your first automation to get started."})]})}),s==="templates"&&r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d&&d.length>0?d.map($=>{const fe=J($.type);return r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(fe,{className:"h-5 w-5 text-gray-400"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E($.type)}`,children:$.type})]}),r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Template"})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:$.name}),r.jsx("p",{className:"text-gray-700 mb-4 flex-grow",children:$.description}),r.jsxs("button",{onClick:()=>we($.id),disabled:j[`template-${$.id}`],className:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 w-full disabled:opacity-50 disabled:cursor-not-allowed",children:[j[`template-${$.id}`]?r.jsx(Dr,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(fi,{className:"h-4 w-4 mr-2"}),j[`template-${$.id}`]?"Creating...":"Use Template"]})]})},$.id)}):r.jsxs("div",{className:"col-span-full text-center py-12",children:[r.jsx(ep,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No templates available"}),r.jsx("p",{className:"text-gray-500",children:"Templates will appear here when available."})]})})}),s==="activity"&&r.jsx("div",{className:"space-y-6",children:h&&h.length>0?h.map($=>r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${G($.status)}`,children:$.status}),r.jsx("span",{className:"text-sm text-gray-500",children:oe($.timestamp)})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:$.automationName}),r.jsx("p",{className:"text-gray-700 mb-2",children:$.message}),$.details&&r.jsx("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded text-sm text-gray-800",children:$.automationId==="saft_monthly"&&$.details.saftDownloadUrl?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"SAFT File Generated"}),r.jsxs("p",{className:"text-gray-600",children:["Property ",$.details.propertyId," - ",$.details.year,"-",$.details.month?.toString().padStart(2,"0")]})]}),r.jsxs("button",{onClick:()=>{const fe=document.createElement("a");fe.href=$.details.saftDownloadUrl,fe.download=$.details.fileName,fe.click()},className:"inline-flex items-center px-3 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[r.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Download SAFT"]})]}):r.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify($.details,null,2)})})]}),r.jsx("div",{className:"flex items-center space-x-2 ml-4",children:r.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[r.jsx(Oa,{className:"h-4 w-4 mr-2"}),"View Details"]})})]})},$.id)):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Do,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No activity found"}),r.jsx("p",{className:"text-gray-500",children:"Activity logs will appear here when automations run."})]})}),C&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create Automation"})}),r.jsxs("div",{className:"px-6 py-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),r.jsx("input",{type:"text",value:B.name,onChange:$=>te({...B,name:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Enter automation name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:B.description,onChange:$=>te({...B,description:$.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Describe what this automation does"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),r.jsxs("select",{value:B.type,onChange:$=>te({...B,type:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[r.jsx("option",{value:"saft_generation",children:"SAFT Generation"}),r.jsx("option",{value:"siba_alerts",children:"SIBA Alerts"}),r.jsx("option",{value:"calendar_sync",children:"Calendar Sync"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule (Cron Expression)"}),r.jsx("input",{type:"text",value:B.schedule,onChange:$=>te({...B,schedule:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"0 9 2 * *"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: minute hour day month day-of-week"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property"}),r.jsxs("select",{value:B.propertyId||"",onChange:$=>te({...B,propertyId:$.target.value?Number($.target.value):null}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[r.jsx("option",{value:"",children:"All Properties"}),t&&t.map($=>r.jsx("option",{value:$.id,children:$.name},$.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Configuration (JSON)"}),r.jsx("textarea",{value:JSON.stringify(B.config,null,2),onChange:$=>{try{const fe=JSON.parse($.target.value);te({...B,config:fe})}catch{}},rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 font-mono text-sm"})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>L(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Cancel"}),r.jsx("button",{onClick:pe,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Create Automation"})]})]})}),D&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Automation Templates"})}),r.jsx("div",{className:"px-6 py-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d&&d.length>0?d.map($=>{const fe=J($.type);return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(fe,{className:"h-5 w-5 text-gray-400"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E($.type)}`,children:$.type})]}),r.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:$.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:$.description}),r.jsx("button",{onClick:()=>we($.id),disabled:j[`template-${$.id}`],className:"w-full inline-flex items-center justify-center px-3 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:j[`template-${$.id}`]?"Creating...":"Use Template"})]},$.id)}):r.jsx("div",{className:"col-span-2 text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"No templates available"})})})}),r.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:r.jsx("button",{onClick:()=>_(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Close"})})]})}),F&&ie&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[(()=>{const $=J(ie.type);return r.jsx($,{className:"h-6 w-6 text-gray-400"})})(),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:ie.name}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(ie.type)}`,children:ie.type}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R(ie.status)}`,children:ie.status})]})}),r.jsxs("div",{className:"px-6 py-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-600",children:ie.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Schedule"}),r.jsx("p",{className:"text-gray-600",children:ie.schedule})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Run Count"}),r.jsx("p",{className:"text-gray-600",children:ie.runCount})]})]}),ie.lastRunAt&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Last Run"}),r.jsx("p",{className:"text-gray-600",children:oe(ie.lastRunAt)})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Configuration"}),r.jsx("pre",{className:"bg-gray-50 p-3 rounded text-sm text-gray-600 overflow-x-auto",children:JSON.stringify(ie.config,null,2)})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>X(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Close"}),r.jsx("button",{onClick:()=>V(ie.id),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Edit Automation"})]})]})}),ue&&me&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[(()=>{const $=J(me.type);return r.jsx($,{className:"h-6 w-6 text-gray-400"})})(),r.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Edit ",me.name]})]})}),r.jsxs("div",{className:"px-6 py-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),r.jsx("input",{type:"text",value:me.name,onChange:$=>O({...me,name:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:me.description,onChange:$=>O({...me,description:$.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule (Cron Expression)"}),r.jsx("input",{type:"text",value:me.schedule,onChange:$=>O({...me,schedule:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"0 9 2 * *"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: minute hour day month day-of-week"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:me.status,onChange:$=>O({...me,status:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"paused",children:"Paused"}),r.jsx("option",{value:"disabled",children:"Disabled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Configuration (JSON)"}),r.jsx("textarea",{value:JSON.stringify(me.config,null,2),onChange:$=>{try{const fe=JSON.parse($.target.value);O({...me,config:fe})}catch{}},rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 font-mono text-sm"})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>le(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Cancel"}),r.jsx("button",{onClick:async()=>{try{const $=localStorage.getItem("token");(await fetch(`/automations/${me.id}`,{method:"PUT",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify(me)})).ok?(le(!1),await re()):console.error("Failed to update automation")}catch($){console.error("Error updating automation:",$)}},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Save Changes"})]})]})})]})})},G8=()=>{const{user:e}=Ot(ue=>ue.auth);yi();const[t,s]=q.useState(""),[a,o]=q.useState(()=>{const ue=new Date;return ue.getMonth()===0?ue.getFullYear()-1:ue.getFullYear()}),[l,d]=q.useState(()=>{const ue=new Date;return ue.getMonth()===0?12:ue.getMonth()}),[u,h]=q.useState(""),[g,p]=q.useState(!1),[b,j]=q.useState(null),[y,k]=q.useState(""),[S,C]=q.useState([]),L=Array.from({length:5},(ue,le)=>new Date().getFullYear()-2+le),D=[{value:1,name:"January"},{value:2,name:"February"},{value:3,name:"March"},{value:4,name:"April"},{value:5,name:"May"},{value:6,name:"June"},{value:7,name:"July"},{value:8,name:"August"},{value:9,name:"September"},{value:10,name:"October"},{value:11,name:"November"},{value:12,name:"December"}];q.useEffect(()=>{_()},[]);const _=async()=>{try{const ue=await $0();C(ue.properties),ue.properties.length>0&&s(ue.properties[0].id.toString())}catch(ue){console.error("Error fetching properties:",ue)}},F=async()=>{if(!t||!u){k("Please select a property and enter invoicing VAT ID");return}p(!0),k(""),j(null);try{const ue=new URLSearchParams({year:a.toString(),month:l.toString(),invoicing_nif:u}),le=await fetch(`/properties/${t}/saft/get?${ue}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(le.ok){const ie=await le.json();j(ie)}else{const ie=await le.json();k(ie.message||"Failed to retrieve SAFT")}}catch(ue){k("Network error occurred"),console.error("SAFT retrieval error:",ue)}finally{p(!1)}},X=()=>{if(b?.saft){const ue=atob(b.saft),le=new Array(ue.length);for(let B=0;B<ue.length;B++)le[B]=ue.charCodeAt(B);const ie=new Uint8Array(le),ee=new Blob([ie],{type:"application/xml"}),me=window.URL.createObjectURL(ee),O=document.createElement("a");O.href=me,O.download=`saft_${a}_${l.toString().padStart(2,"0")}.xml`,document.body.appendChild(O),O.click(),document.body.removeChild(O),window.URL.revokeObjectURL(me)}};return r.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx(n0,{className:"w-8 h-8 text-blue-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"SAFT Retrieval"})]}),r.jsx("p",{className:"text-gray-600",children:"Retrieve existing SAFT (Sistema de Apuramento de Faturas e Transaes) files for Portuguese tax compliance."})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Jn,{className:"w-4 h-4 inline mr-2"}),"Property"]}),r.jsxs("select",{value:t,onChange:ue=>s(ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select a property"}),S.map(ue=>r.jsxs("option",{value:ue.id.toString(),children:[ue.name||`Property ${ue.id}`," (ID: ",ue.id,")"]},ue.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoicing VAT ID (NIF)"}),r.jsx("input",{type:"text",value:u,onChange:ue=>h(ue.target.value),placeholder:"e.g., 234567890",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Portuguese VAT identification number (9 digits)"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ns,{className:"w-4 h-4 inline mr-2"}),"Year"]}),r.jsx("select",{value:a,onChange:ue=>o(parseInt(ue.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:L.map(ue=>r.jsx("option",{value:ue,children:ue},ue))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),r.jsx("select",{value:l,onChange:ue=>d(parseInt(ue.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:D.map(ue=>r.jsx("option",{value:ue.value,children:ue.name},ue.value))})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{onClick:F,disabled:g||!t||!u,className:"w-full md:w-auto px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Retrieving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(n0,{className:"w-4 h-4"}),r.jsx("span",{children:"Retrieve SAFT"})]})})}),y&&r.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-md flex items-start space-x-3",children:[r.jsx(En,{className:"w-5 h-5 text-red-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:y})]})]}),b&&r.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-md",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Dn,{className:"w-5 h-5 text-green-500 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-sm font-medium text-green-800",children:"SAFT Retrieved Successfully"}),r.jsxs("div",{className:"mt-2 text-sm text-green-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Generated:"})," ",new Date(b.generated).toLocaleString()]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Sent:"})," ",new Date(b.sent).toLocaleString()]})]}),r.jsxs("button",{onClick:X,className:"mt-3 inline-flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[r.jsx(_l,{className:"w-4 h-4"}),r.jsx("span",{children:"Download SAFT File"})]})]})]})})]}),r.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-3",children:"About SAFT"}),r.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[r.jsx("p",{children:"SAFT (Sistema de Apuramento de Faturas e Transaes) is a Portuguese tax compliance system that requires businesses to submit detailed transaction data to the tax authorities."}),r.jsxs("p",{children:[r.jsx("strong",{children:"Invoicing VAT ID (NIF):"})," This is your Portuguese tax identification number, typically a 9-digit number used for invoicing and tax purposes."]}),r.jsx("p",{children:"This tool retrieves existing SAFT files that have already been generated by Hostkit for the selected period. The SAFT file contains all invoice and transaction data and can be submitted directly to the Portuguese tax authorities."})]})]})]})},K8=async e=>(await Vt.get(`/api/properties/${e}`)).data,Y8=()=>{const{propertyId:e}=S0(),t=yi(),[s,a]=q.useState(null),[o,l]=q.useState(!0),[d,u]=q.useState("");q.useEffect(()=>{e&&h()},[e]);const h=async()=>{if(e){l(!0),u("");try{const p=await K8(e);a(p)}catch(p){u(p.message||"Failed to fetch property details")}finally{l(!1)}}},g=()=>{t(-1)};return o?r.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(x3,{className:"w-6 h-6 animate-spin text-blue-600"}),r.jsx("span",{className:"text-lg text-gray-600",children:"Loading property details..."})]})})}):d?r.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("button",{onClick:g,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(jd,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]})}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(En,{className:"w-5 h-5 text-red-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Error Loading Property"}),r.jsx("p",{className:"text-red-700 mt-2",children:d}),r.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]})})]}):s?r.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:g,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(jd,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx(Jn,{className:"w-8 h-8 text-blue-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.property_name})]}),r.jsxs("p",{className:"text-gray-600",children:["Property ID: ",s.id]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Jn,{className:"w-5 h-5 mr-2 text-blue-600"}),"Basic Information"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Property Name"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.property_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Property ID"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.id})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.activated==="1"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.activated==="1"?"Active":"Inactive"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Owner Email"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.owner})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(vu,{className:"w-5 h-5 mr-2 text-blue-600"}),"Location"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.address})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Postal Code"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.cp})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.localidade})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Coordinates"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[s.lat,", ",s.lon]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx($2,{className:"w-5 h-5 mr-2 text-blue-600"}),"Tax Information"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"NIF (Tax ID)"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.nif})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Invoicing NIF"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.invoicing_nif})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"SEF Order"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.seforder})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"SEF Code"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.sefcode})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Ns,{className:"w-5 h-5 mr-2 text-blue-600"}),"Check-in/Check-out Times"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Default Check-in Time"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[s.default_checkin,":00"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Default Check-out Time"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[s.default_checkout,":00"]})]})]})]})]}),r.jsxs("div",{className:"mt-8 flex space-x-4",children:[r.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Refresh Data"}),r.jsx("button",{onClick:()=>t(`/saft?property=${s.id}`),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Generate SAFT"})]})]}):r.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Property Not Found"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"The requested property could not be found."})]})})},vc="http://localhost:5000",J8=async()=>(await kr.get(`${vc}/admin/dashboard/stats`)).data.data,tb=async()=>(await kr.get(`${vc}/admin/owners`)).data.data,Q8=async e=>(await kr.post(`${vc}/admin/owners`,e)).data.data,X8=async(e,t)=>(await kr.put(`${vc}/admin/owners/${e}`,t)).data.data,Z8=async e=>{await kr.delete(`${vc}/admin/owners/${e}`)},eA=async e=>{const t=e?`${vc}/admin/properties?ownerId=${e}`:`${vc}/admin/properties`;return(await kr.get(t)).data.data},tA=()=>{const{user:e}=Ot(_=>_.auth),[t,s]=q.useState(null),[a,o]=q.useState([]),[l,d]=q.useState([]),[u,h]=q.useState("all"),[g,p]=q.useState(!0),[b,j]=q.useState(!1),[y,k]=q.useState(!1);q.useEffect(()=>{S()},[]),q.useEffect(()=>{C()},[u]);const S=async()=>{try{p(!0);const[_,F]=await Promise.all([J8(),tb()]);s(_),o(F)}catch(_){console.error("Error fetching dashboard data:",_)}finally{p(!1)}},C=async()=>{try{const F=await eA(u==="all"?void 0:u);d(F)}catch(_){console.error("Error fetching properties:",_)}},L=_=>{h(_)},D=()=>{if(u==="all")return"All Owners";const _=a.find(F=>F._id===u);return _?_.name:"Unknown Owner"};return g?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500"})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Welcome back, ",e?.name]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:u,onChange:_=>L(_.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Owners"}),a.map(_=>r.jsx("option",{value:_._id,children:_.name},_._id))]}),r.jsx(T0,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),r.jsxs("button",{onClick:()=>j(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Add Owner"]})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(gi,{className:"h-6 w-6 text-blue-600"})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Owners"}),r.jsx("dd",{className:"text-lg font-medium text-gray-900",children:t?.totalOwners||0})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Jn,{className:"h-6 w-6 text-green-600"})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Properties"}),r.jsx("dd",{className:"text-lg font-medium text-gray-900",children:t?.totalProperties||0})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(yu,{className:"h-6 w-6 text-purple-600"})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"With API Keys"}),r.jsx("dd",{className:"text-lg font-medium text-gray-900",children:t?.ownersWithApiKeys||0})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(mi,{className:"h-6 w-6 text-orange-600"})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Current View"}),r.jsx("dd",{className:"text-lg font-medium text-gray-900",children:D()})]})})]})})})]}),r.jsx("div",{className:"bg-white shadow rounded-lg",children:r.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Properties (",D(),")"]}),r.jsxs("button",{onClick:()=>k(!0),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Add Property"]})]}),l.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Jn,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No properties"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new property."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(_=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900",children:_.name||_.title||"Unnamed Property"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:r.jsx(Oa,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:r.jsx(To,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-gray-400 hover:text-red-600",children:r.jsx(Kf,{className:"h-4 w-4"})})]})]}),r.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Owner: ",_.owner?.name||"Unknown"]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",_.id||_._id]})]},_._id))})]})}),t?.recentProperties&&t.recentProperties.length>0&&r.jsx("div",{className:"mt-8 bg-white shadow rounded-lg",children:r.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Recent Properties"}),r.jsx("div",{className:"space-y-3",children:t.recentProperties.map(_=>r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.name||_.title||"Unnamed Property"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Owner: ",_.owner?.name||"Unknown"]})]}),r.jsx("span",{className:"text-sm text-gray-500",children:new Date(_.createdAt).toLocaleDateString()})]},_._id))})]})})]})]})},rA=()=>{const[e,t]=q.useState([]),[s,a]=q.useState(!0),[o,l]=q.useState(!1),[d,u]=q.useState(null),[h,g]=q.useState({name:"",email:"",phone:"",role:"owner",hostkitApiKey:"",hostkitApiSecret:""});q.useEffect(()=>{p()},[]);const p=async()=>{try{a(!0);const S=await tb();t(S)}catch(S){console.error("Error fetching owners:",S)}finally{a(!1)}},b=async S=>{S.preventDefault();try{d?await X8(d._id,h):await Q8(h),await p(),l(!1),u(null),g({name:"",email:"",phone:"",role:"owner",hostkitApiKey:"",hostkitApiSecret:""})}catch(C){console.error("Error saving owner:",C)}},j=S=>{u(S),g({name:S.name,email:S.email,phone:S.phone||"",role:S.role,hostkitApiKey:"",hostkitApiSecret:""}),l(!0)},y=async S=>{if(window.confirm("Are you sure you want to delete this owner?"))try{await Z8(S),await p()}catch(C){console.error("Error deleting owner:",C)}},k=()=>{l(!1),u(null),g({name:"",email:"",phone:"",role:"owner",hostkitApiKey:"",hostkitApiSecret:""})};return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500"})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Owner Management"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage property owners and their API credentials"})]}),r.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Add Owner"]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsx("div",{className:"bg-white shadow rounded-lg",children:r.jsx("div",{className:"px-4 py-5 sm:p-6",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"API Keys"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(S=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:r.jsx(pi,{className:"h-5 w-5 text-green-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",S._id.slice(-8)]})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm text-gray-900 flex items-center",children:[r.jsx(cc,{className:"h-4 w-4 mr-2 text-gray-400"}),S.email]}),S.phone&&r.jsxs("div",{className:"text-sm text-gray-500 flex items-center mt-1",children:[r.jsx(R0,{className:"h-4 w-4 mr-2 text-gray-400"}),S.phone]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S.role==="admin"?"bg-purple-100 text-purple-800":S.role==="owner"?"bg-green-100 text-green-800":S.role==="accountant"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[r.jsx(Ma,{className:"h-3 w-3 mr-1"}),S.role]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex items-center",children:S.hasApiKeys?r.jsxs("div",{className:"flex items-center text-green-600",children:[r.jsx(yu,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-sm",children:"Configured"})]}):r.jsxs("div",{className:"flex items-center text-gray-400",children:[r.jsx(Ln,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-sm",children:"Not Set"})]})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex items-center",children:S.isVerified?r.jsxs("div",{className:"flex items-center text-green-600",children:[r.jsx(Dn,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-sm",children:"Verified"})]}):r.jsxs("div",{className:"flex items-center text-red-600",children:[r.jsx(jl,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-sm",children:"Pending"})]})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>j(S),className:"text-green-600 hover:text-green-900",children:r.jsx(To,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>y(S._id),className:"text-red-600 hover:text-red-900",children:r.jsx(Kf,{className:"h-4 w-4"})})]})})]},S._id))})]})})})})}),o&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:d?"Edit Owner":"Add New Owner"}),r.jsx("button",{onClick:k,className:"text-gray-400 hover:text-gray-600",children:r.jsx(jl,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),r.jsx("input",{type:"text",required:!0,value:h.name,onChange:S=>g({...h,name:S.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("input",{type:"email",required:!0,value:h.email,onChange:S=>g({...h,email:S.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone (Optional)"}),r.jsx("input",{type:"tel",value:h.phone,onChange:S=>g({...h,phone:S.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),r.jsxs("select",{value:h.role,onChange:S=>g({...h,role:S.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-green-500 focus:border-green-500",children:[r.jsx("option",{value:"owner",children:"Owner"}),r.jsx("option",{value:"accountant",children:"Accountant"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hostkit API Key"}),r.jsx("input",{type:"text",value:h.hostkitApiKey,onChange:S=>g({...h,hostkitApiKey:S.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Enter Hostkit API Key"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hostkit API Secret"}),r.jsx("input",{type:"password",value:h.hostkitApiSecret,onChange:S=>g({...h,hostkitApiSecret:S.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Enter Hostkit API Secret"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:d?"Update Owner":"Create Owner"})]})]})]})})})]})},sA=({children:e,roles:t})=>{const{isAuthenticated:s,user:a}=Ot(o=>o.auth);return s?t&&a&&!t.includes(a.role)?a.role==="admin"?r.jsx(Gn,{to:"/admin/dashboard",replace:!0}):r.jsx(Gn,{to:"/dashboard/owner",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(Gn,{to:"/auth/login",replace:!0})};function nA(){const e=Ls(),{isAuthenticated:t,isLoading:s,user:a}=Ot(o=>o.auth);return q.useEffect(()=>{t&&!a&&e(md())},[e,t,a]),s&&t?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx(gc,{size:"lg"})}):r.jsx(s3,{children:r.jsxs(Pw,{children:[r.jsxs(Qt,{path:"/auth/*",element:r.jsx(D3,{}),children:[r.jsx(Qt,{path:"login",element:r.jsx(s6,{})}),r.jsx(Qt,{path:"signup",element:r.jsx(n6,{})}),r.jsx(Qt,{path:"forgot-password",element:r.jsx(a6,{})}),r.jsx(Qt,{path:"reset-password",element:r.jsx(i6,{})}),r.jsx(Qt,{index:!0,element:r.jsx(Gn,{to:"/auth/login",replace:!0})})]}),r.jsxs(Qt,{path:"/*",element:r.jsx(sA,{children:r.jsx(E3,{})}),children:[r.jsx(Qt,{index:!0,element:a?.role==="admin"?r.jsx(Gn,{to:"/admin/dashboard",replace:!0}):r.jsx(Gn,{to:"/dashboard/owner",replace:!0})}),r.jsx(Qt,{path:"dashboard/owner",element:r.jsx(c1,{})}),r.jsx(Qt,{path:"dashboard/accountant",element:r.jsx(c1,{})}),r.jsx(Qt,{path:"admin/dashboard",element:r.jsx(tA,{})}),r.jsx(Qt,{path:"admin/owners",element:r.jsx(rA,{})}),r.jsx(Qt,{path:"bookings",element:r.jsx(k6,{})}),r.jsx(Qt,{path:"bookings/:bookingId",element:r.jsx(u1,{})}),r.jsx(Qt,{path:"invoices",element:r.jsx(_6,{})}),r.jsx(Qt,{path:"tourist-tax",element:r.jsx(w8,{})}),r.jsx(Qt,{path:"tourist-tax/booking/:reservationId",element:r.jsx(u1,{})}),r.jsx(Qt,{path:"siba",element:r.jsx(S8,{})}),r.jsx(Qt,{path:"siba-manager",element:r.jsx(k8,{})}),r.jsx(Qt,{path:"saft",element:r.jsx(G8,{})}),r.jsx(Qt,{path:"property/:propertyId",element:r.jsx(Y8,{})}),r.jsx(Qt,{path:"property-management",element:r.jsx(_8,{})}),r.jsx(Qt,{path:"calendar",element:r.jsx(I8,{})}),r.jsx(Qt,{path:"performance/:propertyId?",element:r.jsx(O8,{})}),r.jsx(Qt,{path:"portfolio",element:r.jsx(M8,{})}),r.jsx(Qt,{path:"credit-notes",element:r.jsx(B8,{})}),r.jsx(Qt,{path:"expenses",element:r.jsx(U8,{})}),r.jsx(Qt,{path:"reviews",element:r.jsx(z8,{})}),r.jsx(Qt,{path:"owner-statements",element:r.jsx(q8,{})}),r.jsx(Qt,{path:"profile",element:r.jsx(V8,{})}),r.jsx(Qt,{path:"settings",element:r.jsx($8,{})}),r.jsx(Qt,{path:"advanced-calendar",element:r.jsx(H8,{})}),r.jsx(Qt,{path:"automations",element:r.jsx(W8,{})}),r.jsx(Qt,{path:"properties",element:r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Properties"}),r.jsx("p",{children:"Coming soon..."})]})})]}),r.jsx(Qt,{path:"/",element:t&&a?a.role==="admin"?r.jsx(Gn,{to:"/admin/dashboard",replace:!0}):r.jsx(Gn,{to:"/dashboard/owner",replace:!0}):r.jsx(Gn,{to:"/auth/login",replace:!0})}),r.jsx(Qt,{path:"*",element:t&&a?a.role==="admin"?r.jsx(Gn,{to:"/admin/dashboard",replace:!0}):r.jsx(Gn,{to:"/dashboard/owner",replace:!0}):r.jsx(Gn,{to:"/auth/login",replace:!0})})]})})}const aA=ej({reducer:{auth:t3,properties:b8,propertyManagement:m6,bookings:y6,invoices:C6,touristTax:y8,siba:j8,sibaManager:j6,notifications:C3},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST"]}})}),iA=new I5({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:300*1e3}}});Vb.createRoot(document.getElementById("root")).render(r.jsx(An.StrictMode,{children:r.jsx(o5,{store:aA,children:r.jsx(R5,{client:iA,children:r.jsxs(Ow,{children:[r.jsx(nA,{}),r.jsx(_N,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#374151",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e5e7eb",borderRadius:"0.75rem"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})}));export{xr as _,Vt as a,oA as c,Cy as g};
